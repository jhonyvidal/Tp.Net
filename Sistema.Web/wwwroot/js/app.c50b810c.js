(function(e){function t(t){for(var i,n,r=t[0],l=t[1],c=t[2],u=0,v=[];u<r.length;u++)n=r[u],o[n]&&v.push(o[n][0]),o[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(t);while(v.length)v.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],i=!0,r=1;r<a.length;r++){var l=a[r];0!==o[l]&&(i=!1)}i&&(s.splice(t--,1),e=n(n.s=a[0]))}return e}var i={},o={app:0},s=[];function n(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=i,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0665":function(e,t,a){e.exports=a.p+"img/TP0.1beb3b19.jpg"},"0710":function(e,t,a){e.exports=a.p+"img/TP1.3ce049a5.jpg"},"0b29":function(e,t,a){},"0dc7":function(e,t,a){"use strict";var i=a("0b29"),o=a.n(i);o.a},"0e1e":function(e,t,a){e.exports=a.p+"img/Calidad.dc35542a.jpg"},"19e5":function(e,t,a){e.exports=a.p+"img/hdl.0cb1a186.jpg"},3421:function(e,t,a){e.exports=a.p+"img/intranet.456e9806.png"},"56d7":function(e,t,a){"use strict";a.r(t);a("744f"),a("6c7b"),a("7514"),a("20d6"),a("1c4c"),a("6762"),a("cadf"),a("e804"),a("55dd"),a("d04f"),a("c8ce"),a("217b"),a("7f7f"),a("f400"),a("7f25"),a("536b"),a("d9ab"),a("f9ab"),a("32d7"),a("25c9"),a("9f3c"),a("042e"),a("c7c6"),a("f4ff"),a("049f"),a("7872"),a("a69f"),a("0b21"),a("6c1a"),a("c7c62"),a("84b4"),a("c5f6"),a("2e37"),a("fca0"),a("7cdf"),a("ee1d"),a("b1b1"),a("87f3"),a("9278"),a("5df2"),a("04ff"),a("f751"),a("4504"),a("fee7"),a("ffc1"),a("0d6d"),a("9986"),a("8e6e"),a("25db"),a("e4f7"),a("b9a1"),a("64d5"),a("9aea"),a("db97"),a("66c8"),a("57f0"),a("165b"),a("456d"),a("cf6a"),a("fd24"),a("8615"),a("551c"),a("097d"),a("df1b"),a("2397"),a("88ca"),a("ba16"),a("d185"),a("ebde"),a("2d34"),a("f6b3"),a("2251"),a("c698"),a("a19f"),a("9253"),a("9275"),a("3b2b"),a("3846"),a("4917"),a("a481"),a("28a5"),a("386d"),a("6b54"),a("4f7f"),a("8a81"),a("ac4d"),a("8449"),a("9c86"),a("fa83"),a("48c0"),a("a032"),a("aef6"),a("d263"),a("6c37"),a("9ec8"),a("5695"),a("2fdb"),a("d0b0"),a("5df3"),a("b54a"),a("f576"),a("ed50"),a("788d"),a("14b9"),a("f386"),a("f559"),a("1448"),a("673e"),a("242a"),a("c66f"),a("b05c"),a("34ef"),a("6aa2"),a("15ac"),a("af56"),a("b6e4"),a("9c29"),a("63d9"),a("4dda"),a("10ad"),a("c02b"),a("4795"),a("130f"),a("ac6a"),a("96cf");var i=a("2b0e"),o=a("d437"),s=a.n(o),n=a("3702"),r=a.n(n),l=a("0fad"),c=a.n(l),d=a("9861"),u=a.n(d),v=a("6307"),m=a.n(v),p=a("8090"),h=a.n(p),f=a("d421"),x=a.n(f),b=a("535c"),_=a.n(b),g=a("d0ba"),C=a.n(g),A=a("e1f0"),k=a.n(A),I=a("5d92"),D=a.n(I),y=a("6a6f"),N=a.n(y),E=a("d553"),O=a.n(E),w=a("12d0"),S=a.n(w),T=a("c713"),M=a.n(T),R=a("68d6"),j=a.n(R),P=a("cf3f"),z=a.n(P),L=a("db3b"),B=a.n(L),F=a("46db"),U=a.n(F),V=a("3ace"),G=a.n(V),H=a("32bc"),q=a.n(H),J=a("2330"),X=a.n(J),$=a("a582"),K=a.n($),Y=a("10a1"),Z=a.n(Y),W=a("6227"),Q=a.n(W),ee=a("fa50"),te=a.n(ee),ae=a("9f3b"),ie=a.n(ae),oe=a("3e8b"),se=a.n(oe),ne=a("74cd"),re=a.n(ne),le=a("98b7"),ce=a.n(le);a("da64");i["default"].use(s.a,{components:{VAlert:r.a,VAutocomplete:c.a,VMenu:u.a,VDatePicker:h.a,VTimePicker:m.a,VApp:x.a,VNavigationDrawer:_.a,VFooter:C.a,VList:k.a,VBtn:D.a,VIcon:N.a,VGrid:O.a,VToolbar:S.a,VCard:M.a,VDivider:j.a,VDialog:z.a,VTextField:B.a,VDataTable:U.a,VSelect:G.a,VRadioGroup:q.a,transitions:X.a,VTextarea:K.a,VCheckbox:Z.a,VStepper:Q.a,VImg:te.a,VSwitch:ie.a,VAvatar:se.a,VCarousel:re.a,VBadge:ce.a},theme:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}});var de=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-app",{attrs:{id:"app"}},[i("v-navigation-drawer",{attrs:{"mini-variant-width":"",fixed:"",right:"",value:"true",width:"80",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[i("v-toolbar",{staticClass:"transparent",attrs:{flat:""}},[i("v-list",{staticClass:"pa-0"},[i("v-list-tile",{attrs:{avatar:""}},[i("v-list-tile-avatar"),i("v-list-tile-content",[i("v-list-tile-title")],1),i("v-list-tile-action",[i("v-btn",{attrs:{icon:""},nativeOn:{click:function(t){t.stopPropagation(),e.mini=!e.mini}}},[i("v-icon")],1)],1)],1)],1)],1),i("v-list",{staticClass:"pt-0",attrs:{"two-line":""}},[i("v-divider"),e._l(e.items,function(t){return i("v-list-tile",{key:t.title,on:{click:function(a){e.link(t.link)}}},[i("v-list-tile-action",{staticClass:"align-center"},[i("v-icon",{attrs:{title:t.title,size:"40px"}},[e._v(e._s(t.icon))]),i("div",[e._v(e._s(t.title))])],1),i("v-list-tile-content",[i("v-list-tile-title")],1)],1)})],2)],1),e.logueado?i("v-navigation-drawer",{attrs:{fixed:"",clipped:e.$vuetify.breakpoint.mdAndUp,app:"",width:"220"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[i("v-list",{attrs:{dense:""}},[[i("v-list-tile",{attrs:{to:{name:"home"}}},[i("v-list-tile-action",[i("v-icon",[e._v("home")])],1),i("v-list-tile-title",[e._v("\n            Inicio\n          ")])],1)],e.credenciales["gestionhumana"]?[i("v-list-group",[i("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Gestion Humana\n              ")])],1)],1),e.credenciales["empleados"]?i("v-list-tile",{attrs:{to:{name:"categorias"}}},[i("v-list-tile-action",[i("v-icon",[e._v("supervisor_account")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Empleados\n              ")])],1)],1):e._e(),e.credenciales["informesempleados"]?i("v-list-tile",{attrs:{to:{name:"InformeEmpleado"}}},[i("v-list-tile-action",[i("v-icon",[e._v("event_note")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Informes\n              ")])],1)],1):e._e(),i("v-divider"),e.credenciales["permisos"]?i("v-list-tile",{attrs:{to:{name:"permisos"}}},[i("v-list-tile-action",[i("v-icon",[e._v("how_to_reg")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Permisos\n              ")])],1)],1):e._e(),e.credenciales["requisiciones"]?i("v-list-tile",{attrs:{to:{name:"requisicion"}}},[i("v-list-tile-action",[i("v-icon",[e._v("contact_mail")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Requisiciones\n              ")])],1)],1):e._e(),e.credenciales["requisiciones"]?i("v-list-tile",{attrs:{to:{name:"Contrataciones"}}},[i("v-list-tile-action",[i("v-icon",[e._v("contact_mail")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Contrataciones\n              ")])],1)],1):e._e()],1)]:e._e(),e.credenciales["seguridad"]?[i("v-list-group",[i("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Salud Ocupacional\n              ")])],1)],1),i("v-list-tile",{attrs:{to:{name:"Encuesta"}}},[i("v-list-tile-action",[i("v-icon",[e._v("list")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Encuesta Covid-19\n              ")])],1)],1),e.credenciales["informesempleados"]?i("v-list-tile",{attrs:{to:{name:"InformeEncuesta"}}},[i("v-list-tile-action",[i("v-icon",[e._v("event_note")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Informes Covid-19\n              ")])],1)],1):e._e()],1)]:e._e(),e.credenciales["compras"]?[i("v-list-group",[i("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Compras\n              ")])],1)],1),i("v-list-tile",{attrs:{to:{name:"ingresos"}}},[i("v-list-tile-action",[i("v-icon",[e._v("cloud_upload")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Ingreso Inventario\n              ")])],1)],1),i("v-list-tile",{attrs:{to:{name:"salidas"}}},[i("v-list-tile-action",[i("v-icon",[e._v("cloud_download")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Salida Inventario\n              ")])],1)],1),i("v-divider"),i("v-list-tile",{attrs:{to:{name:"categoriascompras"}}},[i("v-list-tile-action",[i("v-icon",[e._v("attachment")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Categorias\n              ")])],1)],1),i("v-list-tile",{attrs:{to:{name:"articulos"}}},[i("v-list-tile-action",[i("v-icon",[e._v("event_note")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Articulos\n              ")])],1)],1),i("v-list-tile",{attrs:{to:{name:"proveedores"}}},[i("v-list-tile-action",[i("v-icon",[e._v("business_center")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Proveedor\n              ")])],1)],1)],1)]:e._e(),e.credenciales["callcenter"]?[i("v-list-group",[i("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Call Center\n              ")])],1)],1),e.credenciales["registros"]?i("v-list-tile",{attrs:{to:{name:"registros"}}},[i("v-list-tile-action",[i("v-icon",[e._v("cloud_upload")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Registros\n              ")])],1)],1):e._e(),i("v-divider"),e.credenciales["clientes"]?i("v-list-tile",{attrs:{to:{name:"Clientes"}}},[i("v-list-tile-action",[i("v-icon",[e._v("attachment")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Clientes\n              ")])],1)],1):e._e(),e.credenciales["motivos"]?i("v-list-tile",{attrs:{to:{name:"motivos"}}},[i("v-list-tile-action",[i("v-icon",[e._v("subject")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Motivos\n              ")])],1)],1):e._e(),e.credenciales["extensiones"]?i("v-list-tile",{attrs:{to:{name:"extensiones"}}},[i("v-list-tile-action",[i("v-icon",[e._v("phone")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Extensiones\n              ")])],1)],1):e._e(),e.credenciales["informescallcenter"]?i("v-list-tile",{attrs:{to:{name:"InformeCallCenter"}}},[i("v-list-tile-action",[i("v-icon",[e._v("event_note")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Informes\n              ")])],1)],1):e._e()],1)]:e._e(),e.credenciales["gestiondocumental"]?[i("v-list-group",[i("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Gestion Documental\n              ")])],1)],1),i("v-list-tile",{attrs:{to:{name:"Correspondencia"}}},[i("v-list-tile-action",[i("v-icon",[e._v("mail")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Correspondencia\n              ")])],1)],1),i("v-list-tile",{attrs:{to:{name:"Remitente"}}},[i("v-list-tile-action",[i("v-icon",[e._v("people")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Remitentes\n              ")])],1)],1),i("v-list-tile",{attrs:{to:{name:"Documentos"}}},[i("v-list-tile-action",[i("v-icon",[e._v("build")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Tipos de Documentos\n              ")])],1)],1)],1)]:e._e(),e.credenciales["seguridad"]?[i("v-list-group",[i("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Seguridad\n              ")])],1)],1),i("v-list-tile",{attrs:{to:{name:"RegistroVisitantes"}}},[i("v-list-tile-action",[i("v-icon",[e._v("supervisor_account")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Registro de visitantes\n              ")])],1)],1),i("v-list-tile",{attrs:{to:{name:"Visitantes"}}},[i("v-list-tile-action",[i("v-icon",[e._v("person_add")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Visitantes\n              ")])],1)],1)],1)]:e._e(),e.credenciales["digitacion"]?[i("v-list-group",[i("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Logistica\n              ")])],1)],1),i("v-list-tile",{attrs:{to:{name:"EntregaRemesa"}}},[i("v-list-tile-action",[i("v-icon",[e._v("how_to_reg")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Entrega de Remesa\n              ")])],1)],1),i("v-divider"),i("v-list-tile",{attrs:{to:{name:"EntregaTurno"}}},[i("v-list-tile-action",[i("v-icon",[e._v("how_to_reg")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Entrega Turno\n              ")])],1)],1),i("v-list-tile",{attrs:{to:{name:"Tarea"}}},[i("v-list-tile-action",[i("v-icon",[e._v("how_to_reg")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Admin Tarea\n              ")])],1)],1),i("v-list-tile",{attrs:{to:{name:"Turno"}}},[i("v-list-tile-action",[i("v-icon",[e._v("how_to_reg")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Admin Turno\n              ")])],1)],1)],1)]:e._e(),e.credenciales["administrador"]?[i("v-list-group",[i("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Administrador\n              ")])],1)],1),i("v-list-tile",{attrs:{to:{name:"roles"}}},[i("v-list-tile-action",[i("v-icon",[e._v("build")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Roles\n              ")])],1)],1),i("v-list-tile",{attrs:{to:{name:"usuarios"}}},[i("v-list-tile-action",[i("v-icon",[e._v("people")])],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v("\n                Usuarios\n              ")])],1)],1)],1)]:e._e()],2)],1):e._e(),i("v-toolbar",{attrs:{color:"blue darken-3",dark:"",app:"","clipped-left":e.$vuetify.breakpoint.mdAndUp,fixed:""}},[i("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"300px"}},[i("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),i("span",{staticClass:"hidden-sm-and-down"},[e._v("TP.NET")])],1),i("v-layout",{attrs:{"justify-center":""}},[i("img",{staticClass:"hidden-sm-and-down",attrs:{src:a("7c07")},on:{click:e.reload}})]),i("v-spacer"),e.logueado?i("v-menu",{staticStyle:{"margin-right":"15px"},attrs:{title:"Notificaciones",bottom:"",left:"","content-class":"dropdown-menu","offset-y":"",transition:"slide-y-transition"}},[i("router-link",{staticClass:"toolbar-items",attrs:{slot:"activator",to:""},slot:"activator"},[i("v-badge",{attrs:{color:"error",overlap:""}},[0!=e.notifications?i("template",{slot:"badge"},[e._v("\n              "+e._s(e.notifications.length)+"\n            ")]):e._e(),i("v-icon",{attrs:{color:"tertiary"}},[e._v("notifications")])],2)],1),0!=e.notifications?i("v-card",[i("v-list",{attrs:{dense:""}},e._l(e.notifications,function(t,a){return i("v-list-tile",{key:t,on:{click:function(t){e.onClick(a)}}},[i("v-list-tile-title",{domProps:{textContent:e._s(t)}})],1)}))],1):e._e()],1):e._e(),i("v-btn",{staticStyle:{"margin-right":"15px"},attrs:{title:"Contactos",to:{name:"Contactos"},icon:""}},[i("v-icon",[e._v("contact_phone ")])],1),i("v-menu",{staticStyle:{"margin-right":"15px"},attrs:{title:"Cumpleaños",bottom:"",left:"","content-class":"dropdown-menu","offset-y":"",transition:"slide-y-transition"}},[0!=e.birthdays.length?i("router-link",{staticClass:"toolbar-items",attrs:{slot:"activator",to:""},slot:"activator"},[i("v-badge",{attrs:{color:"error",overlap:""}},[i("template",{slot:"badge"},[e._v("\n              "+e._s(e.birthdays.length)+"\n            ")]),i("v-icon",{attrs:{color:"tertiary"}},[e._v("cake")])],2)],1):i("router-link",{staticClass:"toolbar-items",attrs:{slot:"activator",to:{name:"Birthday"}},slot:"activator"},[i("v-badge",{attrs:{color:"error",overlap:""}},[i("v-icon",{attrs:{color:"tertiary"}},[e._v("cake")])],1)],1),0!=e.birthdays?i("v-card",[i("v-list",{attrs:{dense:""}},e._l(e.birthdays,function(t,a){return i("v-list-tile",{key:t.nombre_empleado,on:{click:function(t){e.birthdayClick(a)}}},[i("v-list-tile-title",{domProps:{textContent:e._s(t.nombre_empleado)}})],1)}))],1):e._e()],1),i("v-btn",{staticStyle:{"margin-right":"15px"},attrs:{title:"Perfil",to:{name:"UsuarioPersonal"},icon:""}},[i("v-icon",[e._v("person")])],1),e.logueado?i("v-btn",{attrs:{title:"Salir",icon:""},on:{click:e.salir}},[i("v-icon",[e._v(" logout ")])],1):i("v-btn",{attrs:{title:"Login",to:{name:"login"},icon:""}},[i("v-icon",[e._v("apps")])],1)],1),i("v-content",[i("v-container",{attrs:{fluid:"","fill-height":""}},[i("v-slide-y-transition",{attrs:{mode:"out-in"}},[i("router-view")],1)],1)],1),i("v-footer",{attrs:{dark:"",height:"0",fixed:""}},[i("v-layout",{attrs:{"justify-center":""}},[i("v-flex",{attrs:{"text-xs-center":""}},[i("v-card",{staticClass:"white--text",attrs:{flat:"",tile:"",color:"green darken-3"}},[i("v-card-text",{staticClass:"white--text pt-3"},[i("h3",[e._v("Copyright © 2019 TRANSPRENSA Design by: "),i("a",{staticStyle:{color:"black"},attrs:{target:"_blank",href:"https://jhonyvidal.com"}},[e._v("Jhony Vidal")])])])],1)],1)],1)],1)],1)},ue=[],ve=a("bc3a"),me=a.n(ve),pe={name:"App",data:function(){return{clipped:!1,drawer:!1,mini:!0,fixed:!1,items:[{title:"Daruma",icon:"dialpad",link:"https://transprensa.darumasoftware.com/app.php/"},{title:"Nomina",icon:"cloud_done",link:"http://transprensanw.siesacloud.com:8208/siesa/jsp/index.jsp?c=ed908e2c3f"},{title:"Siesa",icon:"cloud_upload",link:"https://clustersbs.siesacloud.com:360/"},{title:"Silogtran",icon:"local_shipping",link:"https://transprensa.colombiasoftware.net/index.php"},{title:"Tics",icon:"contact_mail",link:"http://192.168.93.160:8090/inventario/"},{title:"GD",icon:"attach_email",link:"http://192.168.93.160:8090/Gestion-documental/"}],credenciales:{gestionhumana:!1,empleados:!1,informesempleados:!1,permisos:!1,requisiciones:!1,callcenter:!1,registros:!1,clientes:!1,motivos:!1,extensiones:!1,informescallcenter:!1,administrador:!1,roles:!1,usuarios:!1,compras:!1,ingresoinventario:!1,salidainventario:!1,categorias:!1,articulos:!1,proveedor:!1,gestiondocumental:!1,correspondencia:!1,remitentes:!1,tipodocumento:!1},requisiciones:!1,miniVariant:!1,right:!0,rightDrawer:!1,informeEmpleado:!1,birthdays:[],notifications:[]}},computed:{logueado:function(){return this.$store.state.usuario}},watch:{logueado:function(){this.credencial()}},created:function(){this.$store.dispatch("autoLogin"),this.listar()},methods:{salir:function(){this.$store.dispatch("salir")},link:function(e){window.open(e,"_blank")},reload:function(){location.reload()},onClick:function(e){this.$router.push({name:"Notifications"}),this.$delete(this.notifications,e)},birthdayClick:function(e){this.$router.push({name:"Birthday"}),this.birthdays=[]},credencial:function(){var e=this;if(this.logueado){var t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/Roles/ListaGrupos/"+this.$store.state.usuario.rol,a).then(function(t){for(var a=0;a<t.data.length;++a)e.credenciales[t.data[a]["nombre"]]=!0}).catch(function(e){console.log(e)})}else e.reload()},listar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/Categorias/birthday",a).then(function(t){e.birthdays=t.data}).catch(function(e){console.log(e)})}}},he=pe,fe=(a("0dc7"),a("2877")),xe=Object(fe["a"])(he,de,ue,!1,null,"2e2d2d26",null),be=xe.exports,_e=a("8c4f"),ge=a("2f62"),Ce=a("04e1"),Ae=a.n(Ce);i["default"].use(ge["a"]);var ke=new ge["a"].Store({state:{token:null,usuario:null},mutations:{setToken:function(e,t){e.token=t},setUsuario:function(e,t){e.usuario=t}},actions:{guardarToken:function(e,t){var a=e.commit;a("setToken",t),a("setUsuario",Ae()(t)),localStorage.setItem("token",t)},autoLogin:function(e){var t=e.commit,a=localStorage.getItem("token");a&&(t("setToken",a),t("setUsuario",Ae()(a))),Yo.push({name:"home"})},salir:function(e){var t=e.commit;t("setToken",null),t("setUsuario",null),localStorage.removeItem("token"),Yo.push({name:"login"})}}}),Ie=a("bb51"),De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",[a("download-excel",{staticClass:"btn",attrs:{fetch:e.fetchData,fields:e.json_fields,"before-generate":e.startDownload,"before-finish":e.finishDownload,name:"Empleados.xls",type:"xls"}},[a("v-icon",[e._v("print")])],1)],1),a("v-toolbar-title",[e._v("Empleados")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),0==e.verNuevo?a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}):e._e(),0==e.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(t){e.listar()}}},[e._v("Buscar")]):e._e(),a("v-spacer"),0==e.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:e.mostrarNuevo}},[e._v("Nuevo")]):e._e(),0!==e.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{flat:"flat"},on:{click:e.ocultarNuevo}},[e._v("Cancelar")]):e._e(),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.verArticulos,callback:function(t){e.verArticulos=t},expression:"verArticulos"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Seleccione un Empleado")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Ingrese artículo a buscar"},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.listarArticulo()}},model:{value:e.texto,callback:function(t){e.texto=t},expression:"texto"}}),[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.cabeceraArticulos,items:e.articulos},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.agregarDetalle(t.item)}}},[e._v("add")])],1),a("td",[e._v(e._s(t.item.nombre))]),a("td",[e._v(e._s(t.item.categoria))]),a("td",[e._v(e._s(t.item.descripcion))]),a("td",[e._v(e._s(t.item.stock))]),a("td",[e._v(e._s(t.item.precio_venta))])]}}])},[a("template",{slot:"no-data"},[a("h3",[e._v("No hay artículos para mostrar.")])])],2)]],2)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken",flat:""},on:{click:function(t){e.ocultarArticulos()}}},[e._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.adModal,callback:function(t){e.adModal=t},expression:"adModal"}},[a("v-card",[1==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Activar Item?")]):e._e(),2==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Anular Ingreso?")]):e._e(),a("v-card-text",[e._v("\n            Estás a punto de\n            "),1==e.adAccion?a("span",[e._v("Activar")]):e._e(),2==e.adAccion?a("span",[e._v("Anular")]):e._e(),e._v("\n            el ítem "+e._s(e.adNombre)+"\n          ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.activarDesactivarCerrar}},[e._v("Cancelar")]),1==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.activar}},[e._v("Activar")]):e._e(),2==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.desactivar}},[e._v("Anular")]):e._e()],1)],1)],1)],1),0==e.verNuevo?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.ingresos,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.verDetalles(t.item)}}},[e._v("edit")]),[a("v-icon",{attrs:{small:""},on:{click:function(a){e.verPermisos(t.item)}}},[e._v("list")])]],2),a("td",[e._v(e._s(t.item.id_empleado))]),a("td",[e._v(e._s(t.item.nombre_empleado))]),a("td",[e._v(e._s(t.item.municipio))]),a("td",[e._v(e._s(t.item.cargo))]),a("td",[e._v(e._s(t.item.zona))]),a("td",[e._v(e._s(t.item.fec_ingreso.split("T")[0]))]),a("td",["ACTIVO    "==t.item.estado?a("div",[a("span",{staticClass:"blue--text"},[e._v("ACTIVO")])]):a("div",[a("span",{staticClass:"red--text"},[e._v(e._s(t.item.estado))])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2):e._e(),1==e.verNuevo?a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("div",[a("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-header",[e._l(e.steps,function(t){return[a("v-stepper-step",{key:t+"-step",attrs:{step:t,complete:e.e1>t,editable:-1!==e.editedIndex}},[e._v("\n       "+e._s(e.headersteps[t-1])+"\n        ")]),t!==e.steps?a("v-divider",{key:t}):e._e()]})],2),a("v-stepper-items",e._l(e.steps,function(t){return a("v-stepper-content",{key:t+"-content",attrs:{step:t}},[1==e.e1?a("div",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"Documento"},model:{value:e.id_empleado,callback:function(t){e.id_empleado=t},expression:"id_empleado"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:e.nombre_empleado,callback:function(t){e.nombre_empleado=t},expression:"nombre_empleado"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"date",label:"Fecha de Ingreso"},model:{value:e.fec_ingreso,callback:function(t){e.fec_ingreso=t},expression:"fec_ingreso"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"date",label:"Fecha de Nacimiento"},on:{change:e.ValidaFecha},model:{value:e.fec_ncto,callback:function(t){e.fec_ncto=t},expression:"fec_ncto"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.municipios,label:"Municipio",autocomplete:""},model:{value:e.id_municipio,callback:function(t){e.id_municipio=t},expression:"id_municipio"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"Celular"},model:{value:e.celular,callback:function(t){e.celular=t},expression:"celular"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"Telefono Fijo"},model:{value:e.telefono_fijo,callback:function(t){e.telefono_fijo=t},expression:"telefono_fijo"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Correo"},model:{value:e.correo,callback:function(t){e.correo=t},expression:"correo"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Direccion"},model:{value:e.direccion,callback:function(t){e.direccion=t},expression:"direccion"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Barrio"},model:{value:e.barrio,callback:function(t){e.barrio=t},expression:"barrio"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Comuna"},model:{value:e.comuna,callback:function(t){e.comuna=t},expression:"comuna"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.estratos,label:"Vivienda"},model:{value:e.estrato,callback:function(t){e.estrato=t},expression:"estrato"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.estadoscivil,label:"Estado Civil"},model:{value:e.id_estado_civil,callback:function(t){e.id_estado_civil=t},expression:"id_estado_civil"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.sexos,label:"Sexo"},model:{value:e.sexo,callback:function(t){e.sexo=t},expression:"sexo"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.select,label:"Libreta Militar"},model:{value:e.libretamilitar,callback:function(t){e.libretamilitar=t},expression:"libretamilitar"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.transportes,label:"Medio de Transporte"},model:{value:e.transporte,callback:function(t){e.transporte=t},expression:"transporte"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},e._l(e.validaDatospersonales,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})}))],1):e._e(),2==e.e1?a("div",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.academicos,label:"Nivel Academico",autocomplete:""},model:{value:e.id_nivelacademico,callback:function(t){e.id_nivelacademico=t},expression:"id_nivelacademico"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:3==e.id_nivelacademico||4==e.id_nivelacademico||5==e.id_nivelacademico,expression:"id_nivelacademico == 3 ||  id_nivelacademico== 4||\n                    id_nivelacademico== 5"}],attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Título Otorgado"},model:{value:e.titulo,callback:function(t){e.titulo=t},expression:"titulo"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.epss,label:"EPS",autocomplete:""},model:{value:e.id_eps,callback:function(t){e.id_eps=t},expression:"id_eps"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.afps,label:"AFP",autocomplete:""},model:{value:e.id_afp,callback:function(t){e.id_afp=t},expression:"id_afp"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.grupo_sanguineos,label:"Grupo sanguineo"},model:{value:e.grupo_sanguineo,callback:function(t){e.grupo_sanguineo=t},expression:"grupo_sanguineo"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},e._l(e.validaDatosEstudio,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})}))],1):e._e(),3==e.e1?a("div",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.empresas,label:"Empresa"},model:{value:e.empresa,callback:function(t){e.empresa=t},expression:"empresa"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.zonas,label:"Regional",autocomplete:""},model:{value:e.id_zona,callback:function(t){e.id_zona=t},expression:"id_zona"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.sedes,label:"Sede"},model:{value:e.sede,callback:function(t){e.sede=t},expression:"sede"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.dependencias,label:"Dependencia"},model:{value:e.id_dependencia,callback:function(t){e.id_dependencia=t},expression:"id_dependencia"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.areas,label:"Area",autocomplete:""},model:{value:e.id_area,callback:function(t){e.id_area=t},expression:"id_area"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.cargos,label:"Cargo",autocomplete:""},model:{value:e.id_cargo,callback:function(t){e.id_cargo=t},expression:"id_cargo"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.jornadas,label:"Turno"},model:{value:e.jornada,callback:function(t){e.jornada=t},expression:"jornada"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:35==e.id_cargo,expression:"id_cargo == 35"}],attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.tiposconductor,label:"Tipo Conductor"},model:{value:e.id_tipoconductor,callback:function(t){e.id_tipoconductor=t},expression:"id_tipoconductor"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:35==e.id_cargo,expression:"id_cargo == 35"}],attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{items:e.jornadas,label:"Placa Vehiculo"},model:{value:e.placa_operativa,callback:function(t){e.placa_operativa=t},expression:"placa_operativa"}})],1),a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("v-select",{attrs:{items:e.select,label:"Recibe Dotacion"},model:{value:e.recibedotacion,callback:function(t){e.recibedotacion=t},expression:"recibedotacion"}})],1),a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("v-select",{directives:[{name:"show",rawName:"v-show",value:"S"==e.recibedotacion,expression:"recibedotacion == 'S'"}],attrs:{items:e.calzados,label:"Talla Calzado"},model:{value:e.talla_bota,callback:function(t){e.talla_bota=t},expression:"talla_bota"}})],1),a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("v-select",{directives:[{name:"show",rawName:"v-show",value:"S"==e.recibedotacion,expression:"recibedotacion == 'S'"}],attrs:{items:e.camisas,label:"Talla Camisa"},model:{value:e.talla_camisa,callback:function(t){e.talla_camisa=t},expression:"talla_camisa"}})],1),a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("v-select",{directives:[{name:"show",rawName:"v-show",value:"S"==e.recibedotacion,expression:"recibedotacion == 'S'"}],attrs:{items:e.pantalones,label:"Talla Pantalon"},model:{value:e.talla_pantalon,callback:function(t){e.talla_pantalon=t},expression:"talla_pantalon"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},e._l(e.validaDatosDatosGenerales,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})}))],1):e._e(),4==e.e1?a("div",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:2===e.id_estado_civil||3===e.id_estado_civil,expression:"id_estado_civil === 2 || id_estado_civil === 3"}],attrs:{type:"number",label:"Documento Conyuge"},model:{value:e.cedulaconyuge,callback:function(t){e.cedulaconyuge=t},expression:"cedulaconyuge"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:2===e.id_estado_civil||3===e.id_estado_civil,expression:"id_estado_civil === 2 || id_estado_civil === 3"}],attrs:{label:"Nombre Conyuge"},model:{value:e.nombreconyuge,callback:function(t){e.nombreconyuge=t},expression:"nombreconyuge"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:2===e.id_estado_civil||3===e.id_estado_civil,expression:"id_estado_civil === 2 || id_estado_civil === 3"}],attrs:{type:"date",label:"Fecha de nacimiento"},model:{value:e.fechaconyuge,callback:function(t){e.fechaconyuge=t},expression:"fechaconyuge"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{directives:[{name:"show",rawName:"v-show",value:2===e.id_estado_civil||3===e.id_estado_civil,expression:"id_estado_civil === 2 || id_estado_civil === 3"}],attrs:{items:e.academicos,label:"Nivel Academico"},model:{value:e.id_nivelacademicoconyuge,callback:function(t){e.id_nivelacademicoconyuge=t},expression:"id_nivelacademicoconyuge"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{directives:[{name:"show",rawName:"v-show",value:2===e.id_estado_civil||3===e.id_estado_civil,expression:"id_estado_civil === 2 || id_estado_civil === 3"}],attrs:{items:e.select,label:"Labora"},model:{value:e.laboraconyuge,callback:function(t){e.laboraconyuge=t},expression:"laboraconyuge"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},e._l(e.validaDatosConyuge,function(t){return a("div",{key:t,domProps:{textContent:e._s(t)}})}))],1)],1):e._e(),5==e.e1?a("div",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.tipodocumentodependientes,label:"Tipo Documento"},model:{value:e.tipodocumentodependiente,callback:function(t){e.tipodocumentodependiente=t},expression:"tipodocumentodependiente"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"Documento"},model:{value:e.documentodependiente,callback:function(t){e.documentodependiente=t},expression:"documentodependiente"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:e.nombredependiente,callback:function(t){e.nombredependiente=t},expression:"nombredependiente"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.parentescodependientes,label:"Parentesco"},model:{value:e.parentescodependiente,callback:function(t){e.parentescodependiente=t},expression:"parentescodependiente"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"date",label:"Fecha Nacimiento"},model:{value:e.fechadependiente,callback:function(t){e.fechadependiente=t},expression:"fechadependiente"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.sexos,label:"Sexo"},model:{value:e.sexodependiente,callback:function(t){e.sexodependiente=t},expression:"sexodependiente"}})],1),a("v-flex",[a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.agregarDetalle()}}},[e._v("Adicionar")]),a("p"),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.cabeceraArticulos,items:e.detalles},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.eliminarDetalle(e.detalles,t.item)}}},[e._v("delete")])],1),a("td",[e._v(e._s(t.item.tipo_doc))]),a("td",[e._v(e._s(t.item.id_dependente))]),a("td",[e._v(e._s(t.item.nombre))]),a("td",[e._v(e._s(t.item.parentesco))]),a("td",[e._v(e._s(t.item.fec_ncto))]),a("td",[e._v(e._s(t.item.sexo))])]}}])},[a("template",{slot:"no-data"},[a("h3",[e._v("No hay Dependientes para mostrar.")])])],2)],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},e._l(e.validaMensaje,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})})),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("div",{staticClass:"red--text",domProps:{textContent:e._s(e.errorArticulo)}})])],1)],1):e._e(),6==e.e1?a("div",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"",md3:"",lg3:"",xl3:""}},[a("v-select",{attrs:{items:e.tiposcontactos,label:"Tipo Contacto"},model:{value:e.tipocontacto,callback:function(t){e.tipocontacto=t},expression:"tipocontacto"}})],1),a("v-flex",{attrs:{xs12:"",sm3:"",md3:"",lg3:"",xl3:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:e.nombrecontacto,callback:function(t){e.nombrecontacto=t},expression:"nombrecontacto"}})],1),a("v-flex",{attrs:{xs12:"",sm3:"",md3:"",lg3:"",xl3:""}},[a("v-text-field",{attrs:{type:"number",label:"Celular"},model:{value:e.celular_contacto,callback:function(t){e.celular_contacto=t},expression:"celular_contacto"}})],1),a("v-flex",{attrs:{xs12:"",sm3:"",md3:"",lg3:"",xl3:""}},[a("v-text-field",{attrs:{type:"number",label:"Telefono Fijo"},model:{value:e.fijo_contacto,callback:function(t){e.fijo_contacto=t},expression:"fijo_contacto"}})],1),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.agregarContacto()}}},[e._v("Adicionar")]),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("p"),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.cabeceraContactos,items:e.contactos},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.eliminarDetalle(e.contactos,t.item)}}},[e._v("delete")])],1),a("td",[e._v(e._s(t.item.tipo_contacto))]),a("td",[e._v(e._s(t.item.nombre_empleado))]),a("td",[e._v(e._s(t.item.celular_contacto))]),a("td",[e._v(e._s(t.item.fijo_contacto))])]}}])},[a("template",{slot:"no-data"},[a("h3",[e._v("No hay Contactos para mostrar.")])])],2)],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},e._l(e.validaMensaje,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})})),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("div",{staticClass:"red--text",domProps:{textContent:e._s(e.errorArticulo)}})])],1)],1):e._e(),a("p"),6!==t?a("v-btn",{attrs:{color:"primary"},on:{click:function(a){e.nextStep(t)}}},[e._v("Siguiente")]):e._e(),6==t?a("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(t){return e.guardar(t)}}},[e._v("Guardar")]):e._e(),1!==t?a("v-btn",{attrs:{flat:""},on:{click:function(a){e.backStep(t)}}},[e._v("Cancel")]):e._e()],1)}))],1)],1)]):e._e(),3==e.verNuevo?a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[[a("v-card",{staticClass:"mt-4 mx-auto",attrs:{width:"350",height:"200"}},[a("v-card-text",{staticClass:"pt-0"},[a("div",{staticClass:"title font-weight-light mb-2"},[e._v("NOMINA")]),a("div",{staticClass:"subheading font-weight-light grey--text"},[e._v("Cantidad de Permisos")]),a("v-divider",{staticClass:"my-2"}),a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("\n                              mdi-clock\n                            ")]),a("p",{staticClass:"text-lg-center font-weight-light grey--text",staticStyle:{"font-size":"70px"}},[e._v(e._s(e.nomina))])],1)],1)],[a("v-card",{staticClass:"mt-4 mx-auto",attrs:{width:"350",height:"200"}},[a("v-card-text",{staticClass:"pt-0"},[a("div",{staticClass:"title font-weight-light mb-2"},[e._v("VACACIONES")]),a("div",{staticClass:"subheading font-weight-light grey--text"},[e._v("Cantidad de Permisos")]),a("v-divider",{staticClass:"my-2"}),a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("\n                              mdi-clock\n                            ")]),a("p",{staticClass:"text-lg-center font-weight-light grey--text",staticStyle:{"font-size":"70px"}},[e._v(e._s(e.vacaciones))])],1)],1)],[a("v-card",{staticClass:"mt-4 mx-auto",attrs:{width:"350",height:"200"}},[a("v-card-text",{staticClass:"pt-0"},[a("div",{staticClass:"title font-weight-light mb-2"},[e._v("REMUNERADO")]),a("div",{staticClass:"subheading font-weight-light grey--text"},[e._v("Cantidad de Permisos")]),a("v-divider",{staticClass:"my-2"}),a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("\n                              mdi-clock\n                            ")]),a("p",{staticClass:"text-lg-center font-weight-light grey--text",staticStyle:{"font-size":"70px"}},[e._v(e._s(e.remunerado))])],1)],1)],[a("v-card",{staticClass:"mt-4 mx-auto",attrs:{width:"350",height:"200"}},[a("v-card-text",{staticClass:"pt-0"},[a("div",{staticClass:"title font-weight-light mb-2"},[e._v("COMPENSADO")]),a("div",{staticClass:"subheading font-weight-light grey--text"},[e._v("Cantidad de Permisos")]),a("v-divider",{staticClass:"my-2"}),a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("\n                              mdi-clock\n                            ")]),a("p",{staticClass:"text-lg-center font-weight-light grey--text",staticStyle:{"font-size":"70px"}},[e._v(e._s(e.compensado))])],1)],1)],a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.ocultarNuevo()}}},[e._v("Cancelar")])],1)],2)],1):e._e()],1)],1)},ye=[],Ne=a("a34a"),Ee=a.n(Ne),Oe=a("1bdd"),we=a("3d20"),Se=a.n(we);function Te(e,t,a,i,o,s,n){try{var r=e[s](n),l=r.value}catch(c){return void a(c)}r.done?t(l):Promise.resolve(l).then(i,o)}function Me(e){return function(){var t=this,a=arguments;return new Promise(function(i,o){var s=e.apply(t,a);function n(e){Te(s,i,o,n,r,"next",e)}function r(e){Te(s,i,o,n,r,"throw",e)}n(void 0)})}}var Re={data:function(){return{ingresos:[],dialog:!1,headers:[{text:"Opciones",value:"id_empleado",sortable:!1},{text:"CEDULA",value:"id_empleado"},{text:"NOMBRE",value:"nombre_empleado"},{text:"MUNICIPO",value:"municipio"},{text:"CARGO",value:"cargo",sortable:!1},{text:"ZONA",value:"zona",sortable:!1},{text:"FECHA",value:"fec_ingreso",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],cabeceraDetalles:[{text:"Borrar",value:"borrar",sortable:!1},{text:"Artículo",value:"articulo",sortable:!1},{text:"Cantidad",value:"cantidad",sortable:!1},{text:"Precio",value:"precio",sortable:!1},{text:"Subtotal",value:"subtotal",sortable:!1}],cabeceraContactos:[{text:"Seleccionar",value:"seleccionar",sortable:!1},{text:"Tipo Contacto",value:"tipo_contacto",sortable:!1},{text:"Nombre empleado",value:"nombre_empleado",sortable:!1},{text:"Celular Contacto",value:"celular_contacto",sortable:!1},{text:"Fijo Contacto",value:"fijo_contacto",sortable:!1}],detalles:[],search:"",id:"",id_empleado:"",nombre_empleado:"",fec_ingreso:"",municipios:[],id_municipio:"",direccion:"",barrio:"",comuna:"",estrato:"",estratos:[{text:"PROPIA",value:"PROPIA",sortable:!1},{text:"ARRENDADA",value:"ARRENDADA",sortable:!1},{text:"FAMILIAR",value:"FAMILIAR",sortable:!1}],transporte:"",transportes:[{text:"NINGUNO",value:"NINGUNO",sortable:!1},{text:"MOTOCICLETA",value:"MOTOCICLETA",sortable:!1},{text:"AUTOMOVIL",value:"AUTOMOVIL",sortable:!1},{text:"BICICLETA",value:"BICICLETA",sortable:!1}],celular:"",telefono_fijo:"",correo:"",grupo_sanguineo:"",grupo_sanguineos:[{text:"A+",value:"A+",sortable:!1},{text:"A-",value:"B-",sortable:!1},{text:"B+",value:"B+",sortable:!1},{text:"B-",value:"B-",sortable:!1},{text:"O+",value:"O+",sortable:!1},{text:"O-",value:"O-",sortable:!1},{text:"AB+",value:"AB+",sortable:!1},{text:"AB-",value:"AB-",sortable:!1}],empresa:"1",empresas:[{text:"TRANSPORTADORA LA PRENSA DEL VALLE S.A.S",value:890301067,sortable:!1},{text:"BIENES Y SERVICIOS SOHI",value:900764824,sortable:!1},{text:"INVERSIONES TROHIN SAS",value:900774280,sortable:!1},{text:"SONO CAPITAL SAS",value:900776330,sortable:!1},{text:"TRANSPORTADORA DE CARGA HD EXPRESS",value:900071097,sortable:!1},{text:"TERCEROS",value:0,sortable:!1}],id_cargo:"",cargos:[],id_eps:"",epss:[],id_afp:"",afps:[],recibedotacion:"",select:[{text:"SI",value:"S",sortable:!1},{text:"NO",value:"N",sortable:!1}],dotacion:[],id_estado_civil:"",estadoscivil:[{text:"SOLTERO",value:1,sortable:!1},{text:"UNION LIBRE",value:2,sortable:!1},{text:"CASADO (A)",value:3,sortable:!1},{text:"VIUDO (A)",value:4,sortable:!1},{text:"DIVORCIADO (A)",value:5,sortable:!1}],id_nivelacademico:"",academicos:[{text:"PRIMARIA",value:1,sortable:!1},{text:"SECUNDARIA",value:2,sortable:!1},{text:"TECNICO",value:3,sortable:!1},{text:"TECNOLOGO",value:4,sortable:!1},{text:"PROFESIONAL",value:5,sortable:!1},{text:"SIN DEFINIR",value:6,sortable:!1}],talla_bota:"",calzados:[{text:"35",value:"35",sortable:!1},{text:"36",value:"36",sortable:!1},{text:"37",value:"37",sortable:!1},{text:"38",value:"38",sortable:!1},{text:"39",value:"39",sortable:!1},{text:"40",value:"40",sortable:!1},{text:"41",value:"41",sortable:!1},{text:"42",value:"42",sortable:!1},{text:"43",value:"43",sortable:!1},{text:"44",value:"44",sortable:!1}],talla_camisa:"",camisas:[{text:"XS",value:"XS",sortable:!1},{text:"S",value:"S",sortable:!1},{text:"M",value:"M",sortable:!1},{text:"L",value:"L",sortable:!1},{text:"XL",value:"XL",sortable:!1},{text:"XXL",value:"XXL",sortable:!1},{text:"XXXL",value:"XXXL",sortable:!1}],talla_pantalon:"",pantalones:[{text:"8",value:"8",sortable:!1},{text:"10",value:"10",sortable:!1},{text:"12",value:"12",sortable:!1},{text:"14",value:"14",sortable:!1},{text:"16",value:"16",sortable:!1},{text:"18",value:"18",sortable:!1},{text:"28",value:"28",sortable:!1},{text:"30",value:"30",sortable:!1},{text:"32",value:"32",sortable:!1},{text:"34",value:"34",sortable:!1},{text:"36",value:"36",sortable:!1},{text:"38",value:"38",sortable:!1},{text:"40",value:"40",sortable:!1},{text:"44",value:"44",sortable:!1}],sexo:"",libretamilitar:"",id_zona:"",zonas:[{text:"NACIONAL",value:0,sortable:!1},{text:"CALI",value:1,sortable:!1},{text:"PEREIRA",value:2,sortable:!1},{text:"MEDELLIN",value:3,sortable:!1},{text:"PASTO",value:4,sortable:!1},{text:"IBAGUE",value:5,sortable:!1},{text:"NEIVA",value:6,sortable:!1},{text:"POPAYAN",value:7,sortable:!1}],sede:"",sedes:[{text:"POPAYAN",value:1,sortable:!1},{text:"CALI",value:2,sortable:!1},{text:"BUENAVENTURA",value:3,sortable:!1},{text:"PASTO",value:4,sortable:!1},{text:"IPIALES",value:5,sortable:!1},{text:"MANIZALES",value:7,sortable:!1},{text:"ARMENIA",value:8,sortable:!1},{text:"PEREIRA",value:9,sortable:!1},{text:"MEDELLIN",value:10,sortable:!1},{text:"NEIVA",value:11,sortable:!1},{text:"IBAGUE",value:12,sortable:!1}],fec_ncto:"",id_dependencia:"",dependencias:[{text:"ADMINISTRATIVO",value:1,sortable:!1},{text:"OPERACIONES",value:2,sortable:!1},{text:"APOYO",value:3,sortable:!1},{text:"ALMACENAMIENTO",value:4,sortable:!1}],id_area:"",areas:[],errorArticulo:null,cabeceraArticulos:[{text:"Seleccionar",value:"seleccionar",sortable:!1},{text:"Tipo Documento",value:"tipodocumentodependiente",sortable:!1},{text:"Documento",value:"documentodependiente"},{text:"Nombre",value:"nombredependiente"},{text:"Parentesco",value:"parentescodependiente",sortable:!1},{text:"Fecha Nacimiento",value:"fechadependiente",sortable:!1},{text:"Sexo",value:"sexodependiente",sortable:!1}],articulos:[],texto:"",tipodocumentodependiente:"",tipodocumentodependientes:[{text:"REGISTRO CIVIL",value:"NIUP",sortable:!1},{text:"TARJETA DE IDENTIDAD",value:"TI",sortable:!1},{text:"CEDULA DE CIUDADANIA",value:"CC",sortable:!1},{text:"CEDULA EXTANJERA",value:"CE",sortable:!1}],fechaconyuge:"",laboraconyuge:"",cedulaconyuge:"",nombreconyuge:"",id_nivelacademicoconyuge:"",titulo:"",documentodependiente:"",nombredependiente:"",parentescodependiente:"",parentescodependientes:[{text:"PADRE",value:"PADRE",sortable:!1},{text:"MADRE",value:"MADRE",sortable:!1},{text:"HIJO",value:"HIJO",sortable:!1},{text:"HIJA",value:"HIJA",sortable:!1},{text:"HIJASTRO",value:"HIJASTRO",sortable:!1},{text:"HIJASTRA",value:"HIJASTRA",sortable:!1},{text:"ABUELO",value:"ABUELO",sortable:!1},{text:"CONYUGE",value:"CONYUGE",sortable:!1},{text:"HERMANO",value:"HERMANO",sortable:!1},{text:"SOBRINO",value:"SOBRINO",sortable:!1},{text:"TIO",value:"TIO",sortable:!1}],fechadependiente:"",sexodependiente:"",sexos:[{text:"M",value:"M",sortable:!1},{text:"F",value:"F",sortable:!1}],jornada:"",jornadas:[{text:"DIURNO",value:"DIURNO",sortable:!1},{text:"NOCTURNO",value:"NOCTURNO",sortable:!1},{text:"MADRUGON",value:"MADRUGON",sortable:!1},{text:"PARTIDO",value:"PARTIDO",sortable:!1},{text:"SIKA",value:"SIKA",sortable:!1},{text:"ADMINISTRATIVO",value:"ADMINISTRATIVO",sortable:!1},{text:"LOGISTICO",value:"LOGISTICO",sortable:!1},{text:"TEMPORADA",value:"TEMPORADA",sortable:!1}],id_tipoconductor:0,tiposconductor:[{text:"N/A",value:0,sortable:!1},{text:"PATIERO MULERO",value:1,sortable:!1},{text:"REGIONAL",value:3,sortable:!1},{text:"MINIMULA",value:4,sortable:!1},{text:"MULA",value:5,sortable:!1},{text:"SENCILLO",value:6,sortable:!1}],placa_operativa:"N/A",tipocontacto:"",tiposcontactos:[{text:"FAMILIAR",value:"FAMILIAR",sortable:!1},{text:"PERSONALES",value:"PERSONALES",sortable:!1}],contactos:[],nombrecontacto:"",celular_contacto:"",fijo_contacto:"",verArticulos:0,verNuevo:0,editedIndex:-1,valida:0,validaMensaje:[],validaDatospersonales:[],validaDatosEstudio:[],validaDatosDatosGenerales:[],validaDatosConyuge:[],adModal:0,adAccion:0,adNombre:"",adId:"",nomina:0,vacaciones:0,remunerado:0,compensado:0,headersteps:["Datos Personales","Estudios","Datos Generales","Datos Conyuge","Dependientes","Contactos"],e1:1,steps:6,json_fields:{cedula:"id_empleado",Nombre:"nombre_empleado",Empresa:"nit_empresa",Dependencia:"id_dependencia",Cargo:"cargo",Regional:"zona",Area:"area",Subsede:"id_subsede",Municipio:"municipio",Direccion:"direccion",Barrio:"barrio",Comuna:"comuna",Estrato:"estrato",Celular:"celular","Telefono Fijo":"telefono_fijo",Corre:"correo","Fecha Nacimiento":"fec_ncto",Afp:"afp",Eps:"eps","Grupo Sanguineo":"grupo_sanguineo","Fecha Ingreso":"fec_ingreso","Estado Civil":"id_estado_civil","Nivel Academico":"id_nivelacademico","Recibe Dotacion":"recibe_dotacion","Libreta Militar":"libreta_militar",sexo:"sexo","Talla Bota":"talla_bota","Talla Camisa":"talla_camisa","Talla Pantalon":"talla_pantalon","Tipo de Conductor":"id_tipoconductor","Medio de Transporte":"medio_transporte",Placa:"placa_operativa",Jornada:"jornada","Tipo Empleado":"tipo_empleado",Conyuge:"conyuge","Id Conyuge":"cedula_conyuge","Fecha Conyuge":"fec_nctoconyuge","Nivel Academico Conyuge":"id_nivelacademico_conyuge","Labora Conyuge":"labora_conyuge",Estado:"estado"}}},computed:{calcularTotal:function(){for(var e=0,t=0;t<this.detalles.length;t++)e+=this.detalles[t].precio*this.detalles[t].cantidad;return e}},watch:{dialog:function(e){e||this.close()}},created:function(){this.listar()},steps:function(e){this.e1>e&&(this.e1=e)},methods:{Cargar:function(){this.listar()},fetchData:function(){var e=Me(Ee.a.mark(function e(){var t;return Ee.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("api/categorias/informe");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),startDownload:function(){Se.a.fire({position:"bot-end",type:"success",title:"Procesando datos",showConfirmButton:!1,timer:1e3})},finishDownload:function(){},onInput:function(e){this.steps=parseInt(e)},nextStep:function(e){this.validar(e)||(this.e1=e+1)},backStep:function(e){this.e1=e-1},mostrarNuevo:function(){this.verNuevo=1,this.e1=1,this.selectMunicipio(),this.selectAfp(),this.selectArea(),this.selectEps(),this.selectCargo()},ocultarNuevo:function(){this.verNuevo=0,this.limpiar()},ValidaFecha:function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,i=e.getFullYear()-14;t>31&&(t-=31,a+=1),t=s(t),a=s(a);var o=i+"-"+a+"-"+t;function s(e){return e<10&&(e="0"+e),e}this.fec_ncto>o&&(this.fec_ncto="",Se.a.fire({type:"error",title:"No tiene la edad Adecuada"}))},selectMunicipio:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/ListarMunicipio",i).then(function(a){t=a.data,t.map(function(t){e.municipios.push({text:t.concat_municipio,value:t.id_municipio})})}).catch(function(e){console.log(e)})},selectAfp:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/ListarAfp",i).then(function(a){t=a.data,t.map(function(t){e.afps.push({text:t.desc_afp,value:t.id_afp})})}).catch(function(e){console.log(e)})},selectArea:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/ListarArea",i).then(function(a){t=a.data,t.map(function(t){e.areas.push({text:t.desc_area,value:t.id_area})})}).catch(function(e){console.log(e)})},selectEps:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/ListarEps",i).then(function(a){t=a.data,t.map(function(t){e.epss.push({text:t.desc_eps,value:t.id_eps})})}).catch(function(e){console.log(e)})},selectCargo:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/ListarCargo",i).then(function(a){t=a.data,t.map(function(t){e.cargos.push({text:t.desc_cargo,value:t.id_cargo})})}).catch(function(e){console.log(e)})},buscarCodigo:function(){var e=this;e.errorArticulo=null;var t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/Articulos/BuscarCodigoIngreso/"+this.codigo,a).then(function(t){e.agregarDetalle(t.data)}).catch(function(t){console.log(t),e.errorArticulo="No existe el artículo"})},listarArticulo:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/Articulos/ListarIngreso/"+e.texto,a).then(function(t){e.articulos=t.data}).catch(function(e){console.log(e)})},mostrarArticulos:function(){this.verArticulos=1},ocultarArticulos:function(){this.verArticulos=0},agregarDetalle:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.errorArticulo=null,-1!==this.editedIndex){var e=this;me.a.post("api/Categorias/CrearDependiente",{id_empleado:e.id_empleado,tipo_doc:e.tipodocumentodependiente,id_dependente:e.documentodependiente,nombre:e.nombredependiente,parentesco:e.parentescodependiente,fec_ncto:e.fechadependiente,sexo:e.sexodependiente}).then(function(e){}).catch(function(e){console.log(e)})}this.validardependiente()||(this.encuentra(this.documentodependiente)?this.errorArticulo="El Dependiente ya ha sido agregado.":this.detalles.push({tipo_doc:this.tipodocumentodependiente,id_dependente:this.documentodependiente,nombre:this.nombredependiente,parentesco:this.parentescodependiente,fec_ncto:this.fechadependiente,sexo:this.sexodependiente}))},agregarContacto:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.errorArticulo=null,-1!==this.editedIndex){var e=this;me.a.post("api/Categorias/CrearContacto",{id_empleado:e.id_empleado,tipo_contacto:e.tipocontacto,nombre_empleado:e.nombrecontacto,celular_contacto:e.celular_contacto,fijo_contacto:e.fijo_contacto,usuario:e.$store.state.usuario.id_usuario}).then(function(e){}).catch(function(e){console.log(e)})}this.contactos.push({tipo_contacto:this.tipocontacto,nombre_empleado:this.nombrecontacto,celular_contacto:this.celular_contacto,fijo_contacto:this.fijo_contacto})},encuentra:function(e){for(var t=0,a=0;a<this.detalles.length;a++)this.detalles[a].id_dependente==e&&(t=1);return t},eliminarDetalle:function(e,t){var a=e.indexOf(t);-1!==a&&e.splice(a,1)},listar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t},i="";i=e.search?"api/Categorias/ListarFiltroEmpleados/"+e.search:"api/Categorias/Listar",me.a.get(i,a).then(function(t){e.ingresos=t.data}).catch(function(e){console.log(e)})},listarDetalles:function(e){var t=this,a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Ingresos/ListarDetalles/"+e,i).then(function(e){t.detalles=e.data}).catch(function(e){console.log(e)})},listarDependentes:function(e){var t=this,a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/MostrarDependentes/"+e,i).then(function(e){t.detalles=e.data}).catch(function(e){console.log(e)})},listarContactos:function(e){var t=this,a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/MostrarContactos/"+e,i).then(function(e){t.contactos=e.data}).catch(function(e){console.log(e)})},verDetalles:function(e){this.selectMunicipio(),this.selectAfp(),this.selectArea(),this.selectEps(),this.selectCargo();var t=this;me.a.get("api/Categorias/Mostrar/"+e.id_empleado,{}).then(function(a){var i=a.data;t.id_empleado=i.id_empleado,t.nombre_empleado=i.nombre_empleado,t.fec_ingreso=i.fec_ingreso.split("T")[0],t.id_municipio=i.id_municipio,t.direccion=i.direccion,t.barrio=i.barrio,t.comuna=i.comuna,t.estrato=i.estrato,t.celular=i.celular,t.telefono_fijo=i.telefono_fijo,t.correo=i.correo,t.grupo_sanguineo=i.grupo_sanguineo,t.id_cargo=i.id_cargo,t.id_eps=i.id_eps,t.id_afp=i.id_afp,t.id_estado_civil=i.id_estado_civil,t.id_nivelacademico=i.id_nivelacademico,t.sexo=i.sexo,t.libretamilitar=i.libreta_militar,t.transporte=i.medio_transporte,t.talla_bota=i.talla_bota,t.talla_camisa=i.talla_camisa,t.talla_pantalon=i.talla_pantalon,t.id_zona=i.id_zona,t.fec_ncto=i.fec_ncto.split("T")[0],t.id_area=i.id_area,t.empresa=i.nit_empresa,t.sede=i.id_subsede,t.id_dependencia=i.id_dependencia,t.jornada=i.jornada,t.recibedotacion=i.recibe_dotacion,t.cedulaconyuge=i.cedula_conyuge,t.nombreconyuge=i.conyuge,t.id_nivelacademicoconyuge=i.id_nivelacademico_conyuge,t.fechaconyuge=i.fec_nctoconyuge.split("T")[0],t.laboraconyuge=i.labora_conyuge,t.titulo=i.titulo,t.listarDependentes(e.id_empleado),t.listarContactos(e.id_empleado),1!==t.id_estado_civil&&4!==t.id_estado_civil&&5!==t.id_estado_civil||(t.id_nivelacademicoconyuge=6,t.fechaconyuge="1900-01-01",t.cedulaconyuge="0",t.nombreconyuge="N/A",t.validaDatosConyuge.push("No existen datos para Conyuge."))}),this.verNuevo=1,this.editedIndex=1},verPermisos:function(e){var t=this;me.a.get("api/Permisos/Mostrar/"+e.id_empleado,{}).then(function(e){for(var a=e.data.length,i=0,o=0,s=0,n=0,r=0;r<a;r++)"S"==e.data[r].nomina?i+=1:"S"==e.data[r].vacaciones?o+=1:"S"==e.data[r].remunerado?s+=1:"S"==e.data[r].compensado&&(n+=1);t.nomina=i,t.vacaciones=o,t.remunerado=s,t.compensado=n}),this.verNuevo=3},limpiar:function(){this.editedIndex=-1,this.id_empleado="",this.nombre_empleado="",this.fec_ingreso="",this.id_municipio="",this.direccion="",this.barrio="",this.comuna="",this.estrato="",this.celular="",this.telefono_fijo="",this.correo="",this.grupo_sanguineo="",this.id_cargo="",this.id_eps="",this.id_afp="",this.id_estado_civil="",this.id_nivelacademico="",this.sexo="",this.libretamilitar="",this.transporte="",this.talla_bota="",this.talla_camisa="",this.talla_pantalon="",this.id_zona="",this.fec_ncto="",this.id_area="",this.empresa="",this.sede="",this.id_dependencia="",this.jornada="",this.recibedotacion="",this.cedulaconyuge="",this.nombreconyuge="",this.id_nivelacademicoconyuge="",this.fechaconyuge="",this.laboraconyuge="",this.titulo="",this.validaDatospersonales=[],this.validaDatosEstudio=[],this.validaDatosDatosGenerales=[],this.validaDatosConyuge=[]},guardar:function(){var e={Authorization:"Bearer "+this.$store.state.token},t={headers:e};if(this.editedIndex>-1){var a=this;me.a.put("api/Categorias/Actualizar",{id_empleado:a.id_empleado,nombre_empleado:a.nombre_empleado,fec_ingreso:a.fec_ingreso,libreta_militar:a.libretamilitar,id_municipio:a.id_municipio,direccion:a.direccion,barrio:a.barrio,comuna:a.comuna,estrato:a.estrato,celular:a.celular,telefono_fijo:a.telefono_fijo,correo:a.correo,grupo_sanguineo:a.grupo_sanguineo,id_dependencia:a.id_dependencia,id_cargo:a.id_cargo,id_eps:a.id_eps,id_afp:a.id_afp,id_estado_civil:a.id_estado_civil,id_nivelacademico:a.id_nivelacademico,recibe_dotacion:a.recibedotacion,conyuge:a.nombreconyuge,cedula_conyuge:a.cedulaconyuge,sexo:a.sexo,id_zona:a.id_zona,fec_ncto:a.fec_ncto,talla_bota:a.talla_bota,talla_camisa:a.talla_camisa,talla_pantalon:a.talla_pantalon,fec_nctoconyuge:a.fechaconyuge,id_area:a.id_area,id_subsede:a.sede,id_nivelacademico_conyuge:a.id_nivelacademicoconyuge,labora_conyuge:a.laboraconyuge,nit_empresa:a.empresa,id_tipoconductor:a.id_tipoconductor,medio_transporte:a.transporte,placa_operativa:a.placa_operativa,jornada:a.jornada,titulo:a.titulo},t).then(function(e){a.ocultarNuevo(),a.listar(),a.limpiar()}).catch(function(e){console.log(e)})}else{var i=this,o="NO",s="NO";if(""!=i.detalles)o="SI";if(""!=i.contactos)s="SI";me.a.post("api/Categorias/Crear",{dependiente:o,contacto:s,id_empleado:i.id_empleado,nombre_empleado:i.nombre_empleado,fec_ingreso:i.fec_ingreso,compensacion:0,libreta_militar:i.libretamilitar,certificado_judicial:0,id_municipio:i.id_municipio,direccion:i.direccion,barrio:i.barrio,comuna:i.comuna,estrato:i.estrato,celular:i.celular,telefono_fijo:i.telefono_fijo,correo:i.correo,grupo_sanguineo:i.grupo_sanguineo,cod_usuario:1,txt_auditoria:"AUDITORIA",id_dependencia:i.id_dependencia,id_cargo:i.id_cargo,id_estado:1,id_eps:i.id_eps,id_afp:i.id_afp,id_estado_civil:i.id_estado_civil,id_nivelacademico:i.id_nivelacademico,recibe_dotacion:i.recibedotacion,conyuge:i.nombreconyuge,cedula_conyuge:i.cedulaconyuge,sexo:i.sexo,id_zona:i.id_zona,fec_ncto:i.fec_ncto,talla_bota:i.talla_bota,talla_camisa:i.talla_camisa,talla_pantalon:i.talla_pantalon,fec_nctoconyuge:i.fechaconyuge,id_area:i.id_area,id_subsede:i.sede,id_nivelacademico_conyuge:i.id_nivelacademicoconyuge,labora_conyuge:i.laboraconyuge,nit_empresa:i.empresa,abreviatura:"TP",id_tipoconductor:i.id_tipoconductor,medio_transporte:i.transporte,admin_sgi:"N",placa_operativa:i.placa_operativa,jornada:i.jornada,tipo_empleado:"TRANSPRENSA",titulo:i.titulo,detalles:i.detalles,contactos:i.contactos,usuario:i.$store.state.usuario.id_usuario},t).then(function(e){i.ocultarNuevo(),i.listar(),i.limpiar()}).catch(function(e){console.log(e)})}},validar:function(e){return this.valida=0,this.validaDatospersonales=[],this.validaDatosEstudio=[],this.validaDatosDatosGenerales=[],1==e?(this.id_empleado||this.validaDatospersonales.push("Ingresar Documento del Empleado."),this.nombre_empleado||this.validaDatospersonales.push("Ingresar el Nombre del Empleado."),this.fec_ingreso||this.validaDatospersonales.push("Ingresar Fecha Ingreso."),this.fec_ncto||this.validaDatospersonales.push("Ingresar Fecha Nacimiento."),this.id_municipio||this.validaDatospersonales.push("Ingresar Municipio."),this.celular||this.validaDatospersonales.push("Ingresar Numero Celular."),this.correo||this.validaDatospersonales.push("Ingresar Correo."),this.direccion||this.validaDatospersonales.push("Ingresar Direccion."),this.barrio||this.validaDatospersonales.push("Ingresar Barrio."),this.comuna||this.validaDatospersonales.push("Ingresar Comuna."),this.id_estado_civil||this.validaDatospersonales.push("Seleccionar Estado Civil."),this.sexo||this.validaDatospersonales.push("Seleccionar Sexo."),this.libretamilitar||this.validaDatospersonales.push("Seleccionar libreta Militar."),this.transporte||this.validaDatospersonales.push("Seleccionar Medio de Transporte."),this.validaDatospersonales.length&&(this.valida=1),this.valida):2==e?(this.id_nivelacademico||this.validaDatosEstudio.push("Seleccionar Nivel Academico."),this.id_eps||this.validaDatosEstudio.push("Seleccionar Eps."),""===this.id_afp&&this.validaDatosEstudio.push("Seleccionar Afp."),this.validaDatosEstudio.length&&(this.valida=1),this.valida):3==e?(this.empresa||this.validaDatosDatosGenerales.push("Seleccionar Empresa."),""===this.id_zona&&this.validaDatosDatosGenerales.push("Seleccionar Regional."),this.sede||this.validaDatosDatosGenerales.push("Seleccionar Sede."),this.id_dependencia||this.validaDatosDatosGenerales.push("Seleccionar Dependencia."),this.id_area||this.validaDatosDatosGenerales.push("Seleccionar Area."),this.id_cargo||this.validaDatosDatosGenerales.push("Seleccionar Cargo."),this.jornada||this.validaDatosDatosGenerales.push("Seleccionar Turno."),this.recibedotacion||this.validaDatosDatosGenerales.push("Seleccionar Si recibe dotacion."),this.validaDatosDatosGenerales.length&&(this.valida=1),1!==this.id_estado_civil&&4!==this.id_estado_civil&&5!==this.id_estado_civil||(this.id_nivelacademicoconyuge=6,this.fechaconyuge="1900-01-01",this.cedulaconyuge="0",this.nombreconyuge="N/A",this.validaDatosConyuge.push("No existen datos para Conyuge.")),this.valida):void 0},validardependiente:function(){return this.valida=0,this.validaMensaje=[],this.tipodocumentodependiente||this.validaMensaje.push("Seleccione un Tipo de documento."),this.documentodependiente||this.validaMensaje.push("Ingrese Documento."),this.nombredependiente||this.validaMensaje.push("Ingrese Nombre."),this.parentescodependiente||this.validaMensaje.push("Ingrese Parentesco."),this.fechadependiente||this.validaMensaje.push("Ingrese fecha."),this.sexodependiente||this.validaMensaje.push("Seleccione el Sexo."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(e,t){this.adModal=1,this.adNombre=t.num_comprobante,this.adId=t.idingreso,1==e?this.adAccion=1:2==e?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},desactivar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.put("api/Ingresos/Anular/"+this.adId,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})}}},je=Re,Pe=Object(fe["a"])(je,De,ye,!1,null,null,null),ze=Pe.exports,Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Categorías")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[e._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:e.nombreCompras,callback:function(t){e.nombreCompras=t},expression:"nombreCompras"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Descripción"},model:{value:e.descripcionCompras,callback:function(t){e.descripcionCompras=t},expression:"descripcionCompras"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},e._l(e.validaMensaje,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})}))],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.guardar(t)}}},[e._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.adModal,callback:function(t){e.adModal=t},expression:"adModal"}},[a("v-card",[1==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Activar Item?")]):e._e(),2==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Desactivar Item?")]):e._e(),a("v-card-text",[e._v("\n                            Estás a punto de \n                            "),1==e.adAccion?a("span",[e._v("Activar ")]):e._e(),2==e.adAccion?a("span",[e._v("Desactivar ")]):e._e(),e._v("\n                            el ítem "+e._s(e.adNombre)+"\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.activarDesactivarCerrar}},[e._v("\n                                Cancelar\n                            ")]),1==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.activar}},[e._v("\n                                Activar\n                            ")]):e._e(),2==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.desactivar}},[e._v("\n                                Desactivar\n                            ")]):e._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.categorias,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.editItem(t.item)}}},[e._v("\n                    edit\n                    ")]),t.item.condicion?[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(2,t.item)}}},[e._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(1,t.item)}}},[e._v("\n                        check\n                        ")])]],2),a("td",[e._v(e._s(t.item.nombre))]),a("td",[e._v(e._s(t.item.descripcion))]),a("td",[t.item.condicion?a("div",[a("span",{staticClass:"blue--text"},[e._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[e._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2)],1)],1)},Be=[],Fe={data:function(){return{categorias:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre"},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Estado",value:"condicion",sortable:!1}],search:"",editedIndex:-1,id:"",nombreCompras:"",descripcionCompras:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva categoría":"Actualizar categoría"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.listar()},methods:{listar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/CategoriasCompras/Listar",a).then(function(t){e.categorias=t.data}).catch(function(e){console.log(e)})},editItem:function(e){this.id=e.idcategoria,this.nombreCompras=e.nombre,this.descripcionCompras=e.descripcion,this.editedIndex=1,this.dialog=!0},deleteItem:function(e){var t=this.desserts.indexOf(e);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(t,1)},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.nombreCompras="",this.descripcionCompras="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var e={Authorization:"Bearer "+this.$store.state.token},t={headers:e};if(this.editedIndex>-1){var a=this;me.a.put("api/CategoriasCompras/Actualizar",{idcategoria:a.id,nombre:a.nombreCompras,descripcion:a.descripcionCompras},t).then(function(e){a.close(),a.listar(),a.limpiar()}).catch(function(e){console.log(e)})}else{var i=this;me.a.post("api/CategoriasCompras/Crear",{nombre:i.nombreCompras,descripcion:i.descripcionCompras},t).then(function(e){i.close(),i.listar(),i.limpiar()}).catch(function(e){console.log(e)})}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombreCompras.length<3||this.nombreCompras.length>50)&&this.validaMensaje.push("El nombre debe tener más de 3 caracteres y menos de 50 caracteres"),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(e,t){this.adModal=1,this.adNombre=t.nombre,this.adId=t.idcategoria,1==e?this.adAccion=1:2==e?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.put("api/CategoriasCompras/Activar/"+this.adId,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})},desactivar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.put("api/CategoriasCompras/Desactivar/"+this.adId,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})}}},Ue=Fe,Ve=Object(fe["a"])(Ue,Le,Be,!1,null,null,null),Ge=Ve.exports,He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Roles")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[e._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{type:"text",label:"Nuevo Rol"},model:{value:e.desc_perfil,callback:function(t){e.desc_perfil=t},expression:"desc_perfil"}}),e.dialog?e._e():a("v-text-field",{model:{value:e.id_perfil,callback:function(t){e.id_perfil=t},expression:"id_perfil"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.guardar(t)}}},[e._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.verPaginas,callback:function(t){e.verPaginas=t},expression:"verPaginas"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Formulario de Paginas")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-autocomplete",{attrs:{items:e.modulos,label:"Seleccionar Pagina a Ingresar ",autocomplete:""},model:{value:e.idpagina,callback:function(t){e.idpagina=t},expression:"idpagina"}}),e.verPaginas?e._e():a("v-text-field",{model:{value:e.idrol,callback:function(t){e.idrol=t},expression:"idrol"}}),[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.cabeceraPaginas,items:e.paginas},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.eliminarPagina(t.item.id_grupo)}}},[e._v("\n                                                        delete\n                                                        ")])],1),a("td",[e._v(e._s(t.item.descripcion))]),a("td",[e._v(e._s(t.item.tipopagina))]),a("td",[e._v(e._s(t.item.fecha))])]}}])},[a("template",{slot:"no-data"},[a("h3",[e._v("No hay paginas habilitadas para este Rol.")])])],2)]],2)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken",flat:""},on:{click:function(t){e.adicionarPaginas()}}},[e._v("\n                                Adicionar\n                            ")]),a("v-btn",{attrs:{color:"blue darken",flat:""},on:{click:function(t){e.ocultarPaginas()}}},[e._v("\n                                Cancelar\n                            ")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.roles,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.editItem(t.item)}}},[e._v("\n                    edit\n                    ")]),[a("v-icon",{attrs:{small:""},on:{click:function(a){e.mostrarPaginas(t.item.id_perfil)}}},[e._v("\n                        add\n                        ")])]],2),a("td",[e._v(e._s(t.item.id_perfil))]),a("td",[e._v(e._s(t.item.desc_perfil))]),a("td",[t.item.estado?a("div",[a("span",{staticClass:"blue--text"},[e._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[e._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2)],1)],1)},qe=[],Je={data:function(){return{roles:[],paginas:[],modulos:[],editedIndex:-1,dialog:!1,verPaginas:!1,idpagina:"",idrol:"",id_perfil:"",desc_perfil:"",headers:[{text:"Opciones",value:"id_perfil",sortable:!1},{text:"Id",value:"id_perfil"},{text:"Nombre",value:"desc_perfil"},{text:"Estado",value:"condicion",sortable:!1}],cabeceraPaginas:[{text:"Opciones",value:"id_grupo",sortable:!1},{text:"Nombre",value:"nombre",sortable:!1},{text:"Tipo de pagina",value:"tipopagina",sortable:!1},{text:"Fecha",value:"fecha",sortable:!1}],search:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Rol":"Actualizar Rol"}},watch:{},created:function(){this.listar(),this.listarPaginas()},methods:{mostrarPaginas:function(e){var t=this,a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Roles/ListaGrupos/"+e,i).then(function(a){t.paginas=a.data,t.idrol=e}).catch(function(e){console.log(e)}),this.verPaginas=!0},ocultarPaginas:function(){this.verPaginas=!1},eliminarPagina:function(e){var t=this;me.a.delete("api/Roles/Eliminar/"+e).then(function(e){t.mostrarPaginas(t.idrol),console.log("aqui estoy")}).catch(function(e){console.log(e)})},adicionarPaginas:function(){var e=this;me.a.post("api/Roles/Adicionar",{id_perfil:e.idrol,id_pagina:e.idpagina}).then(function(t){e.mostrarPaginas(e.idrol)}).catch(function(e){console.log(e)})},editItem:function(e){this.id_perfil=e.id_perfil,this.desc_perfil=e.desc_perfil,this.editedIndex=1,this.dialog=!0},limpiar:function(){this.desc_perfil="",this.id_perfil="",this.editedIndex=-1},guardar:function(){if(this.editedIndex>-1){var e=this;me.a.put("api/Roles/Actualizar",{id_perfil:e.id_perfil,desc_perfil:e.desc_perfil}).then(function(t){e.close(),e.listar(),e.limpiar()}).catch(function(e){console.log(e)})}else{var t=this;me.a.post("api/Roles/Crear",{desc_perfil:t.desc_perfil}).then(function(e){t.close(),t.listar(),t.limpiar()}).catch(function(e){console.log(e)})}},close:function(){this.dialog=!1},listar:function(){var e=this;me.a.get("api/Roles/Listar").then(function(t){e.roles=t.data}).catch(function(e){console.log(e)})},listarPaginas:function(){var e=this,t=[];me.a.get("api/Roles/ListaPaginas").then(function(a){t=a.data,t.map(function(t){e.modulos.push({text:t.nombre,value:t.id_pagina})})}).catch(function(e){console.log(e)})}}},Xe=Je,$e=Object(fe["a"])(Xe,He,qe,!1,null,null,null),Ke=$e.exports,Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Usuarios")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[e._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-autocomplete",{attrs:{items:e.empleados,label:"Empleado","search-input":e.search1,autocomplete:""},on:{"update:searchInput":function(t){e.search1=t},keyup:e.FiltroEmpleados},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:e.roles,label:"Rol"},model:{value:e.idrol,callback:function(t){e.idrol=t},expression:"idrol"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"password",label:"Password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"email",label:"Correo"},model:{value:e.correo,callback:function(t){e.correo=t},expression:"correo"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},e._l(e.validaMensaje,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})}))],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.guardar(t)}}},[e._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.adModal,callback:function(t){e.adModal=t},expression:"adModal"}},[a("v-card",[1==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Activar Item?")]):e._e(),2==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Desactivar Item?")]):e._e(),a("v-card-text",[e._v("\n                            Estás a punto de \n                            "),1==e.adAccion?a("span",[e._v("Activar ")]):e._e(),2==e.adAccion?a("span",[e._v("Desactivar ")]):e._e(),e._v("\n                            el ítem "+e._s(e.adNombre)+"\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.activarDesactivarCerrar}},[e._v("\n                                Cancelar\n                            ")]),1==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.activar}},[e._v("\n                                Activar\n                            ")]):e._e(),2==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.desactivar}},[e._v("\n                                Desactivar\n                            ")]):e._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.usuarios,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.editItem(t.item)}}},[e._v("\n                    edit\n                    ")]),t.item.estado?[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(2,t.item)}}},[e._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(1,t.item)}}},[e._v("\n                        check\n                        ")])]],2),a("td",[e._v(e._s(t.item.id_perfil))]),a("td",[e._v(e._s(t.item.id_usuario))]),a("td",[e._v(e._s(t.item.nombre))]),a("td",[e._v(e._s(t.item.correo))]),a("td",[t.item.estado?a("div",[a("span",{staticClass:"blue--text"},[e._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[e._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2)],1)],1)},Ze=[],We={data:function(){return{usuarios:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Rol",value:"id_perfil"},{text:"Número Documento",value:"id_usuario"},{text:"Nombre",value:"nombre"},{text:"Correo",value:"correo"},{text:"Estado",value:"estado",sortable:!1}],empleados:[],search:"",editedIndex:-1,id:"",idrol:"",roles:[],nombre:"",tipo_documento:"",documentos:["DNI","RUC","PASAPORTE","CEDULA"],num_documento:"",direccion:"",telefono:"",email:"",password:"",actPassword:!1,passwordAnt:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo usuario":"Actualizar usuario"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.listar(),this.select()},methods:{listar:function(){var e=this;me.a.get("api/Usuarios/Listar").then(function(t){e.usuarios=t.data}).catch(function(e){console.log(e)})},select:function(){var e=this,t=[];me.a.get("api/Roles/Listar").then(function(a){t=a.data,t.map(function(t){e.roles.push({text:t.desc_perfil,value:t.id_perfil})})}).catch(function(e){console.log(e)})},FiltroEmpleados:function(){clearTimeout(this.controladorTiempo),this.controladorTiempo=setTimeout(this.Empleados,500)},Empleados:function(){var e=this,t=[];me.a.get("api/Categorias/ListarFiltroEmpleados/"+e.search1).then(function(a){t=a.data,t.map(function(t){e.empleados.push({text:t.nombre_empleado,value:t.id_empleado})})}).catch(function(e){console.log(e)})},editItem:function(e){this.idrol=e.id_perfil,this.nombre=e.id_usuario,this.password=e.clave,this.passwordAnt=e.clave,this.correo=e.correo,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.idrol="",this.nombre="",this.tipo_documento="",this.num_documento="",this.direccion="",this.telefono="",this.email="",this.password="",this.passwordAnt="",this.actPassword=!1,this.editedIndex=-1},guardar:function(){var e=this;if(!this.validar())if(this.editedIndex>-1){var t=this;me.a.put("api/Usuarios/Actualizar",{id_empleado:t.nombre,id_usuario:t.nombre,id_perfil:t.idrol,clave:t.password,correo:t.correo}).then(function(e){t.close(),t.listar(),t.limpiar()}).catch(function(e){console.log(e)})}else{var a=this;me.a.post("api/Usuarios/Crear",{id_usuario:a.nombre,id_empleado:a.nombre,id_perfil:a.idrol,clave:a.password,correo:a.correo,estado:1}).then(function(e){a.close(),a.listar(),a.limpiar()}).catch(function(t){return e.valida=0,e.validaMensaje=[],400==t.response.status?(e.validaMensaje.push(t.response.data),e.valida=1):t.response.status,e.valida})}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<3||this.nombre.length>100)&&this.validaMensaje.push("Ingrese el Usuario."),this.idrol||this.validaMensaje.push("Seleccione un rol."),this.password||this.validaMensaje.push("Ingrese el password del usuario."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(e,t){this.adModal=1,this.adNombre=t.id_usuario,this.adId=t.id_usuario,1==e?this.adAccion=1:2==e?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var e=this;me.a.put("api/Usuarios/Activar/"+this.adId,{}).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})},desactivar:function(){var e=this;me.a.put("api/Usuarios/Desactivar/"+this.adId,{}).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})}}},Qe=We,et=Object(fe["a"])(Qe,Ye,Ze,!1,null,null,null),tt=et.exports,at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",{attrs:{xs12:"",sm8:""}},[a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Perfil de Usuario")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("p",[e._v("Información de Perfil")])],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"Documento",readonly:""},model:{value:e.documento,callback:function(t){e.documento=t},expression:"documento"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg8:"",xl8:""}},[a("v-text-field",{attrs:{type:"text",label:"Nombre",readonly:""},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"text",label:"Rol",readonly:""},model:{value:e.rol,callback:function(t){e.rol=t},expression:"rol"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"text",label:"Regional",readonly:""},model:{value:e.regional,callback:function(t){e.regional=t},expression:"regional"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"text",label:"Cargo",readonly:""},model:{value:e.cargo,callback:function(t){e.cargo=t},expression:"cargo"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{type:"text",label:"Correo",readonly:""},model:{value:e.correo,callback:function(t){e.correo=t},expression:"correo"}})],1)],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm4:"","offset-sm1":""}},[a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Cambio de Contraseña")]),a("v-spacer")],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{type:"password",label:"Contraseña Nueva"},model:{value:e.password1,callback:function(t){e.password1=t},expression:"password1"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{type:"password",label:"Confirmar Contraseña"},model:{value:e.password2,callback:function(t){e.password2=t},expression:"password2"}})],1),a("v-btn",{attrs:{block:"",color:"primary",dark:""},on:{click:function(t){e.CambioClave()}}},[e._v("Actualizar")])],1)],1)],1)],1)},it=[],ot={data:function(){return{documento:"",nombre:"",correo:"",regional:"",cargo:"",rol:"",password1:"",password2:""}},created:function(){this.listar()},methods:{listar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/Usuarios/Mostrar/"+ke.state.usuario.id_usuario,a).then(function(t){e.nombre=t.data["nombre"],e.regional=t.data["regional"],e.cargo=t.data["cargo"],e.correo=t.data["correo"],e.documento=t.data["id_usuario"],e.rol=t.data["rol"]}).catch(function(e){console.log(e)})},CambioClave:function(){var e=this;e.password1==e.password2?me.a.put("api/Usuarios/CambioClave",{id_usuario:ke.state.usuario.id_usuario,clave:e.password1}).then(function(t){e.password1="",e.password2="",Se.a.fire({type:"success",title:"Contraseña Actualizada",showConfirmButton:!1,timer:1e3})}).catch(function(e){console.log(e)}):Se.a.fire({type:"error",title:"Las contraseñas no coinciden",showConfirmButton:!1,timer:1e3})}}},st=ot,nt=Object(fe["a"])(st,at,it,!1,null,null,null),rt=nt.exports,lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg5:"",xl4:""}},[a("v-card",[a("v-toolbar",{staticStyle:{"border-radius":"2px",width:"93%"},attrs:{dark:"",color:"blue darken-3",floating:""}},[a("v-toolbar-title",[e._v("\n                    Acceso al Sistema\n                ")])],1),a("v-card-text",[a("v-text-field",{attrs:{autofocus:"",color:"accent",label:"Documento",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{type:"password",color:"accent",label:"Password",required:""},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.ingresar(t):null}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e.error?a("v-flex",{staticClass:"red--text"},[e._v("\n                    "+e._s(e.error)+"\n                ")]):e._e()],1),a("v-card-actions",{staticClass:"px-3 pb-3"},[a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{attrs:{color:"primary"},on:{click:e.ingresar}},[e._v("Ingresar")])],1)],1)],1)],1)],1)},ct=[],dt={data:function(){return{email:"",password:"",error:null}},methods:{ingresar:function(){var e=this;this.error=null,me.a.post("api/Usuarios/Login",{id_usuario:this.email,clave:this.password}).then(function(e){return e.data}).then(function(t){e.$store.dispatch("guardarToken",t.token),e.$router.push({name:"home"})}).catch(function(t){t.response?e.error=t.response.data:e.error="Ocurrió un error"})}}},ut=dt,vt=Object(fe["a"])(ut,lt,ct,!1,null,null,null),mt=vt.exports,pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-alert",{attrs:{outline:"",type:"error",dismissible:""},model:{value:e.AlertaPermiso,callback:function(t){e.AlertaPermiso=t},expression:"AlertaPermiso"}},[e._v("\n            No tienes permisos para realizar esta Accion.\n            ")]),a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Permisos")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(t){e.listarfiltro()}}},[e._v("Buscar")]),a("v-spacer"),a("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"50%"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},on:{click:function(t){e.Consecutivopermiso()}},slot:"activator"},[e._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Codigo",readonly:""},model:{value:e.id_permiso,callback:function(t){e.id_permiso=t},expression:"id_permiso"}})],1),a("v-flex",{attrs:{xs12:"",sm5:"",md5:""}},[a("v-autocomplete",{attrs:{items:e.empleados,label:"Empleado","search-input":e.search1,autocomplete:""},on:{"update:searchInput":function(t){e.search1=t},keyup:e.FiltroEmpleados},model:{value:e.id_empleado,callback:function(t){e.id_empleado=t},expression:"id_empleado"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[a("v-select",{attrs:{items:e.clasificapermiso,label:"Clase de Permiso","single-line":""},model:{value:e.id_clasificapermiso,callback:function(t){e.id_clasificapermiso=t},expression:"id_clasificapermiso"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:!e.dialog,expression:"!dialog"}],attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{readonly:""},model:{value:e.fechaHoy,callback:function(t){e.fechaHoy=t},expression:"fechaHoy"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-select",{attrs:{items:e.seleccionar,label:"Seleccionar Hora o Dia","single-line":""},model:{value:e.seleccionarHoD,callback:function(t){e.seleccionarHoD=t},expression:"seleccionarHoD"}})],1),"H"==e.seleccionarHoD?a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.fecha_inicio,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(t){e.fecha_inicio=t}},model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[a("v-text-field",{attrs:{slot:"activator",label:"Fecha Inicial","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.fecha_inicio,callback:function(t){e.fecha_inicio=t},expression:"fecha_inicio"}}),a("v-date-picker",{on:{input:function(t){e.$refs.menu2.save(e.fecha_inicio)}},model:{value:e.fecha_inicio,callback:function(t){e.fecha_inicio=t},expression:"fecha_inicio"}})],1)],1):e._e(),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:"H"==e.seleccionarHoD,expression:"seleccionarHoD == 'H'"}],attrs:{xs12:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Horas Totales",readonly:""},model:{value:e.hrs_permiso,callback:function(t){e.hrs_permiso=t},expression:"hrs_permiso"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:"H"==e.seleccionarHoD,expression:"seleccionarHoD == 'H'"}],attrs:{xs12:"",sm12:"",md12:""}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.hora_inicio,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.hora_inicio=t}},model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-text-field",{attrs:{slot:"activator",label:"Hora de Salida","prepend-icon":"access_time",readonly:""},slot:"activator",model:{value:e.hora_inicio,callback:function(t){e.hora_inicio=t},expression:"hora_inicio"}}),a("v-time-picker",{attrs:{format:"24hr"},on:{change:function(t){e.$refs.menu.save(e.hora_inicio)}},model:{value:e.hora_inicio,callback:function(t){e.hora_inicio=t},expression:"hora_inicio"}})],1)],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:"H"==e.seleccionarHoD,expression:"seleccionarHoD == 'H'"}],attrs:{xs12:"",sm12:"",md12:""}},[a("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.hora_fin,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.hora_fin=t}},model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[a("v-text-field",{attrs:{slot:"activator",label:"Hora de Llegada","prepend-icon":"access_time",readonly:""},on:{change:e.calcular},slot:"activator",model:{value:e.hora_fin,callback:function(t){e.hora_fin=t},expression:"hora_fin"}}),a("v-time-picker",{attrs:{format:"24hr"},on:{change:function(t){e.$refs.menu1.save(e.hora_fin)}},model:{value:e.hora_fin,callback:function(t){e.hora_fin=t},expression:"hora_fin"}})],1)],1),"D"==e.seleccionarHoD?a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.fecha_inicio,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(t){e.fecha_inicio=t}},model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[a("v-text-field",{attrs:{slot:"activator",label:"Fecha Inicial","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.fecha_inicio,callback:function(t){e.fecha_inicio=t},expression:"fecha_inicio"}}),a("v-date-picker",{on:{input:function(t){e.$refs.menu2.save(e.fecha_inicio)}},model:{value:e.fecha_inicio,callback:function(t){e.fecha_inicio=t},expression:"fecha_inicio"}})],1)],1):e._e(),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:"D"==e.seleccionarHoD,expression:"seleccionarHoD == 'D'"}],attrs:{xs12:"",sm6:"",md6:""}},[a("v-menu",{ref:"menu3",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.fecha_final,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(t){e.fecha_final=t}},model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[a("v-text-field",{attrs:{slot:"activator",label:"Fecha Final","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.fecha_final,callback:function(t){e.fecha_final=t},expression:"fecha_final"}}),a("v-date-picker",{on:{input:function(t){e.$refs.menu3.save(e.fecha_final)}},model:{value:e.fecha_final,callback:function(t){e.fecha_final=t},expression:"fecha_final"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:e.TipoDcto,label:"Tipo de Permiso","single-line":""},model:{value:e.seleccionarDcto,callback:function(t){e.seleccionarDcto=t},expression:"seleccionarDcto"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-autocomplete",{attrs:{items:e.empleados,label:"Persona Quien Reemplaza","search-input":e.search2,autocomplete:""},on:{"update:searchInput":function(t){e.search2=t},keyup:e.FiltroEmpleados2},model:{value:e.id_reemplaza,callback:function(t){e.id_reemplaza=t},expression:"id_reemplaza"}},[e._v(">\n                                ")])],1),"3"==e.seleccionarDcto?a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-select",{attrs:{items:e.seleccionar,label:"Seleccionar Hora o Dia Compensatorio","single-line":""},model:{value:e.seleccionarCompensado,callback:function(t){e.seleccionarCompensado=t},expression:"seleccionarCompensado"}})],1):e._e(),"H"==e.seleccionarCompensado&"3"==e.seleccionarDcto?a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-menu",{ref:"menu4",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.fecha_inicio_compensado,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(t){e.fecha_inicio_compensado=t}},model:{value:e.menu4,callback:function(t){e.menu4=t},expression:"menu4"}},[a("v-text-field",{attrs:{slot:"activator",label:"Fecha Inicial","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.fecha_inicio_compensado,callback:function(t){e.fecha_inicio_compensado=t},expression:"fecha_inicio_compensado"}}),a("v-date-picker",{on:{input:function(t){e.$refs.menu4.save(e.fecha_inicio_compensado)}},model:{value:e.fecha_inicio_compensado,callback:function(t){e.fecha_inicio_compensado=t},expression:"fecha_inicio_compensado"}})],1)],1):e._e(),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:"H"==e.seleccionarCompensado&"3"==e.seleccionarDcto,expression:"seleccionarCompensado == 'H' &  seleccionarDcto == '3'"}],attrs:{xs12:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Horas Totales",readonly:""},model:{value:e.hrs_permiso,callback:function(t){e.hrs_permiso=t},expression:"hrs_permiso"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:"H"==e.seleccionarCompensado&"3"==e.seleccionarDcto,expression:"seleccionarCompensado == 'H' &  seleccionarDcto == '3'"}],attrs:{xs12:"",sm12:"",md12:""}},[a("v-menu",{ref:"menu5",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.hora_inicio_compensado,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.hora_inicio_compensado=t}},model:{value:e.menu5,callback:function(t){e.menu5=t},expression:"menu5"}},[a("v-text-field",{attrs:{slot:"activator",label:"Hora de Salida","prepend-icon":"access_time",readonly:""},slot:"activator",model:{value:e.hora_inicio_compensado,callback:function(t){e.hora_inicio_compensado=t},expression:"hora_inicio_compensado"}}),a("v-time-picker",{attrs:{format:"24hr"},on:{change:function(t){e.$refs.menu5.save(e.hora_inicio_compensado)}},model:{value:e.hora_inicio_compensado,callback:function(t){e.hora_inicio_compensado=t},expression:"hora_inicio_compensado"}})],1)],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:"H"==e.seleccionarCompensado&"3"==e.seleccionarDcto,expression:"seleccionarCompensado == 'H' &  seleccionarDcto == '3'"}],attrs:{xs12:"",sm12:"",md12:""}},[a("v-menu",{ref:"menu6",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.hora_fin_compensado,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.hora_fin_compensado=t}},model:{value:e.menu6,callback:function(t){e.menu6=t},expression:"menu6"}},[a("v-text-field",{attrs:{slot:"activator",label:"Hora de Llegada","prepend-icon":"access_time",readonly:""},on:{change:e.calcular},slot:"activator",model:{value:e.hora_fin_compensado,callback:function(t){e.hora_fin_compensado=t},expression:"hora_fin_compensado"}}),a("v-time-picker",{attrs:{format:"24hr"},on:{change:function(t){e.$refs.menu6.save(e.hora_fin_compensado)}},model:{value:e.hora_fin_compensado,callback:function(t){e.hora_fin_compensado=t},expression:"hora_fin_compensado"}})],1)],1),"D"==e.seleccionarCompensado&"3"==e.seleccionarDcto?a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-menu",{ref:"menu7",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.fecha_inicio_compensado,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(t){e.fecha_inicio_compensado=t}},model:{value:e.menu7,callback:function(t){e.menu7=t},expression:"menu7"}},[a("v-text-field",{attrs:{slot:"activator",label:"Fecha Inicial","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.fecha_inicio_compensado,callback:function(t){e.fecha_inicio_compensado=t},expression:"fecha_inicio_compensado"}}),a("v-date-picker",{on:{input:function(t){e.$refs.menu7.save(e.fecha_inicio_compensado)}},model:{value:e.fecha_inicio_compensado,callback:function(t){e.fecha_inicio_compensado=t},expression:"fecha_inicio_compensado"}})],1)],1):e._e(),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:"D"==e.seleccionarCompensado&"3"==e.seleccionarDcto,expression:"seleccionarCompensado == 'D' &  seleccionarDcto == '3'"}],attrs:{xs12:"",sm6:"",md6:""}},[a("v-menu",{ref:"menu8",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.fecha_final_compensado,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(t){e.fecha_final_compensado=t}},model:{value:e.menu8,callback:function(t){e.menu8=t},expression:"menu8"}},[a("v-text-field",{attrs:{slot:"activator",label:"Fecha Final","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.fecha_final_compensado,callback:function(t){e.fecha_final_compensado=t},expression:"fecha_final_compensado"}}),a("v-date-picker",{on:{input:function(t){e.$refs.menu8.save(e.fecha_final_compensado)}},model:{value:e.fecha_final_compensado,callback:function(t){e.fecha_final_compensado=t},expression:"fecha_final_compensado"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-textarea",{attrs:{label:"Motivo",rules:e.motivoRules,required:""},model:{value:e.motivo_permiso,callback:function(t){e.motivo_permiso=t},expression:"motivo_permiso"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},e._l(e.validaMensaje,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})}))],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.closedialog(t)}}},[e._v("Cancelar")]),"SOLICITADO"==this.estado?a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.guardar(t)}}},[e._v("Guardar")]):e._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.adModal,callback:function(t){e.adModal=t},expression:"adModal"}},[a("v-card",[2==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Aprobar Permiso?")]):e._e(),1==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Anular Permiso?")]):e._e(),a("v-card-text",[e._v("\n                            Estás a punto de \n                            "),2==e.adAccion?a("span",[e._v("Aprobar ")]):e._e(),1==e.adAccion?a("span",[e._v("Anular ")]):e._e(),e._v("\n                            el permiso "+e._s(e.adNombre)+"\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.activarDesactivarCerrar}},[e._v("\n                                Cancelar\n                            ")]),2==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.activar}},[e._v("\n                                Aprobar\n                            ")]):e._e(),1==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.desactivar}},[e._v("\n                                Anular\n                            ")]):e._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.Actualizacion,callback:function(t){e.Actualizacion=t},expression:"Actualizacion"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Cedula"},model:{value:e.id_empleado,callback:function(t){e.id_empleado=t},expression:"id_empleado"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"fecha_registro"},model:{value:e.fecha_registro,callback:function(t){e.fecha_registro=t},expression:"fecha_registro"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer")],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.categorias,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},["SOLICITADO"==t.item.estado?[a("v-icon",{staticClass:"mr-2",on:{click:function(a){e.crearPDF(t.item.id_permiso)}}},[e._v("print")])]:[a("v-icon",{staticClass:"mr-2"},[e._v("print")])],[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.editItem(t.item)}}},[e._v("edit")])],"SOLICITADO"==t.item.estado?[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(1,t.item)}}},[e._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""}},[e._v("\n                        lock\n                        ")])]],2),a("td",[e._v(e._s(t.item.id_permiso))]),a("td",[e._v(e._s(t.item.id_empleado))]),a("td",[e._v(e._s(t.item.nombre))]),a("td",[e._v(e._s(t.item.fecha_registro.split("T")[0]))]),a("td",[e.esAdministrador&&"SOLICITADO"==t.item.estado?[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(2,t.item)}}},[e._v("\n                        check\n                        ")])]:"SOLICITADO"==t.item.estado?a("div",[a("span",{staticClass:"blue--text"},[e._v("Activo")])]):"CONCEDIDO"==t.item.estado?a("div",[a("span",{staticClass:"green--text"},[e._v("Aprobado")])]):a("div",[a("span",{staticClass:"red--text"},[e._v("Anulado")])])],2)]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2)],1)],1)},ht=[],ft=a("e511"),xt=a.n(ft),bt=(a("0da4"),{data:function(){return{categorias:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Codigo",value:"id_permiso"},{text:"Cedula",value:"id_empleado"},{text:"Nombre",value:"nombre"},{text:"Fecha",value:"fec_inicio"},{text:"Estado",value:"estado"}],search:"",search1:null,search2:null,editedIndex:-1,id_permiso:"",id_clasificapermiso:null,clasificapermiso:[{text:"EPS",value:"1"},{text:"TERAPIAS",value:"2"},{text:"CALAMIDAD",value:"3"},{text:"PERSONAL",value:"4"},{text:"ESTUDIO",value:"5"},{text:"ARL",value:"6"},{text:"GESTION ADMINISTRATIVA",value:"7"}],seleccionarDcto:null,TipoDcto:[{text:"DESCUENTO POR NOMINA",value:"0"},{text:"DESCUENTO POR VACACIONES",value:"1"},{text:"REMUNERADO",value:"2"},{text:"COMPENSADO",value:"3"}],permisos:[],seleccionar:[{text:"HORA",value:"H"},{text:"DIA",value:"D"}],id_empleado:null,empleados:[],hora_inicio:"00:00",hora_fin:"00:00",hora_inicio_compensado:"00:00",hora_fin_compensado:"00:00",seleccionarHoD:"",seleccionarCompensado:"",por_hora:"N",por_dia:"N",hrs_permiso:"0",id_reemplaza:"0",row:null,motivo_permiso:"",motivoRules:[function(e){return!!e||"Motivo es Requerido"}],valida:0,validaMensaje:[],adModal:0,Actualizacion:0,adAccion:0,adNombre:"",adId:"",estado:"",fecha_registro:(new Date).toISOString().substr(0,10),fecha_inicio:(new Date).toISOString().substr(0,10),fecha_final:(new Date).toISOString().substr(0,10),fecha_inicio_compensado:(new Date).toISOString().substr(0,10),fecha_final_compensado:(new Date).toISOString().substr(0,10),fechaHoy:(new Date).toISOString().substr(0,10),menu:!1,menu1:!1,menu2:!1,menu3:!1,menu4:!1,menu5:!1,menu6:!1,menu7:!1,menu8:!1,modal:!1,time:null,reactive:!1,AlertaPermiso:!1,customFilter:function(e,t,a){var i=function(e){return null!=e?e:""},o=i(e.name),s=i(t);return o.toString().toLowerCase().indexOf(s.toString().toLowerCase())>-1}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Permiso":"Actualizar Permiso"},esAdministrador:function(){return this.$store.state.usuario&&"1"==this.$store.state.usuario.rol}},watch:{dialog:function(e){e||this.closedialog()}},created:function(){this.listar()},methods:{FiltroEmpleados:function(){clearTimeout(this.controladorTiempo),this.controladorTiempo=setTimeout(this.Empleados,500)},Empleados:function(){var e=this,t=[];me.a.get("api/Categorias/ListarFiltroEmpleados/"+e.search1).then(function(a){t=a.data,t.map(function(t){e.empleados.push({text:t.nombre_empleado,value:t.id_empleado})})}).catch(function(e){console.log(e)})},FiltroEmpleados2:function(){clearTimeout(this.controlador),this.controlador=setTimeout(this.Empleados2,500)},Empleados2:function(){var e=this,t=[];me.a.get("api/Categorias/ListarFiltroEmpleados/"+e.search2).then(function(a){t=a.data,t.map(function(t){e.empleados.push({text:t.nombre_empleado,value:t.id_empleado})})}).catch(function(e){console.log(e)})},crearPDF:function(e){me.a.get("api/Permisos/MostrarPDF/"+e,{}).then(function(e){e.data.id_reemplaza;me.a.get("api/Categorias/Mostrar/"+e.data.id_reemplaza,{}).then(function(t){var a=t.data.nombre_empleado;me.a.get("api/Permisos/Mostrar/"+e.data.id_empleado,{}).then(function(t){var i=t.data.length,o=e.data.fecha_registro.split("T"),s=e.data.fec_inicio.split("T"),n=s,r=e.data.fec_final.split("T"),l=new Array("","","","","");l&&(l[e.data.id_clasificapermiso-1]="X");var c=new Array("","","","");"S"==e.data.dcto_nomina?c[0]="X":"S"==e.data.dcto_vacaciones?c[1]="X":"S"==e.data.jefe_inmediato?c[2]="X":c[3]="X";var d=new xt.a;d.autoTable({headStyles:{fillColor:0,valign:"middle",halign:"center"},theme:"grid",startY:10,body:[[{content:"                                                            ",colSpan:1,rowSpan:3},{content:"FORMATO DE SOLICITUD DE PERMISO LABORAL",colSpan:1,rowSpan:3,styles:{fontSize:13,valign:"middle",halign:"center"}},{content:"Código: GH.F013.02",styles:{valign:"middle",halign:"center"}}],[{content:"Fecha emisión: 16/03/2016     ",styles:{valign:"middle",halign:"center"}}],[{content:"Página 1 de 3",styles:{valign:"middle",halign:"center"}}]]});var u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKEAAAAvCAIAAAAEiT1JAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAACPeSURBVHhe7XwHdFzVue7IXCAJuTFJbuHm5uZiyTYEQ3AgCeUGkhsw4T0CJLioGAM217GNrToqbhgj9yb3hgvuvcmSpvei3utoNCozaqPepmg0I+l9++wzZ4psMC9vrQdZfGsvrXP22Wefs/ffvn/vM+KNM/i8UZBadXJz9Zl7LzvrTi+WXHn5aPqsz29PLK+eTP/fpzM3KAuNXX30ERxyu6v4ZftSSg+llN25JDOXWh1d7A3f4m8DkfGQ2/GcZHGoNGJK1tx7L2GSP39/637eEgVvhfCuJUb6QPKN3bpy+jCKrdXnwjTzg3rzL6GS8KcEC6zOHvaGb/G3gcjYMGgOywgPFc6bkjnnHkto1mz8fXDtad4yKW+F4ItKjHRSkvhsSR19HvDXgm1hyij/3oJKmCziDXWie9TN3vAt/jYQGUus+WEwYsxvxr2W0Ky//OeN+ffxr/E+EvFWZH1JiVP867qM1sEhPGtk1D1LFRcmj2St1r9brx1PVc9fWrCDeb1v8f8ARMaf1acTw/Kf7i8rYYK3f3Lhr7zoTN5y+OQJQp1QQpI1m+TEY3cO9z4lXACfEXrbK1Smw1DBPByjMjRjbpgicpfhIvN6wRgDxsfoAa35AtxLGwr/lswjWNx7DxzI7QQ4YGuAux1TkNb3hqCWzHN8uFs/RMZJpQcwrZz87qWEid76l2OJvKUSxiEHS/QOJU4xY7PIPTra4+o/WHd9b+2VQ6Ybm6pOPyGImiKYi/KU8P3NVadReaDu+q7aSxX99Z3DfeV9JtNQi90znNmiTzNehuB3GC9a7NZ6WysOcJpWewmFHBgu3WhVdw/301G5Rz2nGwU7ay/4GtReutgsaxxqow0o7B6nuD1vr/Hqzhq2JcqO2guXLFJcPaBqWp1p/Dizlpa1GbUbRabzhe3V7YP0dgDTauiwFZr72geG2waG96gsazJqcdcuecOIh8x4bcfQPo159W0D1w+O96otLf1O2oOuvndVRh13dW1m7VZpg7im0z0aILAiS/8eVRM697XMqF1129DQbcdVS69zXZZxTQb7lLUZBvRzNLuFXiUynq1ZFSb7qjJ+84d7U3lLZMGyvFuJFt2fIMhv6STv64d3dKtDZRHwIusqjrNVXmyo/HyG/P3Z+tUH625MEc5DNCFFHlk7aDnVIJiWvQDULFTsLZJwdPJe9qcDIzbc2+MaeFKwIEwR5WsgRoPIV7SxxkEL7X/AbYsuTAPTDJVE+Debqnv3o6KtrpHxh/kSHl/Ni5MGlATVz9ZrBFUdtJPOoeHHU1UPJcrjr1fPPl7IS9SSNkm6JzdpcLWu0/7YRv0dOknSvrovz+byoM2yyxW8lNyAq/EKXqxks9jEPIHgYmHrj1creAnK4GYx4oo2onBXitvwUF6cLKBBovoXW/TWQRfP4XE9L/krxhYkxS8uYcK3H9q0j7cUhGuCOO9WktSH9Eb60hze0CSBYUHDRO25bJUXs3VrMN0vSBaj0NcLFYU/LXhvwG1fVX5kqooJLhxTwzEJ5FGXLDLcW9nfgEri/7kGTJmqfTehZB/tf1vNuamU3gf2A1052njF1OaeRAgj2EYghcRAEjWPpSoHnIQS5jX1kTbx8hkb1ffHCnjRTBu++t0zZbg670QxmXrUoJ4W2km0CPLQmEji8NqBPKIEtJ4tWbx42XfiBNQKIcXJKTJegpyZRr9m8bJH18npa2wU1UFvghvgccn6VFxqdnSGZU6gP19cMkGq33lwzSnGV/tJ8YtLgmbR5QBBwrU+I1oI65yaGV410MjWMrB5nC9IlhDrzAhnZn8uQjjk+poyYXRs7C3tyjBVVKhoHltIRjB3yu05qFxeuAu3Z7TqKYskgZ9pQwcIq31VGYsGLfbOGaIFpJ7pme2HKRC8ti9XXDZIDAUzBRHGSkiJETNCgk8SQkJSQzf6gYXBsnkrMieRem/jlJwdsvp+h/sf+WJeDG5EpZQtMC/cjsZ89cmcZvQAdSH2h0ruKex0qdLLrWjwwdkyVn7cm9CSrPttWjYaAHOhTMn6gKv0KXGymVu1PH1XBWG5QhIUv0TSmGsmdoaK3vnZzQX38a/zlkkI57pboe/KlQTVfx9U03eiKOurC8si8/6s+MN+xsdygEednhlJhAfBQAaCuU+L3p+pXgTqAGb+qjJmpmwhakil8D2QOCJjJul6R7cKt+83XgM5x71PCOY/I174S+H7obfRYC78wfPSJWhwtlEEhcB40fOTgnfRCe3tackHvxR/0OyypElbiOONFnwnXvDjFOkPkyWMwCBmjCsTbnCbtB79rM8y8vgaMjoIOE56f2wWWj68Wq2q60GghX1jun+6WvbynhzI4+U9ub/conkwTkgaJ6iO6S2wwu8lEMk9ECvEU36UJP4urkKW6JCvvljY5hzx/DiFik38YKyAdJ4opmXyal3MtSq8AzjBK/tyJ69Sc5fQLAR0GE+JFjyUIOSdb5IQwgWVz5gbyqw/+ITKFdBdTDRCF2aKkOo///TS0vtWSSalyCatlNylIB4oGafhlXG84tc7tJQVU2S26cPkcNQRb2lT/OsBeUchWZPBKwnmThdHpVaeVHeWqDqLG2xtkLGuqwyn2q4yFByrOkuWFGwnRi+LeFuTgtvjivdBxlMz510yywp6a3K6K9eVHw8VhodKw1+SLUODpYXbEZ4xKLhumbUQndDe0K2+i/D/+adKmDgqT7pZA6cqNXTdLLW+f7bsvjiGZiZq4q5Xo1kEDIh4WoxO/ug6xX51k7y2W1LTBca0W9mIZriapmgE4WXL+PgfD+YT009Q3SxrL24eIHrDV8EQtfW96rreM/ktP1lDNAM3ZlZ2EEWBlcfLwj5RfKa3yEjnnegfJauyw9RFnDkcm9bUI6xm69EAzUiYj4VLEEB7eOCuJ+ozzjeJL5gl4KJR2esnxmZ4sCeFC0A+LzRJSEuL8Fi1cp2kZL0UpXhi+VRWgquRZ7NDEKI4McfKp22Q2t3DeC0KsGtMNDxwbPEetsqL4/UZxM4Y09xhuMDW3h3qjpIwyFgROT8nFadw5ojNv5J8aHez9NXssP5cEIkGb6qTQKd/J1+O/p+TLB4cIdMUBAjj2W06TH1IjBCzzNYys/mr7VriwxO1yy9XoObXO3SECsVK/mm1ErGZNqNYeK6MyDhOKqoJYJrEr6I+VlLeNni+oAVPwelRHcsEgcjPS0iDeEVOY+9uBRRFizaHNE3s5XsD6B7sHtHhn+EG2DovYCgzpR9QJ8kKOGsOaC1Ey7a4Z7jHRqZvQpihZAEylv3nJ8Iep29Oo4vSQHAg4z21l9kqL1LKDkEeiKmzFLFOj08t7gbYH1QTYoMzd3iGnxUvgh2/rV3FpYwGxvmjcnnRroahtsezIvHotzUr6dUggC0/sho0R/n9BFFzH6slFP9zgZFcomZlumFkdIw0Q4hNUCFjYVt48V+79GiGiW7o9oUh2PfPN6pho5MTRYPD7lXpBkLKYiTwE2yL8fE5x4tQCQZX3T7EKYrcSML/vaO2wwbWhiH8ZrsuWMbAm5oUWA8nY7jTqJz17LWviA8uFPL4lO8RGT+6XtTrlfHoOEOd5JHwyaBItJJDRM4nRMaKKBg0WxWIIbcDbLHB1tpoa0MmfdB4HV1BhEfrbpnt1jBQaM38eC+FBjSdZVBcVCJXRvJN8iXRPMRp8PnKgYaSPmN5v6nXxSa+RZaBSSRkKp/YqBp2kwyHw4fnysmk81V7VU3mXsekGMK/JidLGrsdbAsGfY6R/1grR8sp6xRdQ65h9yiKY8RzOq/lvniiE8/tIEP+05F8iPP7fFE943UBuPPnd0I5tNCeLpvrt7uziduIk310ubKkeQCuIqexDzYaENgYIBMz9zohWmOnraXPeb6glUSBRM0iaAnbxA9zdR8HyjjyqkXBXvuKWH4VauiVcZz8iU2KYc8IvdQzPABfSmJ85ryqgQZaSTHktr8kX4bn/jwrEn6FrfXC5nYcMN1Ag5kShiWJ3gergh8GgcJrKzqKEFZxL2z6QN119p7xcUI7VFGw3VstGtqAjC5zzuOZEeBcM4QLnpK+93tlTH43ibJXitrIzPLVkAG9ncObRwpAuHAVwVJi6CKsiq/+4/4c9rIXVe1D94M9xUomJ4mQCs86kIsw/MIuPUupErVrGbuf9ikctXbqp0qXZ5TeCOV4ZJUMlYgCbs/YY6kqEo9XCMDbf8AXgff9I1/ycIo84XoVt0jico8e1ppnbNL8KEX2cCIhZeBuD8WDGxLeQGgBbcfBMzY6SxkbJvHKWDAXzKXWu27wVfHWMR0vHqkFI+ME5YtpOvYCZqG/MRREVxIOUt3jGmBrGUCu04kvjXxTk+weCzAjz5gHLAkmHipmUh0wQSbzoUlBaMY83Hus/jZkCT8vaPNN/aeVJ8PUJN0C/5C056EHOkDk0GwnsHJ11BzdWjTeKKyH5DBB8Qyx4oBpRR6MgSBO13XamGBJHO9WqW+9giKjogNEieEiCIpihhgzBQKOEd8fL66x2joGhxELYMevH/RpUmnLIMmzk7TvnirGKXgcI2MmYUM/ME0U1MRKpTWse08VGImqIWQw9Nv3IDw6QZFV1Rks4zZnN8k0MGt0CiThL0qX2e8hIk4EYuFjm/FC3nicoJp1yJc7ZbVlE5Ykj3xLkwLFYmsZKDuKaXBNLj3EVnkhac8npg+J0pyeFhwzKRbe3OlxJZYwpFowr9ov516QswGVsNo+11A20kXImNzIJIS0MAo9PTNiwNO/6HQVccgJymPZAcoNwXwH9hGv+LfVUlgPic3IXGMlE4Pldim0hFFuksAgWaIFCbQQQl18jlB3pbGbCCNJF3OVpEAU10vaiQtJ0m0Qkp26JzeR16BZEFvoZCbp1tw2oEF56+D3EiFyJMT+D2IS12ghdLG6fTBYxoW9hqmicDJ+RsaQQbh+HXvtK6LM2vUgHw/2JvV89aJLvjWQ/car1HnSVQt/nGjIQCTGVWSxbJUXC3M24RaS6VIx00JfVRoBJgF1QYqMuPsb0aJer3uA4F9RRKPy9/Jo96gHsfw1ZTx4BjFiWugqCimzEa3/kFZI0psYsbY+YA97s9hE6vkqankv7sqGU52cKAziZQCJgtASjJoYLldgZOLIUyWI0GhzRGcmbfiqA2qfLm6R1JHoFi+/UNCK043COl48eDvM168fdJuoWXqpEg3gaUh7CBj1Pj1gVCFWgtwazj9YxtctSs6PkYlTRq0qPcJe+4pIyULu6HXUzGvt0/p2kfml+xgZR6YZLrFVXqwpPwJ5YN5hcGwVA/iYJwVkmTosI/yI6VZZn6mk11g90HTeLEFj9BZbtGd4dORX4g9xOxJlLudutltnCOaj8l0mswLMNuvn5qyNVac2VJ3aUn12BRh+Zjj0ZppgtrbNOGWtFtaDqNZrZ9kDUG0d+ve18JzI+zV7lEh5x/6VrAFof7FFg5yKbeTFS2nZ0GmQatjoRrHpkyzjuizjdlmD3NhjG2b3xWOvMt4iVoJ0ltYASMGJzFYICsxkfwU07XqpNeVWTfyNav6N6phrVY+ukxNdSdSiBg1+voGJHbEiCDvf3J/b2Fdk6b9VZv1OvACTP3OrFq8WLONtNecw7z4Zq6KO3YXZfjH0lpZ/Wgvl4ha0hSEJ4iyDz/W9o1tNFkAUkTebyfK9P+bnfAp5QJwt9oDMEhwYjhpqt6xwJ1vFgKxcoiuQLOO1VkcXojIiq3/OndtVgfiNeBy08+Fdlhj3jI8Skq+Mek7+fmad6bvREljSzz5WqOt6MGugshcL24jbRCCMET8YJ2zotiMe08A57yQJnP4YdI78x8eEi/1kjazHT0uCAGcAl/vdOFE9sy4N4G1e2JGNPmF/nYytcyAvyiSCh7VNRDMStWmK+tZ+J2F2fPUz27SIHWxTZpMqJIYQrtnHybsFy5h8pKHw7iUzi38yawF7zQ8jYyOXy00n8us/L2iYWHaqah755BZLFmiJkfwgKaON+UwAGBixwdrISrVgXnFvwEbF8KjrJdkyxM5XlbEjgZ+CII2GnKAW5wKTdRhimGo+wgpItbqzFHkRlTd7eXwc7QnTVkadaQp2/hz+pEqaqnt3bl7C6YImXjT9uIV6WspipOQANYkaKtQbpWzg/CTL55woGnscZIWSr5q2XslWTYDD5SGJcpJueqrSzmxAAd0210/XyFD57DYdR5uDcExv4SWCycpF1Z0oJFonauAS2MsMTuY003rK3gNkjDl9Xc1nFhGJjOG7wjLmmQbJ0rk/Rsc9S6/n3Lcqa9JKBVnOnFB4iSoeTIETMEq88qX9Ks55Vg00omfI+BnxB8huaSUF8t3HMyJgx4vyt7BVXsQU7yHuXRoRtEm1JH87dCI0a16TzXq8IQNGHCaLFAaSatJAEo6sia0KRFar/gnpgjD1/NXVe3ZLm9klaBQuwpEghwgn/UGKorSFhPktEhNxqvGKc/kttBMOxc39/xBN9gN+wBeDE7G1gYAn+B7oW5L2tQN5bBVDoO6PQ2alm3O8iK0KRNvAMFlaSVA9ECuyDrp2yhtgxHhb/41IYNVtA3k3vupcPgnqATLucPYg3fSRanH4C9IlYCjsZS9OFdZNSgHZk/CW0/A+sfhJlxRBSJJmndg3vyJkL2RLMeJ1FT8omJEVK2bzZ1P1abbKi6js9TBHeN35Oannm8QXzVKUc2Yxk0xHPCNaaPM4k0sP4N5pWeGV/b6ce2HuZlQ+IZxvdfbAlN8t2YiuaEFcQIGqkYiujLzaIl5xAayHWYLGQDiaCoNmMpa9SrZbGjhDorPyA5cwAYRSdl8yWvhYqhLJ8Sv7c/+wN4eUQ6XrBcRvsaQ6URPtZ4Ksb2BkZulz/mF/HinMjegB/Ty9WUu6TVD+YjMJcNFXK4iMY6WIu/tUTZ/pzEd1Zhg6XWGdFCNClEGzABkX9day2QgNxvLISP0n7DUvXJ6RGdvEvqz3Xkq0aFJ8RmGrb7nuSN1NYpGKyGUFAZEVONMonMpcOt8kYau8AMPHK1EHAylOz4xEwQF5VWnEG+oktHlHuwom+xvxh30jbFxwjbpfUUajEqR6dHwsIvvjaXnvoX//Aq2CjJ8ULWiytb28q4BMNIRE9wGZPOTBOPEjqxVIiDl9fAGkOkkLXoY0l63yAqGarBVT3w7NAPHkypri5VeIUA9rzQxFV/svRBPeDpklKOGEsyo7eStzmfzb73b6YonaNbeJE158sZy0x1NiRCAHeCgt0Dwo0A+Tia2jWYCMr1mUoZhELhtRRaWUBWeowlpLCJ/Ze+FE+KUlXvXiXvkYfLwX5OsiZSSc6sT9BtAi1E8k1cDyol14JfJumUTM3swHCQ9Rx5iiNEKqJR9CnHT3iYJsFWdGoc8P8jYhs3pZtgxOmw7Qv+Cu1RUHHY5x5L50PeF3e3JS0mvAaddl1X6mt9R1+lbawaQIq0rSgexMDJwgw4iyvATIY8JU8NWncolvj0POQ77ckAaT6iQd7K+h27FDVg8rD74dJU72fb6otoOsgX+cWUt8Mqln3AZXEFniZDB6D/NuATLeUXMepIYbNhT8M1M6e82L+HRm28T/qV9SBCGJyuMFviV7PBaJ7FQtSWauTFglnaNfMzV7wbTMeS2O4A+DrjUrETIhIWJ2gWWqfsGhuhuN9nZIfVruezFFPlKNGBwqi5iW897mytPtzp6pIJIysljtX6A6z8sXtzqthtbhf4gV8uJlP06RgrWyXUxAWesgmcqVeX8+egdCCqQpGphozewScoWcSvXMRtar+/J4K/MfiBVwqoOY9evtOlT+KFk8NOyJOlXMS84OuB0FXiFRs0XMsjxdfQ+phHH7t6ElOfsvxwppswAZf1S4A3JlZZw5Fw4QTJW9xgCk7Pk0BcnKgwV59xKvnLFNOOjyOTSb24GA+nt17Cx1XEU/2Wnn4BodgbW9pF6+MGfTsCcgeQBsbueG8lOvqeJAuWcp/Ioy9neaaH1XRWlf3cvyZb/TRsPhs/fA8bTlvKRcjgaS9nzjUPPL8uVo7387fPiCgo053WRJ4SpZZlLC2v7XQR8VmgjkVKHrVVNSdbvkASvtHECVUwW1v9mpRzxGCkvL9FT1r7Zqu4ZGwEDeOJz3aKoOIdY5wpJqm8vz33tzUfnOsSI0iDhRPDWVvZEWdPXkZu3aDINzhPWIUAuY+8ytAU+hBe+2U8bOrU/GuOGPqng/Uj1velYkJoW9zKDDZp+cnE6+XwkS5N1KtDiEL7pWGTARnjFPs72z0dZutlndo0HL0aMw34bB1o5h366tP/CSFnuH2W4NKo1D7dAPu9sJWt441Gbz+Hgi8rSGoVZUOj0u56gLDfDcoNu7h9kVsVRhHYlwidoEZoXhbhgcdiPoGjuG6OdUd0Nzn6O+y84VU5fN3Mv6hqYeR611qMVvgQx+FWQblW2M/zD3OOo6h/xvR2ns8cULDmgZ1AwF79bvYFNzn4wxrTP9V6rF4S/Klgy6AzrNb+7ixWSST86CZHnnIgpJ1nx4NXhP5usM4iERiRKUR7RfbU/+6wyfjIt6DWFZ80J9pDoCoZG95sXJAmNIovyeCFe0NCRF86cTir7h4NTrawsQlOd3ks8/EM9Uxr+fX1v5ZHyjWe0LxpCx8g7bPp+Kq0PYbzy5wixYxoJNcEUBU3gg6caKW7k9wwFf4n3NAbb8yGoJ+PBD8cLGnm+Man4pfDImpFrpR6pVUUdNt9hrXsw+pecl0PUBWoQhcYLn9mf+5YzsT6ekfz4je/u0LOKCapfGKDX9X245/39EacvAJGTDCcrHU1Ucr/k7gE/GS/O3+5NqpCggouw1L36xXcaL80v7+MrI8/p222C/y97nstG/E9fFvikgvzYgSxbq1w8FD/wbDVbGnvHRN1R87hMfupDE/WyEwmq3/fNK8qkfK+Bo8XeTBWXW4Cz2m4uUdANvbQmzFBW8/PKNBitjQqoF7/mT6uelS5DI0qsUOnP7pASQau/H8XGKp7aQH5783eCAuumtk5VvHa/Iqvr7UVyAlXFJrzFopTpcvy5ws2D8UqmZ+Sze66jjVW8eD976/UYDwyV7tEHD/uaDlfH1ZhVx1PSzJoZwJZceoJc4rCTfdfgRrkTtetEXLRR8i68JWBnvMFxgl/upjJWRh0036SUOsz/P8ZOxICRJebKA3bb01/2gvUIOE6v7He5hv68XPKNjQ8Me9+i9ElquP/fomP9HOYDN5Rm8ywpU0Gu4PGN93vWgiehzuP2/r+CGyXUy4hnDs+zoha3wIehBQadO9yhupAuZ9zJ7/vBv02MbCdoUoR+L+YOV8bL8Hb7EKZP8zkwa+PmHe9Tz7A4lL87rq6OF98UK9OZ2erV9wFnRRvbyOgaHq9rZTb0iSz/dTgcwHtqAg6nTvklUt0fZaHexk3i73LpDVn9IY+YEhikQVHXSzRNAW99byfy+GzOLxvRH3Jjfs/ktK9MN3G58j821S16/UVTXP0HMaMN9yQwMON3HsptXk19q3yEXqLHaUoV1BzVNVBEhxzJmOOi2kvnVL17sdF4L3vl4djP3LQdFa/9wvfezeMDS62z0ftADtPY7dysbdsobsirJ75gtvY4qZly4i24oAdkNvTVWdsYwIZlMSyCvsY+b1ZLmgU+yjCeym0e8g5LUdCXerFEGLuAQGUMvXlfFh3lXqqfciVS3Dw1NTklnPoJhZBwjeTglq9vBLrdiOs4XkC0zYVVnIfOxGbA2w3CxkHyHABisQ9xbApjcnbJ6XX3vDnmDgtlcc7nH9qoa5bXdkI2M+dknUNY6uPhCOS7R05W32Q6LLIOLL7L/K+h2RQdkjBu3SOqpgl8raRNVdx3VmcXeL5ApoO/nC1o5jQFwerPMequsHY9mq7zosY9sl9VjojeJTbnMTnvnkOtSEfmgH0pMx9Lc59irbMK0YiBU4ThoTb30LgqMCBrPnjCnn+ksUkN3JaP3hZZ+pG04SK/ooBaCd+TfqMmsZKkfVHPBmVJ6vPxyBV2D6xh0bZWYcpv61mcZaT8tfc79qsbshr7NYpP/MImMu1x9TweS6hekS/q9e+wUxa09IbF+K9Wxiie2iVzeHz009TjPFbTA52C6qf/B83bIyP88oA0wC5gvegwojN3yWvKikOJVZnhoL6wmjXX1PdyPw26VW3crG6lZo/M1GbU3SonnOKw1H2C21mFSkCVpOj7+md7iYIwJ48Rf+GpzT8DmIHwMvZ0CxnQyl+y4wNkd01v8JwWA/9A3kNfIa+rPqCC/AzZYbSLmDSE/+tEk/uYwbSYCSkB/IU6RXm6FKbMnjF76e1TI9VppO4ICdI46Xty7VVqv9G4ta+p6YpifoTb1OD66XNnWTzbxrpe2w45xACOhk4nXUzJfesOigmVc3FcbFkiq5+jXcN9eUZwqqgvh+61U8zXhp33OvH1gGBaGN6OzAEC74THor6QBYXUX53kANKafKJS0DFBthbC3Sk3p5R2Qn81FfCz6lNZ03Si10s0ZBO+dsgbM3eCwZ5PERAdTZBmA58ABhnQmD+pFXNYWiSn+RrV1IPjzDDhYf8tWm3o0zC/5B5wjUM2A0Y6Pn81rpboFGdNtfG19T4GZzCkk1MhoT2ZFx4orVdtlpokfbV0ubvPfkrpQ0Or0eiNgq6R+baZhn6qRUgFTlx0TVdU2yAkV7wkr5yYTY4Rp2obdt8qs+9SNDtcoxns6r9nBjJf+1hkHeI3wEyUTEz8i4/RWLVnh4ki1IjJpAqleJ6rkJft9GpCkTsrwfXPabRu5UNiK3uG+cOoY8XwqNJ7IaUagog2ulbR321jNhaoijFGFldV2wdvgADJLuVWD6IIklWlFjPiwzoKx0S/UjR22s/mtGC3Gg9tpRIBPLmTmvcvmOpffClvH4DFxx7Mt8dergkwTTox+30QBfYJp4sDc6+BiCgWCKx5Bj2HQNP4Jqzrofj7GAi6GA7juq8XtCBNQR9LUC7iTy0WtnPOGbC759Y+4DulCb9R1PdTnYYDo81Z5O/1sqM8+gnk4lm3BlOIUg8qo6DiT16xv6Lla0gbzRSX0D7OBA+BmWbuReTF4gtKWwSWXKjSmgJ1ZIuNdhotfulIdfjqHl8DJWMDjK84U+bb37SOeNEXD1RLWamGdSbdq+DeqdyuI28RcI0bSSwBYz2Hvzh2cJPVa0FAMFdQMJoVThLddioY1Gcb/uVBGtwdyG3sxmxAe/K2kphsiR+X1kjaMCgewSBFjo5AH5I0DcKUgag2FsPp9ewUCQXtm3HLApODGz/REO2FhiAV0IxbzOwT2NTZ+rqAV4sMBYjnTPBiIApRMUcDB0n8sQYFh+p8CENg2aT1ERU8RrZJv1sRdraZhCHMLGcsMXXBjeE/qtxCMMRU4wAsd1VngwIac7hxmFGCmGCkOOBAZL8zbOFW/gPxcE0UaEaadLw5cqfaMjk7fLOYl6MgWEynyEL4sv9n3ohjzXy+Uwa3h2O0ZO5PfAlPG42HKqMEYNolMUkMXpaNQTJAFCOxqSTsNxgA8LW5sHSAajVPihBlPBf4MSoKDrMpOMNW461WI67fLO7psZN5h/aC1sE5wVOon4MxP5jSjhn526o/96qYrxa2wZspCiZ/QmjEjuxUNQdqAN9koMsHO5p4oojwLOKBplBi6YFt0BiFvhEyYI57F0VoK+MzNEhMuWRgPhLBNxwvajFN4ILA5MBIuAYE1LzpXRv9DD45P5TbDKuDqP2foAnQCgQ9qsfKWwdBhkzAUB6nXukwjHn1cb6YaA/NAFoAIfURnpp6PA5HxdsP5pSU7VxSloSwr2hldnNZk83ETwOkemXVCOGP3rZl70lFmpN387eGMtqEAUpZR3oFh4wCOroBxv1B66oeR9e5RNCJMir36BeNLSa+BEdPJBR8utJCW6IKOHNNEAzZO6bcTMFAMDOOBVSGHoWQbTwQ/3yCq4xIzuLv1AiNUfuLXWFApkHaoHRVJj92FU8iJ/seFIODN6T/AorQfKG4egHkd05sxHJxCGAgr26QmqFQQqYZ7QMSFXCkngocH54dcqYrjcQhAOOXCLYwBlkozNNCOIuYuyIxyTwQCeALcBV2H+XJUDi+GOUSU4Z5+pbgdL+z/c3UKImPX6Miwx4W/7IGXLXOADHqc9k77YLfThoKDftcdEkqKgOF6gVAB2fvPBYybi5ewbHrA4Y6d3BHoOSgPhgyoGIKAx4Gk0BBIAWcTZMH+wBuisX/ii4TK7WeyGA6u+i/jUGA0qMQlOsC7nQZZP8XEgfvPTdA8gQaxR14E/YKGYHz8/wAXBn0w94c+OwAAAABJRU5ErkJggg==";d.addImage(u,"JPEG",18,16,42,12),d.autoTable({headStyles:{fillColor:0,valign:"middle",halign:"center"},bodyStyles:{valign:"middle",halign:"center"},theme:"grid",startY:42,head:[["Fecha","Nombre","Identificacion","Cargo"]],body:[[o[0],e.data.nombre,e.data.id_empleado,e.data.cargo]]}),"S"==e.data.por_hora?(s="",r=""):(n="",e.data.hora_inicio="",e.data.hora_fin=""),d.setFontSize(10);var v=d.internal.pageSize,m=v.width?v.width:v.getWidth(),p=d.splitTextToSize("Con la presente solicito sea estudiada la posibilidad de concederme el siguiente permiso:",m-35,{});d.text(p,14,d.autoTable.previous.finalY+8),d.autoTable({headStyles:{fillColor:0,valign:"middle",halign:"center"},bodyStyles:{valign:"middle",halign:"center"},theme:"grid",startY:d.autoTable.previous.finalY+10,head:[["Hora Fecha","Hora Salida","Hora Llegada","Fecha Salida","Fecha LLegada"]],body:[[n[0],e.data.hora_inicio,e.data.hora_fin,s[0],r[0]]]}),d.autoTable({bodyStyles:{valign:"middle",halign:"center"},theme:"grid",startY:d.autoTable.previous.finalY+5,body:[["Motivo del Permiso","Reemplazo"],[e.data.motivo_permiso,a]]}),d.setFontSize(10);v=d.internal.pageSize,m=v.width?v.width:v.getWidth(),p=d.splitTextToSize("PERMISO SOLICITADO PARA:",m-35,{});d.text(p,14,d.autoTable.previous.finalY+12),d.autoTable({headStyles:{fillColor:0,valign:"middle",halign:"center"},bodyStyles:{valign:"middle",halign:"center"},theme:"grid",startY:d.autoTable.previous.finalY+14,head:[["EPS","TERAPIAS","CALAMIDAD","PERSONAL","ESTUDIO"]],body:[[l[0],l[1],l[2],l[3],l[4]]]}),d.setFontSize(10);v=d.internal.pageSize,m=v.width?v.width:v.getWidth(),p=d.splitTextToSize("Sin excepción el tiempo empleado para asistencia al servicio médico, cuando quiera se tramite cita en horario laboral diferente al establecido por la empresa, deberá compensarse en horario diferente a la jornada laboral o en su defecto se deducirá del pago correspondiente en la quincena subsiguiente a aquella en que se toma el permiso, toda calamidad doméstica deberá ser comprobada y el departamento de seguridad podrá auditar.",m-35,{});d.text(p,14,d.autoTable.previous.finalY+5),d.text("ESPACIO PARA SER DILIGENCIADO POR GESTION HUMANA - EL PERMISO ES:",14,d.autoTable.previous.finalY+25),d.autoTable({headStyles:{fillColor:0,valign:"middle",halign:"center"},bodyStyles:{valign:"middle",halign:"center"},theme:"grid",startY:d.autoTable.previous.finalY+28,head:[["REMUNERADO","COMPENSADO","DCTO NOMINA","DCTO VACACIONES","# PERMISOS"]],body:[[c[2],c[3],c[0],c[1],i]]}),d.text("FIRMAS",14,d.autoTable.previous.finalY+10),d.autoTable({headStyles:{fillColor:0,valign:"middle",halign:"center"},theme:"grid",startY:d.autoTable.previous.finalY+12,head:[["FIRMA SOLICITANTE","FIRMA DEL JEFE","FIRMA DIR NAC RRHH"]],body:[["                                                                        ","                                                                        ","                                                                        "]]}),d.autoTable({headStyles:{fillColor:0,valign:"middle",halign:"center"},bodyStyles:{valign:"middle",halign:"center"},theme:"grid",startY:d.autoTable.previous.finalY+5,head:[[{content:"CONCEDIDO",colSpan:2,rowSpan:1},{content:"JEFE QUE AUTORIZA",colSpan:1,rowSpan:2},{content:"N° PERMISO",colSpan:1,rowSpan:2}],[{content:"SI",colSpan:1,rowSpan:1},{content:"NO",colSpan:1,rowSpan:1}]],body:[["     ","     ",e.data.jefe_autoriza,{content:e.data.id_permiso,styles:{fontSize:25,valign:"middle",halign:"center"}}]]}),d.text("SR TRABAJADOR POR FAVOR MARCAR SU SALIDA Y REGRESO.",14,d.autoTable.previous.finalY+5),d.save("PERMISO "+e.data.id_permiso+".pdf")})}).catch(function(e){console.log(e)})})},listar:function(){if(1==ke.state.usuario.rol){var e=this;me.a.get("api/permisos/listar").then(function(t){e.categorias=t.data}).catch(function(e){console.log(e)})}else{var t=this;me.a.get("api/permisos/listado/"+ke.state.usuario.nombre,{}).then(function(e){t.categorias=e.data}).catch(function(e){console.log(e)})}},listarfiltro:function(){var e=this;if(1==ke.state.usuario.rol){var t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/Permisos/ListarFiltro/"+e.search,a).then(function(t){e.categorias=t.data}).catch(function(e){console.log(e)})}},Reemplazo:function(e){var t=this;0!==this.id_reemplaza?me.a.get("api/Categorias/Mostrar/"+e,{}).then(function(e){t.empleados.push({text:e.data.nombre_empleado,value:e.data.id_empleado}),console.log(t.empleados)}).catch(function(e){console.log(e)}):this.id_reemplaza="SIN REEMPLAZO"},Consecutivopermiso:function(){var e=this;e.limpiar();me.a.get("api/permisos/Consecutivopermiso").then(function(t){e.permisos=t.data,e.id_permiso=e.permisos[0]["id_permiso"]}).catch(function(e){console.log(e)})},calcular:function(){var e=this.hora_inicio.split(":"),t=this.hora_fin.split(":"),a=parseInt(t[0])-parseInt(e[0]),i=parseInt(t[1])-parseInt(e[1]);i<0&&(i+=60,a-=1),this.hrs_permiso=a},editItem:function(e){this.empleados.push({text:e.nombre,value:e.id_empleado}),this.Reemplazo(parseInt(e.id_reemplaza)),this.id_permiso=e.id_permiso;var t=e.id_clasificapermiso;this.id_clasificapermiso=t.toString(),this.por_hora=e.por_hora,"S"==e.por_hora?this.seleccionarHoD="H":this.seleccionarHoD="D","S"==e.dcto_nomina?this.seleccionarDcto="0":"S"==e.dcto_vacaciones?this.seleccionarDcto="1":"S"==e.jefe_inmediato?this.seleccionarDcto="2":this.seleccionarDcto="3",this.por_dia=e.por_dia;var a=e.fec_inicio.split("T");this.fecha_inicio=a[0];var i=e.fec_final.split("T");this.fecha_final=i[0],this.hora_inicio=e.hora_inicio,this.hora_fin=e.hora_fin,this.hrs_permiso=e.hrs_permiso,this.dcto_nomina=e.dcto_nomina,this.dcto_vacaciones=e.dcto_vacaciones,this.jefe_inmediato=e.jefe_inmediato,this.motivo_permiso=e.motivo_permiso,this.id_reemplaza=e.id_reemplaza,this.id_empleado=e.id_empleado,console.log(e.id_reemplaza),console.log(e.id_empleado),this.renumerado=e.renumerado,this.jefe_autoriza=e.jefe_autoriza,this.fecha_registro=e.fecha_registro,this.editedIndex=1,this.estado=e.estado,this.dialog=!0},deleteItem:function(e){var t=this.desserts.indexOf(e);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(t,1)},closedialog:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id_permiso="",this.id_clasificapermiso="",this.id_empleado="",this.fecha_registro=(new Date).toISOString().substr(0,10),this.fecha_inicio=(new Date).toISOString().substr(0,10),this.fecha_final=(new Date).toISOString().substr(0,10),this.fechaHoy=(new Date).toISOString().substr(0,10),this.hora_inicio="00:00",this.hora_fin="00:00",this.motivo_permiso="",this.id_reemplaza="",this.seleccionarDcto="",this.seleccionarHoD="",this.hrs_permiso="0",this.editedIndex=-1,this.estado="SOLICITADO"},guardar:function(){if(!this.validar())if(this.editedIndex>-1){var e=this,t="N",a="N",i=new Array("N","N","N","N"),o="S";"H"==e.seleccionarHoD?a="S":t="S",""!==e.seleccionarDcto&&(i[e.seleccionarDcto]="S"),"4"!=e.id_clasificapermiso&&"5"!=e.id_clasificapermiso||(o="N"),me.a.put("api/Permisos/Actualizar",{id_permiso:e.id_permiso,id_empleado:e.id_empleado,id_clasificapermiso:e.id_clasificapermiso,fecha_registro:e.fechaHoy,por_hora:a,por_dia:t,fec_inicio:e.fecha_inicio,fec_final:e.fecha_final,hora_inicio:e.hora_inicio,hora_fin:e.hora_fin,hrs_permiso:e.hrs_permiso,dcto_nomina:i[0],dcto_vacaciones:i[1],jefe_inmediato:i[2],dir_nalgh:i[3],motivo_permiso:e.motivo_permiso,id_reemplaza:e.id_reemplaza,renumerado:o}).then(function(t){e.closedialog(),e.listar(),e.limpiar()}).catch(function(e){console.log(e)})}else{var s=this;t="N",a="N",i=new Array("N","N","N","N"),o="S";"H"==s.seleccionarHoD?a="S":t="S",""!==s.seleccionarDcto&&(i[s.seleccionarDcto]="S"),"4"!=s.id_clasificapermiso&&"5"!=s.id_clasificapermiso||(o="N"),me.a.get("api/permisos/Consecutivopermiso").then(function(e){e.data;var n=s.permisos[0]["id_permiso"];me.a.post("api/Permisos/Crear",{id_permiso:n,id_empleado:s.id_empleado,id_clasificapermiso:s.id_clasificapermiso,fecha_registro:s.fechaHoy,por_hora:a,por_dia:t,fec_inicio:s.fecha_inicio,fec_final:s.fecha_final,hora_inicio:s.hora_inicio,hora_fin:s.hora_fin,hrs_permiso:s.hrs_permiso,dcto_nomina:i[0],dcto_vacaciones:i[1],jefe_inmediato:i[2],dir_nalgh:i[3],estado:"SOLICITADO",motivo_permiso:s.motivo_permiso,id_reemplaza:s.id_reemplaza,renumerado:o,jefe_autoriza:ke.state.usuario.nombre}).then(function(e){s.crearPDF(n),s.closedialog(),s.listar(),s.limpiar()}).catch(function(e){console.log(e)})})}},validar:function(){return this.valida=0,this.validaMensaje=[],this.id_empleado||this.validaMensaje.push("Ingresar el Empleado"),this.id_clasificapermiso||this.validaMensaje.push("Seleccione la clase del permiso"),this.seleccionarHoD||this.validaMensaje.push("Seleccionar Hora o Dia"),this.seleccionarDcto||this.validaMensaje.push("Seleccionar Tipo de Descuento"),this.motivo_permiso||this.validaMensaje.push("Ingresar Motivo"),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(e,t){this.adModal=1,this.adNombre=t.id_permiso,this.adId=t.id_permiso,2==e?this.adAccion=2:1==e?this.adAccion=1:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var e=this;me.a.put("api/Permisos/Activar/"+this.adId,{}).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})},desactivar:function(){var e=this;me.a.put("api/Permisos/Desactivar/"+this.adId,{}).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})}}});var _t=bt,gt=Object(fe["a"])(_t,pt,ht,!1,null,null,null),Ct=gt.exports,At=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Ingresos")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),0==e.verNuevo?a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}):e._e(),0==e.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(t){e.listar()}}},[e._v("Buscar")]):e._e(),a("v-spacer"),0==e.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:e.mostrarNuevo}},[e._v("Nuevo")]):e._e(),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.verArticulos,callback:function(t){e.verArticulos=t},expression:"verArticulos"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Seleccione un artículo")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Ingrese artículo a buscar"},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.listarArticulo()}},model:{value:e.texto,callback:function(t){e.texto=t},expression:"texto"}}),[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.cabeceraArticulos,items:e.articulos},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.agregarDetalle(t.item)}}},[e._v("\n                                                            add\n                                                            ")])],1),a("td",[e._v(e._s(t.item.nombre))]),a("td",[e._v(e._s(t.item.categoria))]),a("td",[e._v(e._s(t.item.descripcion))]),a("td",[e._v(e._s(t.item.stock))]),a("td",[e._v(e._s(t.item.precio_venta))])]}}])},[a("template",{slot:"no-data"},[a("h3",[e._v("No hay artículos para mostrar.")])])],2)]],2)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken",flat:""},on:{click:function(t){e.ocultarArticulos()}}},[e._v("\n                                    Cancelar\n                                ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.adModal,callback:function(t){e.adModal=t},expression:"adModal"}},[a("v-card",[1==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Activar Item?")]):e._e(),2==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Anular Ingreso?")]):e._e(),a("v-card-text",[e._v("\n                                Estás a punto de \n                                "),1==e.adAccion?a("span",[e._v("Activar ")]):e._e(),2==e.adAccion?a("span",[e._v("Anular ")]):e._e(),e._v("\n                                el ítem "+e._s(e.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.activarDesactivarCerrar}},[e._v("\n                                    Cancelar\n                                ")]),1==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.activar}},[e._v("\n                                    Activar\n                                ")]):e._e(),2==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.desactivar}},[e._v("\n                                    Anular\n                                ")]):e._e()],1)],1)],1)],1),0==e.verNuevo?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.ingresos,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.verDetalles(t.item)}}},[e._v("\n                        tab\n                        ")]),"Aceptado"==t.item.estado?[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(2,t.item)}}},[e._v("\n                            block\n                            ")])]:e._e()],2),a("td",[e._v(e._s(t.item.usuario))]),a("td",[e._v(e._s(t.item.proveedor))]),a("td",[e._v(e._s(t.item.tipo_comprobante))]),a("td",[e._v(e._s(t.item.serie_comprobante))]),a("td",[e._v(e._s(t.item.num_comprobante))]),a("td",[e._v(e._s(t.item.fecha_hora))]),a("td",[e._v(e._s(t.item.impuesto))]),a("td",[e._v(e._s(t.item.total))]),a("td",["Aceptado"==t.item.estado?a("div",[a("span",{staticClass:"blue--text"},[e._v("Aceptado")])]):a("div",[a("span",{staticClass:"red--text"},[e._v(e._s(t.item.estado))])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2):e._e(),e.verNuevo?a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.comprobantes,label:"Tipo Comprobante"},model:{value:e.tipo_comprobante,callback:function(t){e.tipo_comprobante=t},expression:"tipo_comprobante"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Serie Comprobante"},model:{value:e.serie_comprobante,callback:function(t){e.serie_comprobante=t},expression:"serie_comprobante"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Número Comprobante"},model:{value:e.num_comprobante,callback:function(t){e.num_comprobante=t},expression:"num_comprobante"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg8:"",xl8:""}},[a("v-autocomplete",{attrs:{items:e.proveedores,label:"Proveedor",autocomplete:""},model:{value:e.idproveedor,callback:function(t){e.idproveedor=t},expression:"idproveedor"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"Impuesto"},model:{value:e.impuesto,callback:function(t){e.impuesto=t},expression:"impuesto"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg8:"",xl8:""}},[a("v-text-field",{attrs:{label:"Código"},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.buscarCodigo()}},model:{value:e.codigo,callback:function(t){e.codigo=t},expression:"codigo"}})],1),a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("v-btn",{attrs:{small:"",fab:"",dark:"",color:"teal"},on:{click:function(t){e.mostrarArticulos()}}},[a("v-icon",{attrs:{dark:""}},[e._v("list")])],1)],1),e.errorArticulo?a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("div",{staticClass:"red--text",domProps:{textContent:e._s(e.errorArticulo)}})]):e._e(),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.cabeceraDetalles,items:e.detalles,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.eliminarDetalle(e.detalles,t.item)}}},[e._v("\n                                    delete\n                                    ")])],1),a("td",[e._v(e._s(t.item.articulo))]),a("td",[a("v-text-field",{attrs:{type:"number"},model:{value:t.item.cantidad,callback:function(a){e.$set(t.item,"cantidad",a)},expression:"props.item.cantidad"}})],1),a("td",[a("v-text-field",{attrs:{type:"number"},model:{value:t.item.precio,callback:function(a){e.$set(t.item,"precio",a)},expression:"props.item.precio"}})],1),a("td",[e._v("$ "+e._s(t.item.cantidad*t.item.precio))])]}}])},[a("template",{slot:"no-data"},[a("h3",[e._v("No hay artículos agregados al detalle.")])])],2),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[e._v("Total Parcial: ")]),e._v("$ "+e._s(e.totalParcial=(e.total-e.totalImpuesto).toFixed(2))+"\n                        ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[e._v("Total Impuesto: ")]),e._v("$ "+e._s(e.totalImpuesto=(e.total*e.impuesto/(100+e.impuesto)).toFixed(2))+"\n                        ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[e._v("Total Neto: ")]),e._v("$ "+e._s(e.total=e.calcularTotal.toFixed(2))+"\n                        ")])],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},e._l(e.validaMensaje,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})})),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.ocultarNuevo()}}},[e._v("Cancelar")]),0==e.verDet?a("v-btn",{attrs:{color:"success"},on:{click:function(t){e.guardar()}}},[e._v("Guardar")]):e._e()],1)],1)],1):e._e()],1)],1)},kt=[],It={data:function(){return{ingresos:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Usuario",value:"usuario"},{text:"Proveedor",value:"proveedor"},{text:"Tipo Comprobante",value:"tipo_comprobante"},{text:"Serie Comprobante",value:"serie_comprobante",sortable:!1},{text:"Número Comprobante",value:"num_comprobante",sortable:!1},{text:"Fecha",value:"fecha_hora",sortable:!1},{text:"Impuesto",value:"impuesto",sortable:!1},{text:"Total",value:"total",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],cabeceraDetalles:[{text:"Borrar",value:"borrar",sortable:!1},{text:"Artículo",value:"articulo",sortable:!1},{text:"Cantidad",value:"cantidad",sortable:!1},{text:"Precio",value:"precio",sortable:!1},{text:"Subtotal",value:"subtotal",sortable:!1}],detalles:[],search:"",id:"",idproveedor:"",proveedores:[],tipo_comprobante:"",comprobantes:["FACTURA","BOLETA","TICKET","GUIA"],serie_comprobante:"",num_comprobante:"",impuesto:19,codigo:"",verNuevo:0,errorArticulo:null,totalParcial:0,totalImpuesto:0,total:0,cabeceraArticulos:[{text:"Seleccionar",value:"seleccionar",sortable:!1},{text:"Artículo",value:"articulo"},{text:"Categoría",value:"categoria"},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Stock",value:"stock",sortable:!1},{text:"Precio Venta",value:"precio_venta",sortable:!1}],articulos:[],texto:"",verArticulos:0,verDet:0,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{calcularTotal:function(){for(var e=0,t=0;t<this.detalles.length;t++)e+=this.detalles[t].precio*this.detalles[t].cantidad;return e}},watch:{dialog:function(e){e||this.close()}},created:function(){this.listar(),this.select()},methods:{mostrarNuevo:function(){this.verNuevo=1},ocultarNuevo:function(){this.verNuevo=0,this.limpiar()},buscarCodigo:function(){var e=this;e.errorArticulo=null;var t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/Articulos/BuscarCodigoIngreso/"+this.codigo,a).then(function(t){e.agregarDetalle(t.data)}).catch(function(t){console.log(t),e.errorArticulo="No existe el artículo"})},listarArticulo:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/Articulos/ListarIngreso/"+e.texto,a).then(function(t){e.articulos=t.data}).catch(function(e){console.log(e)})},mostrarArticulos:function(){this.verArticulos=1},ocultarArticulos:function(){this.verArticulos=0},agregarDetalle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.errorArticulo=null,this.encuentra(e["idarticulo"])?this.errorArticulo="El artículo ya ha sido agregado.":this.detalles.push({idarticulo:e["idarticulo"],articulo:e["nombre"],cantidad:1,precio:1})},encuentra:function(e){for(var t=0,a=0;a<this.detalles.length;a++)this.detalles[a].idarticulo==e&&(t=1);return t},eliminarDetalle:function(e,t){var a=e.indexOf(t);-1!==a&&e.splice(a,1)},listar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t},i="";i=e.search?"api/Ingresos/ListarFiltro/"+e.search:"api/Ingresos/Listar",me.a.get(i,a).then(function(t){e.ingresos=t.data}).catch(function(e){console.log(e)})},listarDetalles:function(e){var t=this,a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Ingresos/ListarDetalles/"+e,i).then(function(e){t.detalles=e.data}).catch(function(e){console.log(e)})},verDetalles:function(e){this.limpiar(),this.tipo_comprobante=e.tipo_comprobante,this.serie_comprobante=e.serie_comprobante,this.num_comprobante=e.num_comprobante,this.idproveedor=e.idproveedor,this.impuesto=e.impuesto,this.listarDetalles(e.idingreso),this.verNuevo=1,this.verDet=1},select:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Personas/SelectProveedores",i).then(function(a){t=a.data,t.map(function(t){e.proveedores.push({text:t.nombre,value:t.idproveedor})})}).catch(function(e){console.log(e)})},limpiar:function(){this.id="",this.idproveedor="",this.tipo_comprobante="",this.serie_comprobante="",this.num_comprobante="",this.impuesto="19",this.codigo="",this.detalles=[],this.total=0,this.totalImpuesto=0,this.totalParcial=0,this.verDet=0},guardar:function(){if(!this.validar()){var e={Authorization:"Bearer "+this.$store.state.token},t={headers:e},a=this;me.a.post("api/Ingresos/Crear",{idproveedor:a.idproveedor,idusuario:a.$store.state.usuario.id_usuario,tipo_comprobante:a.tipo_comprobante,serie_comprobante:a.serie_comprobante,num_comprobante:a.num_comprobante,impuesto:a.impuesto,total:a.total,detalles:a.detalles},t).then(function(e){a.ocultarNuevo(),a.listar(),a.limpiar()}).catch(function(e){console.log(e)})}},validar:function(){return this.valida=0,this.validaMensaje=[],this.idproveedor||this.validaMensaje.push("Seleccione un proveedor."),this.tipo_comprobante||this.validaMensaje.push("Seleccione un tipo de comprobante."),this.num_comprobante||this.validaMensaje.push("Ingrese el número del comprobante."),(!this.impuesto||this.impuesto<0)&&this.validaMensaje.push("Ingrese un impuesto válido."),this.detalles.length<=0&&this.validaMensaje.push("Ingrese al menos un artículo al detalle."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(e,t){this.adModal=1,this.adNombre=t.num_comprobante,this.adId=t.idingreso,1==e?this.adAccion=1:2==e?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},desactivar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.put("api/Ingresos/Anular/"+this.adId,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})}}},Dt=It,yt=Object(fe["a"])(Dt,At,kt,!1,null,null,null),Nt=yt.exports,Et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(t){e.crearPDF()}}},[a("v-icon",[e._v("print")])],1),a("v-toolbar-title",[e._v("Artículos")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[e._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Código"},model:{value:e.codigo,callback:function(t){e.codigo=t},expression:"codigo"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:e.categorias,label:"Categoría"},model:{value:e.idcategoria,callback:function(t){e.idcategoria=t},expression:"idcategoria"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"number",label:"Stock"},model:{value:e.stock,callback:function(t){e.stock=t},expression:"stock"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"number",label:"Precio Venta"},model:{value:e.precio_venta,callback:function(t){e.precio_venta=t},expression:"precio_venta"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Descripción"},model:{value:e.descripcion,callback:function(t){e.descripcion=t},expression:"descripcion"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},e._l(e.validaMensaje,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})}))],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.guardar(t)}}},[e._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.adModal,callback:function(t){e.adModal=t},expression:"adModal"}},[a("v-card",[1==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Activar Item?")]):e._e(),2==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Desactivar Item?")]):e._e(),a("v-card-text",[e._v("\n                            Estás a punto de \n                            "),1==e.adAccion?a("span",[e._v("Activar ")]):e._e(),2==e.adAccion?a("span",[e._v("Desactivar ")]):e._e(),e._v("\n                            el ítem "+e._s(e.adNombre)+"\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.activarDesactivarCerrar}},[e._v("\n                                Cancelar\n                            ")]),1==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.activar}},[e._v("\n                                Activar\n                            ")]):e._e(),2==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.desactivar}},[e._v("\n                                Desactivar\n                            ")]):e._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.articulos,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.editItem(t.item)}}},[e._v("\n                    edit\n                    ")]),t.item.condicion?[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(2,t.item)}}},[e._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(1,t.item)}}},[e._v("\n                        check\n                        ")])]],2),a("td",[e._v(e._s(t.item.codigo))]),a("td",[e._v(e._s(t.item.nombre))]),a("td",[e._v(e._s(t.item.categoria))]),a("td",[e._v(e._s(t.item.stock))]),a("td",[e._v(e._s(t.item.precio_venta))]),a("td",[e._v(e._s(t.item.descripcion))]),a("td",[t.item.condicion?a("div",[a("span",{staticClass:"blue--text"},[e._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[e._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2)],1)],1)},Ot=[],wt={data:function(){return{articulos:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Código",value:"codigo",sortable:!1},{text:"Nombre",value:"nombre"},{text:"Categoría",value:"categoria"},{text:"Stock",value:"stock",sortable:!1},{text:"Precio Venta",value:"precio_venta",sortable:!1},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Estado",value:"condicion",sortable:!1}],search:"",editedIndex:-1,id:"",idcategoria:"",categorias:[],codigo:"",nombre:"",stock:0,precio_venta:0,descripcion:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo artículo":"Actualizar artículo"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.listar(),this.select()},methods:{crearPDF:function(){var e=[{title:"Nombre",dataKey:"nombre"},{title:"Código",dataKey:"codigo"},{title:"Categoría",dataKey:"categoria"},{title:"Stock",dataKey:"stock"}],t=[];this.articulos.map(function(e){t.push({nombre:e.nombre,codigo:e.codigo,categoria:e.categoria,stock:e.stock})});var a=new xt.a("p","pt");a.autoTable(e,t,{margin:{top:60},addPageContent:function(e){a.text("Listado de Artículos",40,30)}}),a.save("Articulos.pdf")},listar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/Articulos/Listar",a).then(function(t){e.articulos=t.data}).catch(function(e){console.log(e)})},select:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t},i=[];me.a.get("api/CategoriasCompras/Select",a).then(function(t){i=t.data,i.map(function(t){e.categorias.push({text:t.nombre,value:t.idcategoria})})}).catch(function(e){console.log(e)})},editItem:function(e){this.id=e.idarticulo,this.idcategoria=e.idcategoria,this.codigo=e.codigo,this.nombre=e.nombre,this.stock=e.stock,this.precio_venta=e.precio_venta,this.descripcion=e.descripcion,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.idcategoria="",this.codigo="",this.nombre="",this.stock="",this.precio_venta="",this.descripcion="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var e={Authorization:"Bearer "+this.$store.state.token},t={headers:e};if(this.editedIndex>-1){var a=this;me.a.put("api/Articulos/Actualizar",{idarticulo:a.id,idcategoria:a.idcategoria,codigo:a.codigo,nombre:a.nombre,stock:a.stock,precio_venta:a.precio_venta,descripcion:a.descripcion},t).then(function(e){a.close(),a.listar(),a.limpiar()}).catch(function(e){console.log(e)})}else{var i=this;me.a.post("api/Articulos/Crear",{idcategoria:i.idcategoria,codigo:i.codigo,nombre:i.nombre,stock:i.stock,precio_venta:i.precio_venta,descripcion:i.descripcion},t).then(function(e){i.close(),i.listar(),i.limpiar()}).catch(function(e){console.log(e)})}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<3||this.nombre.length>50)&&this.validaMensaje.push("El nombre debe tener más de 3 caracteres y menos de 50 caracteres."),this.idcategoria||this.validaMensaje.push("Seleccione una categoría."),this.stock&&0!=this.stock||this.validaMensaje.push("Ingrese el stock inicial del artículo."),this.precio_venta&&0!=this.precio_venta||this.validaMensaje.push("Ingrese el precio de venta del artículo."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(e,t){this.adModal=1,this.adNombre=t.nombre,this.adId=t.idarticulo,1==e?this.adAccion=1:2==e?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.put("api/Articulos/Activar/"+this.adId,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})},desactivar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.put("api/Articulos/Desactivar/"+this.adId,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})}}},St=wt,Tt=Object(fe["a"])(St,Et,Ot,!1,null,null,null),Mt=Tt.exports,Rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Proveedores")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[e._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:e.documentos,label:"Tipo Documento"},model:{value:e.tipo_documento,callback:function(t){e.tipo_documento=t},expression:"tipo_documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Número Documento"},model:{value:e.num_documento,callback:function(t){e.num_documento=t},expression:"num_documento"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:e.direccion,callback:function(t){e.direccion=t},expression:"direccion"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Teléfono"},model:{value:e.telefono,callback:function(t){e.telefono=t},expression:"telefono"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},e._l(e.validaMensaje,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})}))],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.guardar(t)}}},[e._v("Guardar")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.proveedores,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.editItem(t.item)}}},[e._v("\n                    edit\n                    ")])],1),a("td",[e._v(e._s(t.item.nombre))]),a("td",[e._v(e._s(t.item.tipo_persona))]),a("td",[e._v(e._s(t.item.tipo_documento))]),a("td",[e._v(e._s(t.item.num_documento))]),a("td",[e._v(e._s(t.item.direccion))]),a("td",[e._v(e._s(t.item.telefono))]),a("td",[e._v(e._s(t.item.email))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2)],1)],1)},jt=[],Pt={data:function(){return{proveedores:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre"},{text:"Tipo Persona",value:"tipo_persona"},{text:"Tipo Documento",value:"tipo_documento"},{text:"Número Documento",value:"num_documento",sortable:!1},{text:"Dirección",value:"direccion",sortable:!1},{text:"Teléfono",value:"telefono",sortable:!1},{text:"Email",value:"email",sortable:!1}],search:"",editedIndex:-1,id:"",nombre:"",tipo_documento:"",documentos:["NIT","CEDULA","RUT","RUC"],num_documento:"",direccion:"",telefono:"",email:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo proveedor":"Actualizar proveedor"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.listar()},methods:{listar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/Personas/ListarProveedores",a).then(function(t){e.proveedores=t.data}).catch(function(e){console.log(e)})},editItem:function(e){this.id=e.idproveedor,this.nombre=e.nombre,this.tipo_documento=e.tipo_documento,this.num_documento=e.num_documento,this.direccion=e.direccion,this.telefono=e.telefono,this.email=e.email,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.nombre="",this.tipo_documento="",this.num_documento="",this.direccion="",this.telefono="",this.email="",this.password="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var e={Authorization:"Bearer "+this.$store.state.token},t={headers:e};if(this.editedIndex>-1){var a=this;me.a.put("api/Personas/Actualizar",{idproveedor:a.id,nombre:a.nombre,tipo_documento:a.tipo_documento,num_documento:a.num_documento,direccion:a.direccion,telefono:a.telefono,email:a.email},t).then(function(e){a.close(),a.listar(),a.limpiar()}).catch(function(e){console.log(e),console.log(a.id)})}else{var i=this;me.a.post("api/Personas/Crear",{nombre:i.nombre,tipo_documento:i.tipo_documento,num_documento:i.num_documento,direccion:i.direccion,telefono:i.telefono,email:i.email},t).then(function(e){i.close(),i.listar(),i.limpiar()}).catch(function(e){console.log(e)})}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<3||this.nombre.length>100)&&this.validaMensaje.push("El nombre debe tener más de 3 caracteres y menos de 100 caracteres."),this.tipo_documento||this.validaMensaje.push("Seleccione un tipo documento."),this.validaMensaje.length&&(this.valida=1),this.valida}}},zt=Pt,Lt=Object(fe["a"])(zt,Rt,jt,!1,null,null,null),Bt=Lt.exports,Ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Salida Inventario")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),0==e.verNuevo?a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}):e._e(),0==e.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(t){e.listar()}}},[e._v("Buscar")]):e._e(),a("v-spacer"),0==e.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:e.mostrarNuevo}},[e._v("Nuevo")]):e._e(),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.verArticulos,callback:function(t){e.verArticulos=t},expression:"verArticulos"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Seleccione un artículo")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Ingrese artículo a buscar"},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.listarArticulo()}},model:{value:e.texto,callback:function(t){e.texto=t},expression:"texto"}}),[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.cabeceraArticulos,items:e.articulos},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.agregarDetalle(t.item)}}},[e._v("\n                                                            add\n                                                            ")])],1),a("td",[e._v(e._s(t.item.nombre))]),a("td",[e._v(e._s(t.item.categoria))]),a("td",[e._v(e._s(t.item.descripcion))]),a("td",[e._v(e._s(t.item.stock))]),a("td",[e._v(e._s(t.item.precio_venta))])]}}])},[a("template",{slot:"no-data"},[a("h3",[e._v("No hay artículos para mostrar.")])])],2)]],2)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken",flat:""},on:{click:function(t){e.ocultarArticulos()}}},[e._v("\n                                    Cancelar\n                                ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290px"},model:{value:e.adModal,callback:function(t){e.adModal=t},expression:"adModal"}},[a("v-card",[1==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Activar Item?")]):e._e(),2==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Anular Venta?")]):e._e(),a("v-card-text",[e._v("\n                                Estás a punto de \n                                "),1==e.adAccion?a("span",[e._v("Activar ")]):e._e(),2==e.adAccion?a("span",[e._v("Anular ")]):e._e(),e._v("\n                                el ítem "+e._s(e.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.activarDesactivarCerrar}},[e._v("\n                                    Cancelar\n                                ")]),1==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.activar}},[e._v("\n                                    Activar\n                                ")]):e._e(),2==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.desactivar}},[e._v("\n                                    Anular\n                                ")]):e._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.comprobanteModal,callback:function(t){e.comprobanteModal=t},expression:"comprobanteModal"}},[a("v-card",[a("v-card-text",[a("v-btn",{on:{click:function(t){e.crearPDF()}}},[a("v-icon",[e._v("print")])],1),a("div",{attrs:{id:"factura"}},[a("header",[a("div",{attrs:{id:"datos"}},[a("p",{attrs:{id:"encabezado"}}),a("h1",[e._v("Transprensa")])]),a("div",{attrs:{id:"fact"}},[a("p",[e._v(e._s(e.tipo_comprobante)),a("br"),e._v("\n                                            "+e._s(e.serie_comprobante)+"-"+e._s(e.num_comprobante)),a("br"),e._v("\n                                            "+e._s(e.fecha_hora))])])]),a("br"),a("section",[a("div",[a("table",{attrs:{id:"facliente"}},[a("tbody",[a("tr",[a("td",{attrs:{id:"cliente"}},[a("strong",[e._v("Sr(a). "+e._s(e.cliente))]),a("br"),a("strong",[e._v("Documento:")]),e._v(" "+e._s(e.num_documento)),a("br"),a("strong",[e._v("Dirección:")]),e._v(" "+e._s(e.direccion)),a("br"),a("strong",[e._v("Teléfono:")]),e._v(" "+e._s(e.telefono)),a("br"),a("strong",[e._v("Email:")]),e._v(" "+e._s(e.email)+"\n                                                        ")])])])])])]),a("br"),a("section",[a("div",[a("table",{attrs:{id:"facarticulo"}},[a("thead",[a("tr",{attrs:{id:"fa"}},[a("th",[e._v("CANT")]),a("th",[e._v("DESCRIPCION")]),a("th",[e._v("PRECIO UNIT")]),a("th",[e._v("DESC.")]),a("th",[e._v("PRECIO TOTAL")])])]),a("tbody",e._l(e.detalles,function(t){return a("tr",{key:t.iddetalle_venta},[a("td",{staticStyle:{"text-align":"center"}},[e._v(e._s(t.cantidad))]),a("td",[e._v(e._s(t.articulo))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.precio.toFixed(2)))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.descuento.toFixed(2)))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s((t.cantidad*t.precio-t.descuento).toFixed(2)))])])})),a("tfoot",[a("tr",[a("th"),a("th"),a("th"),a("th",{staticStyle:{"text-align":"right"}},[e._v("SUBTOTAL")]),a("th",{staticStyle:{"text-align":"right"}},[e._v("$ "+e._s(e.totalParcial=(e.total-e.totalImpuesto).toFixed(2)))])]),a("tr",[a("th"),a("th"),a("th"),a("th",{staticStyle:{"text-align":"right"}},[e._v("IGV ("+e._s(e.impuesto)+"%)")]),a("th",{staticStyle:{"text-align":"right"}},[e._v("$ "+e._s(e.totalImpuesto=(e.total*e.impuesto/(100+e.impuesto)).toFixed(2)))])]),a("tr",[a("th"),a("th"),a("th"),a("th",{staticStyle:{"text-align":"right"}},[e._v("TOTAL")]),a("th",{staticStyle:{"text-align":"right"}},[e._v("$ "+e._s(e.total=e.calcularTotal.toFixed(2)))])])])])])]),a("br"),a("br"),a("footer",[a("div",{attrs:{id:"gracias"}},[a("p",[a("b",[e._v("Registro Salida Exitoso!")])])])])]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.ocultarComprobante()}}},[e._v("Cancelar")])],1)],1)],1)],1),0==e.verNuevo?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.ventas,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.verDetalles(t.item)}}},[e._v("\n                        tab\n                        ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.mostrarComprobante(t.item)}}},[e._v("\n                        print\n                        ")]),"Aceptado"==t.item.estado?[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(2,t.item)}}},[e._v("\n                            block\n                            ")])]:e._e()],2),a("td",[e._v(e._s(t.item.usuario))]),a("td",[e._v(e._s(t.item.cliente))]),a("td",[e._v(e._s(t.item.tipo_comprobante))]),a("td",[e._v(e._s(t.item.serie_comprobante))]),a("td",[e._v(e._s(t.item.num_comprobante))]),a("td",[e._v(e._s(t.item.fecha_hora))]),a("td",[e._v(e._s(t.item.impuesto))]),a("td",[e._v(e._s(t.item.total))]),a("td",["Aceptado"==t.item.estado?a("div",[a("span",{staticClass:"blue--text"},[e._v("Aceptado")])]):a("div",[a("span",{staticClass:"red--text"},[e._v(e._s(t.item.estado))])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2):e._e(),e.verNuevo?a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.comprobantes,label:"Tipo Comprobante"},model:{value:e.tipo_comprobante,callback:function(t){e.tipo_comprobante=t},expression:"tipo_comprobante"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Serie Comprobante"},model:{value:e.serie_comprobante,callback:function(t){e.serie_comprobante=t},expression:"serie_comprobante"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Número Comprobante"},model:{value:e.num_comprobante,callback:function(t){e.num_comprobante=t},expression:"num_comprobante"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg8:"",xl8:""}},[a("v-autocomplete",{attrs:{items:e.clientes,label:"Empleado",autocomplete:""},model:{value:e.idcliente,callback:function(t){e.idcliente=t},expression:"idcliente"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"Impuesto"},model:{value:e.impuesto,callback:function(t){e.impuesto=t},expression:"impuesto"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg8:"",xl8:""}},[a("v-text-field",{attrs:{label:"Código"},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.buscarCodigo()}},model:{value:e.codigo,callback:function(t){e.codigo=t},expression:"codigo"}})],1),a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("v-btn",{attrs:{small:"",fab:"",dark:"",color:"teal"},on:{click:function(t){e.mostrarArticulos()}}},[a("v-icon",{attrs:{dark:""}},[e._v("list")])],1)],1),e.errorArticulo?a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("div",{staticClass:"red--text",domProps:{textContent:e._s(e.errorArticulo)}})]):e._e(),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.cabeceraDetalles,items:e.detalles,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.eliminarDetalle(e.detalles,t.item)}}},[e._v("\n                                    delete\n                                    ")])],1),a("td",[e._v(e._s(t.item.articulo))]),a("td",[a("v-text-field",{attrs:{type:"number"},model:{value:t.item.cantidad,callback:function(a){e.$set(t.item,"cantidad",a)},expression:"props.item.cantidad"}})],1),a("td",[a("v-text-field",{attrs:{type:"number"},model:{value:t.item.precio,callback:function(a){e.$set(t.item,"precio",a)},expression:"props.item.precio"}})],1),a("td",[a("v-text-field",{attrs:{type:"number"},model:{value:t.item.descuento,callback:function(a){e.$set(t.item,"descuento",a)},expression:"props.item.descuento"}})],1),a("td",[e._v("$ "+e._s(t.item.cantidad*t.item.precio-t.item.descuento))])]}}])},[a("template",{slot:"no-data"},[a("h3",[e._v("No hay artículos agregados al detalle.")])])],2),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[e._v("Total Parcial: ")]),e._v("$ "+e._s(e.totalParcial=(e.total-e.totalImpuesto).toFixed(2))+"\n                        ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[e._v("Total Impuesto: ")]),e._v("$ "+e._s(e.totalImpuesto=(e.total*e.impuesto/(100+e.impuesto)).toFixed(2))+"\n                        ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[e._v("Total Neto: ")]),e._v("$ "+e._s(e.total=e.calcularTotal.toFixed(2))+"\n                        ")])],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},e._l(e.validaMensaje,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})})),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.ocultarNuevo()}}},[e._v("Cancelar")]),0==e.verDet?a("v-btn",{attrs:{color:"success"},on:{click:function(t){e.guardar()}}},[e._v("Guardar")]):e._e()],1)],1)],1):e._e()],1)],1)},Ut=[],Vt=a("951f"),Gt=a.n(Vt),Ht={data:function(){return{ventas:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Usuario",value:"usuario"},{text:"Cliente",value:"cliente"},{text:"Tipo Comprobante",value:"tipo_comprobante"},{text:"Serie Comprobante",value:"serie_comprobante",sortable:!1},{text:"Número Comprobante",value:"num_comprobante",sortable:!1},{text:"Fecha",value:"fecha_hora",sortable:!1},{text:"Impuesto",value:"impuesto",sortable:!1},{text:"Total",value:"total",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],cabeceraDetalles:[{text:"Borrar",value:"borrar",sortable:!1},{text:"Artículo",value:"articulo",sortable:!1},{text:"Cantidad",value:"cantidad",sortable:!1},{text:"Precio",value:"precio",sortable:!1},{text:"Descuento",value:"descuento",sortable:!1},{text:"Subtotal",value:"subtotal",sortable:!1}],detalles:[],search:"",id:"",idcliente:"",clientes:[],tipo_comprobante:"",comprobantes:["FACTURA","BOLETA","TICKET","GUIA"],serie_comprobante:"",num_comprobante:"",impuesto:18,codigo:"",verNuevo:0,errorArticulo:null,totalParcial:0,totalImpuesto:0,total:0,cabeceraArticulos:[{text:"Seleccionar",value:"seleccionar",sortable:!1},{text:"Artículo",value:"articulo"},{text:"Categoría",value:"categoria"},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Stock",value:"stock",sortable:!1},{text:"Precio Venta",value:"precio_venta",sortable:!1}],articulos:[],texto:"",verArticulos:0,verDet:0,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:"",comprobanteModal:0,cliente:"",fecha_hora:"",num_documento:"",direccion:"",telefono:"",email:""}},computed:{calcularTotal:function(){for(var e=0,t=0;t<this.detalles.length;t++)e+=this.detalles[t].precio*this.detalles[t].cantidad-this.detalles[t].descuento;return e}},watch:{dialog:function(e){e||this.close()}},created:function(){this.listar(),this.select()},methods:{crearPDF:function(){var e=document.getElementById("factura");Gt()(e).then(function(e){var t=e.toDataURL("image/png"),a=210,i=e.height*a/e.width,o=new xt.a,s=0;o.addImage(t,"PNG",0,s,a,i),o.save("ComprobanteVenta.pdf")})},mostrarComprobante:function(e){this.limpiar(),this.tipo_comprobante=e.tipo_comprobante,this.serie_comprobante=e.serie_comprobante,this.num_comprobante=e.num_comprobante,this.cliente=e.cliente,this.num_documento=e.num_documento,this.direccion=e.direccion,this.telefono=e.telefono,this.email=e.email,this.fecha_hora=e.fecha_hora,this.impuesto=e.impuesto,this.listarDetalles(e.idventa),this.comprobanteModal=1},ocultarComprobante:function(){this.comprobanteModal=0,this.limpiar()},mostrarNuevo:function(){this.verNuevo=1},ocultarNuevo:function(){this.verNuevo=0,this.limpiar()},buscarCodigo:function(){var e=this;e.errorArticulo=null;var t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/Articulos/BuscarCodigoVenta/"+this.codigo,a).then(function(t){e.agregarDetalle(t.data)}).catch(function(t){console.log(t),e.errorArticulo="No existe el artículo"})},listarArticulo:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/Articulos/ListarVenta/"+e.texto,a).then(function(t){e.articulos=t.data}).catch(function(e){console.log(e)})},mostrarArticulos:function(){this.verArticulos=1},ocultarArticulos:function(){this.verArticulos=0},agregarDetalle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.errorArticulo=null,this.encuentra(e["idarticulo"])?this.errorArticulo="El artículo ya ha sido agregado.":this.detalles.push({idarticulo:e["idarticulo"],articulo:e["nombre"],cantidad:1,precio:e["precio_venta"],descuento:0})},encuentra:function(e){for(var t=0,a=0;a<this.detalles.length;a++)this.detalles[a].idarticulo==e&&(t=1);return t},eliminarDetalle:function(e,t){var a=e.indexOf(t);-1!==a&&e.splice(a,1)},listar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t},i="";i=e.search?"api/Ventas/ListarFiltro/"+e.search:"api/Ventas/Listar",me.a.get(i,a).then(function(t){e.ventas=t.data}).catch(function(e){console.log(e)})},listarDetalles:function(e){var t=this,a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Ventas/ListarDetalles/"+e,i).then(function(e){t.detalles=e.data}).catch(function(e){console.log(e)})},verDetalles:function(e){this.limpiar(),this.tipo_comprobante=e.tipo_comprobante,this.serie_comprobante=e.serie_comprobante,this.num_comprobante=e.num_comprobante,this.idcliente=e.idcliente,this.impuesto=e.impuesto,this.listarDetalles(e.idventa),this.verNuevo=1,this.verDet=1},select:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/Listar",i).then(function(a){t=a.data,t.map(function(t){e.clientes.push({text:t.nombre_empleado,value:t.id_empleado})})}).catch(function(e){console.log(e)})},limpiar:function(){this.id="",this.idcliente="",this.tipo_comprobante="",this.serie_comprobante="",this.num_comprobante="",this.impuesto="18",this.codigo="",this.detalles=[],this.total=0,this.totalImpuesto=0,this.totalParcial=0,this.verDet=0},guardar:function(){if(!this.validar()){var e={Authorization:"Bearer "+this.$store.state.token},t={headers:e},a=this;me.a.post("api/Ventas/Crear",{idcliente:a.idcliente,idusuario:a.$store.state.usuario.id_usuario,tipo_comprobante:a.tipo_comprobante,serie_comprobante:a.serie_comprobante,num_comprobante:a.num_comprobante,impuesto:a.impuesto,total:a.total,detalles:a.detalles},t).then(function(e){a.ocultarNuevo(),a.listar(),a.limpiar()}).catch(function(e){console.log(e)})}},validar:function(){return this.valida=0,this.validaMensaje=[],this.idcliente||this.validaMensaje.push("Seleccione un cliente."),this.tipo_comprobante||this.validaMensaje.push("Seleccione un tipo de comprobante."),this.num_comprobante||this.validaMensaje.push("Ingrese el número del comprobante."),(!this.impuesto||this.impuesto<0)&&this.validaMensaje.push("Ingrese un impuesto válido."),this.detalles.length<=0&&this.validaMensaje.push("Ingrese al menos un artículo al detalle."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(e,t){this.adModal=1,this.adNombre=t.num_comprobante,this.adId=t.idventa,1==e?this.adAccion=1:2==e?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},desactivar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.put("api/Ventas/Anular/"+this.adId,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})}}},qt=Ht,Jt=(a("b130"),Object(fe["a"])(qt,Ft,Ut,!1,null,null,null)),Xt=Jt.exports,$t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Clientes")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(t){e.listar()}}},[e._v("Buscar")]),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[e._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"idcliente"},model:{value:e.idcliente,callback:function(t){e.idcliente=t},expression:"idcliente"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Documento"},model:{value:e.documento,callback:function(t){e.documento=t},expression:"documento"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Telefono"},model:{value:e.telefono,callback:function(t){e.telefono=t},expression:"telefono"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Descripción"},model:{value:e.descripcion,callback:function(t){e.descripcion=t},expression:"descripcion"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},e._l(e.validaMensaje,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})}))],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.guardar(t)}}},[e._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.adModal,callback:function(t){e.adModal=t},expression:"adModal"}},[a("v-card",[1==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Activar Item?")]):e._e(),2==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Desactivar Item?")]):e._e(),a("v-card-text",[e._v("\n                            Estás a punto de \n                            "),1==e.adAccion?a("span",[e._v("Activar ")]):e._e(),2==e.adAccion?a("span",[e._v("Desactivar ")]):e._e(),e._v("\n                            el ítem "+e._s(e.adNombre)+"\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.activarDesactivarCerrar}},[e._v("\n                                Cancelar\n                            ")]),1==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.activar}},[e._v("\n                                Activar\n                            ")]):e._e(),2==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.desactivar}},[e._v("\n                                Desactivar\n                            ")]):e._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.clientes,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.editItem(t.item)}}},[e._v("\n                    edit\n                    ")]),t.item.condicion?[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(2,t.item)}}},[e._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(1,t.item)}}},[e._v("\n                        check\n                        ")])]],2),a("td",[e._v(e._s(t.item.documento))]),a("td",[e._v(e._s(t.item.nombre))]),a("td",[e._v(e._s(t.item.telefono))]),a("td",[e._v(e._s(t.item.descripcion))]),a("td",[t.item.condicion?a("div",[a("span",{staticClass:"blue--text"},[e._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[e._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2)],1)],1)},Kt=[],Yt={data:function(){return{clientes:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Documento",value:"documento"},{text:"Nombre",value:"nombre"},{text:"Telefono",value:"telefono"},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Estado",value:"condicion",sortable:!1}],search:"",editedIndex:-1,id:"",idcliente:"",categorias:[],codigo:"",nombre:"",telefono:"",documento:0,descripcion:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Cliente":"Actualizar Cliente"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.listar(),this.select()},methods:{crearPDF:function(){var e=[{title:"Documento",dataKey:"Documento"},{title:"Nombre",dataKey:"nombre"},{title:"Código",dataKey:"codigo"},{title:"Categoría",dataKey:"categoria"},{title:"Stock",dataKey:"stock"}],t=[];this.clientes.map(function(e){t.push({nombre:e.nombre,codigo:e.codigo,categoria:e.categoria,stock:e.stock})});var a=new xt.a("p","pt");a.autoTable(e,t,{margin:{top:60},addPageContent:function(e){a.text("Listado de Artículos",40,30)}}),a.save("Clientes.pdf")},listar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t},i="";i=e.search?"api/ClientesCall/ListarFiltro/"+e.search:"api/ClientesCall/Listar",me.a.get(i,a).then(function(t){e.clientes=t.data}).catch(function(e){console.log(e)})},select:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t},i=[];me.a.get("api/ClientesCall/Select",a).then(function(t){i=t.data,i.map(function(t){e.categorias.push({text:t.nombre,value:t.idcliente})})}).catch(function(e){console.log(e)})},editItem:function(e){this.idcliente=e.idcliente,this.nombre=e.nombre,this.telefono=e.telefono,this.documento=e.documento,this.descripcion=e.descripcion,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.idcliente="",this.documento="",this.nombre="",this.telefono="",this.descripcion="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var e={Authorization:"Bearer "+this.$store.state.token},t={headers:e};if(this.editedIndex>-1){var a=this;me.a.put("api/ClientesCall/Actualizar",{idcliente:a.idcliente,nombre:a.nombre,telefono:a.telefono,documento:a.documento,descripcion:a.descripcion},t).then(function(e){a.close(),a.listar(),a.limpiar()}).catch(function(e){console.log(e)})}else{var i=this;me.a.post("api/ClientesCall/Crear",{nombre:i.nombre,telefono:i.telefono,documento:i.documento,descripcion:i.descripcion},t).then(function(e){i.close(),i.listar(),i.limpiar()}).catch(function(e){console.log(e)})}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<3||this.nombre.length>50)&&this.validaMensaje.push("El nombre debe tener más de 3 caracteres y menos de 50 caracteres."),this.documento||this.validaMensaje.push("Seleccione un cliente."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(e,t){this.adModal=1,this.adNombre=t.nombre,this.adId=t.idcliente,1==e?this.adAccion=1:2==e?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.put("api/ClientesCall/Activar/"+this.adId,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})},desactivar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.put("api/ClientesCall/Desactivar/"+this.adId,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})}}},Zt=Yt,Wt=Object(fe["a"])(Zt,$t,Kt,!1,null,null,null),Qt=Wt.exports,ea=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Motivos")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[e._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"idmotivo"},model:{value:e.idmotivo,callback:function(t){e.idmotivo=t},expression:"idmotivo"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Descripción"},model:{value:e.descripcion,callback:function(t){e.descripcion=t},expression:"descripcion"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},e._l(e.validaMensaje,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})}))],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.guardar(t)}}},[e._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.adModal,callback:function(t){e.adModal=t},expression:"adModal"}},[a("v-card",[1==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Activar Item?")]):e._e(),2==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Desactivar Item?")]):e._e(),a("v-card-text",[e._v("\n                            Estás a punto de \n                            "),1==e.adAccion?a("span",[e._v("Activar ")]):e._e(),2==e.adAccion?a("span",[e._v("Desactivar ")]):e._e(),e._v("\n                            el ítem "+e._s(e.adNombre)+"\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.activarDesactivarCerrar}},[e._v("\n                                Cancelar\n                            ")]),1==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.activar}},[e._v("\n                                Activar\n                            ")]):e._e(),2==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.desactivar}},[e._v("\n                                Desactivar\n                            ")]):e._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.motivos,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.editItem(t.item)}}},[e._v("\n                    edit\n                    ")]),t.item.condicion?[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(2,t.item)}}},[e._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(1,t.item)}}},[e._v("\n                        check\n                        ")])]],2),a("td",[e._v(e._s(t.item.nombre))]),a("td",[e._v(e._s(t.item.descripcion))]),a("td",[t.item.condicion?a("div",[a("span",{staticClass:"blue--text"},[e._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[e._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2)],1)],1)},ta=[],aa={data:function(){return{motivos:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre"},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Estado",value:"condicion",sortable:!1}],search:"",editedIndex:-1,id:"",idmotivo:"",nombre:"",descripcion:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Motivo":"Actualizar Motivo"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.listar()},methods:{crearPDF:function(){var e=[{title:"Documento",dataKey:"Documento"},{title:"Nombre",dataKey:"nombre"},{title:"Código",dataKey:"codigo"},{title:"Categoría",dataKey:"categoria"},{title:"Stock",dataKey:"stock"}],t=[];this.clientes.map(function(e){t.push({nombre:e.nombre,codigo:e.codigo,categoria:e.categoria,stock:e.stock})});var a=new xt.a("p","pt");a.autoTable(e,t,{margin:{top:60},addPageContent:function(e){a.text("Listado de Artículos",40,30)}}),a.save("Clientes.pdf")},listar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/MotivosCall/Listar",a).then(function(t){e.motivos=t.data}).catch(function(e){console.log(e)})},editItem:function(e){this.idmotivo=e.idmotivo,this.nombre=e.nombre,this.descripcion=e.descripcion,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.idmotivo="",this.documento="",this.nombre="",this.descripcion="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var e={Authorization:"Bearer "+this.$store.state.token},t={headers:e};if(this.editedIndex>-1){var a=this;me.a.put("api/MotivosCall/Actualizar",{idmotivo:a.idmotivo,nombre:a.nombre,descripcion:a.descripcion},t).then(function(e){a.close(),a.listar(),a.limpiar()}).catch(function(e){console.log(e)})}else{var i=this;me.a.post("api/MotivosCall/Crear",{nombre:i.nombre,descripcion:i.descripcion},t).then(function(e){i.close(),i.listar(),i.limpiar()}).catch(function(e){console.log(e)})}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<3||this.nombre.length>50)&&this.validaMensaje.push("El nombre debe tener más de 3 caracteres y menos de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(e,t){this.adModal=1,this.adNombre=t.nombre,this.adId=t.idmotivo,1==e?this.adAccion=1:2==e?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.put("api/MotivosCall/Activar/"+this.adId,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})},desactivar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.put("api/MotivosCall/Desactivar/"+this.adId,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})}}},ia=aa,oa=Object(fe["a"])(ia,ea,ta,!1,null,null,null),sa=oa.exports,na=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Extensiones")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[e._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"idextension"},model:{value:e.idextension,callback:function(t){e.idextension=t},expression:"idextension"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Descripción"},model:{value:e.descripcion,callback:function(t){e.descripcion=t},expression:"descripcion"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},e._l(e.validaMensaje,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})}))],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.guardar(t)}}},[e._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.adModal,callback:function(t){e.adModal=t},expression:"adModal"}},[a("v-card",[1==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Activar Item?")]):e._e(),2==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Desactivar Item?")]):e._e(),a("v-card-text",[e._v("\n                            Estás a punto de \n                            "),1==e.adAccion?a("span",[e._v("Activar ")]):e._e(),2==e.adAccion?a("span",[e._v("Desactivar ")]):e._e(),e._v("\n                            el ítem "+e._s(e.adNombre)+"\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.activarDesactivarCerrar}},[e._v("\n                                Cancelar\n                            ")]),1==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.activar}},[e._v("\n                                Activar\n                            ")]):e._e(),2==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.desactivar}},[e._v("\n                                Desactivar\n                            ")]):e._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.extensiones,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.editItem(t.item)}}},[e._v("\n                    edit\n                    ")]),t.item.condicion?[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(2,t.item)}}},[e._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(1,t.item)}}},[e._v("\n                        check\n                        ")])]],2),a("td",[e._v(e._s(t.item.nombre))]),a("td",[e._v(e._s(t.item.descripcion))]),a("td",[t.item.condicion?a("div",[a("span",{staticClass:"blue--text"},[e._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[e._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2)],1)],1)},ra=[],la={data:function(){return{extensiones:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre"},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Estado",value:"condicion",sortable:!1}],search:"",editedIndex:-1,id:"",idextension:"",nombre:"",descripcion:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Extension":"Actualizar Extension"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.listar(),this.select()},methods:{crearPDF:function(){var e=[{title:"Documento",dataKey:"Documento"},{title:"Nombre",dataKey:"nombre"},{title:"Código",dataKey:"codigo"},{title:"Categoría",dataKey:"categoria"},{title:"Stock",dataKey:"stock"}],t=[];this.clientes.map(function(e){t.push({nombre:e.nombre,codigo:e.codigo,categoria:e.categoria,stock:e.stock})});var a=new xt.a("p","pt");a.autoTable(e,t,{margin:{top:60},addPageContent:function(e){a.text("Listado de Artículos",40,30)}}),a.save("Clientes.pdf")},listar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/ExtensionCall/Listar",a).then(function(t){e.extensiones=t.data}).catch(function(e){console.log(e)})},select:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t},i=[];me.a.get("api/ExtensionCall/Select",a).then(function(t){i=t.data,i.map(function(t){e.categorias.push({text:t.nombre,value:t.idmotivo})})}).catch(function(e){console.log(e)})},editItem:function(e){this.idextension=e.idextencion,this.nombre=e.nombre,this.descripcion=e.descripcion,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.idextension="",this.documento="",this.nombre="",this.descripcion="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var e={Authorization:"Bearer "+this.$store.state.token},t={headers:e};if(this.editedIndex>-1){var a=this;me.a.put("api/ExtensionCall/Actualizar",{idextencion:a.idextension,nombre:a.nombre,descripcion:a.descripcion},t).then(function(e){a.close(),a.listar(),a.limpiar()}).catch(function(e){console.log(a.idextension),console.log(a.nombre),console.log(a.descripcion)})}else{var i=this;me.a.post("api/ExtensionCall/Crear",{nombre:i.nombre,descripcion:i.descripcion},t).then(function(e){i.close(),i.listar(),i.limpiar()}).catch(function(e){console.log(e)})}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<3||this.nombre.length>50)&&this.validaMensaje.push("El nombre debe tener más de 3 caracteres y menos de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(e,t){this.adModal=1,this.adNombre=t.nombre,this.adId=t.idextencion,1==e?this.adAccion=1:2==e?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.put("api/ExtensionCall/Activar/"+this.adId,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})},desactivar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.put("api/ExtensionCall/Desactivar/"+this.adId,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})}}},ca=la,da=Object(fe["a"])(ca,na,ra,!1,null,null,null),ua=da.exports,va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",[a("download-excel",{staticClass:"btn",attrs:{fetch:e.fetchData,fields:e.json_fields,"before-generate":e.startDownload,"before-finish":e.finishDownload,name:"Registros.xls",type:"xls"}},[a("v-icon",[e._v("print")])],1)],1),a("v-toolbar-title",{on:{click:e.Cargar}},[e._v("Registros")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),0==e.verNuevo?a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}):e._e(),0==e.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(t){e.listar()}}},[e._v("Buscar")]):e._e(),a("v-spacer"),0==e.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:e.mostrarNuevo}},[e._v("Nuevo")]):e._e(),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.verArticulos,callback:function(t){e.verArticulos=t},expression:"verArticulos"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"idcliente"},model:{value:e.idcliente,callback:function(t){e.idcliente=t},expression:"idcliente"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{type:"number",label:"Documento"},model:{value:e.documento,callback:function(t){e.documento=t},expression:"documento"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Telefono"},model:{value:e.telefono,callback:function(t){e.telefono=t},expression:"telefono"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Descripción"},model:{value:e.descripcion,callback:function(t){e.descripcion=t},expression:"descripcion"}})],1),e.error?a("v-flex",{staticClass:"red--text"},[e._v("\n                                    "+e._s(e.error)+"\n                                   "),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:e.AutomaticoCliente}},[e._v("\n                                        Click Aquí\n                                    ")])],1):e._e()],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.guardarCliente(t)}}},[e._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.verObservacion,callback:function(t){e.verObservacion=t},expression:"verObservacion"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Ingresar la Observación")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{md12:""}},[a("v-textarea",{attrs:{label:"Observación",hint:"Hint text"},model:{value:e.observacion,callback:function(t){e.observacion=t},expression:"observacion"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.agregarObservacion(e.observacion)}}},[e._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.adModal,callback:function(t){e.adModal=t},expression:"adModal"}},[a("v-card",[1==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Activar Item?")]):e._e(),2==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Anular Ingreso?")]):e._e(),a("v-card-text",[e._v("\n                                Estás a punto de \n                                "),1==e.adAccion?a("span",[e._v("Activar ")]):e._e(),2==e.adAccion?a("span",[e._v("Anular ")]):e._e(),e._v("\n                                el ítem "+e._s(e.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.activarDesactivarCerrar}},[e._v("\n                                    Cancelar\n                                ")]),1==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.activar}},[e._v("\n                                    Activar\n                                ")]):e._e(),2==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.desactivar}},[e._v("\n                                    Anular\n                                ")]):e._e()],1)],1)],1)],1),0==e.verNuevo?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.registros,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},["CUMPLIDO"==t.item.estado?a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.verDetalles(t.item)}}},[e._v("\n                        tab\n                        ")]):a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.verDetalles(t.item)}}},[e._v("\n                        create\n                        ")])],1),a("td",[e._v(e._s(t.item.idregistro))]),a("td",[e._v(e._s(t.item.municipio))]),a("td",[e._v(e._s(t.item.documento))]),a("td",[e._v(e._s(t.item.cliente))]),a("td",[e._v(e._s(t.item.telefono))]),a("td",[e._v(e._s(t.item.motivo))]),a("td",[a("a",{attrs:{href:"https://transprensa.colombiasoftware.net/index.php?page=Despacho.Remesa_013.Home_007&remesa_codigo="+t.item.remesa+"#no-back-button",target:"_blank"}},[e._v(e._s(t.item.remesa))])]),a("td",[a("a",{attrs:{href:"https://transprensa.colombiasoftware.net/index.php?page=Despacho.Ordencargue.Home_007&ordcar_codigo="+t.item.ordencargue+"#no-back-button",target:"_blank"}},[e._v(e._s(t.item.ordencargue))])]),a("td",[e._v(e._s(t.item.usuario))]),a("td",[e._v(e._s(t.item.fecha.split("T")[0]))]),a("td",[e._v(e._s(t.item.fecha.split("T")[1].split(".")[0]))]),a("td",["CUMPLIDO"==t.item.estado?a("div",[a("span",{staticClass:"blue--text"},[e._v(e._s(t.item.estado))])]):a("div",[a("span",{staticClass:"red--text"},[e._v(e._s(t.item.estado))])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2):e._e(),e.verNuevo?a("v-container",{staticClass:"elevation-1 white",attrs:{"grid-list-sm":"",fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.clientes,label:"Documento Cliente","search-input":e.search3,autocomplete:""},on:{"update:searchInput":function(t){e.search3=t},change:e.NombreCliente,keyup:e.FiltroDocumento},model:{value:e.idcliente,callback:function(t){e.idcliente=t},expression:"idcliente"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:10==e.verNuevo,expression:"verNuevo == 10"}]},[a("v-text-field",{attrs:{label:"IDREGISTRO"},model:{value:e.idregistro,callback:function(t){e.idregistro=t},expression:"idregistro"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.Nclientes,label:"Nombre cliente","search-input":e.search1,"data-id":"1010",autocomplete:""},on:{"update:searchInput":function(t){e.search1=t},change:e.IdCliente,keyup:e.FiltroCliente},model:{value:e.nombrecliente,callback:function(t){e.nombrecliente=t},expression:"nombrecliente"}})],1),a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[1!==e.verDet?a("v-btn",{attrs:{small:"",fab:"",dark:"",color:"teal"},on:{click:function(t){e.mostrarArticulos()}}},[a("v-icon",{attrs:{dark:""}},[e._v("list")])],1):e._e()],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.municipios,"search-input":e.search2,label:"Municipio",autocomplete:""},on:{"update:searchInput":function(t){e.search2=t},keyup:e.FiltroMunicipio},model:{value:e.idmunicipio,callback:function(t){e.idmunicipio=t},expression:"idmunicipio"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Remesa"},model:{value:e.remesa,callback:function(t){e.remesa=t},expression:"remesa"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.motivos,label:"Motivo",autocomplete:""},model:{value:e.idmotivo,callback:function(t){e.idmotivo=t},expression:"idmotivo"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"Orden de cargue"},model:{value:e.ordencargue,callback:function(t){e.ordencargue=t},expression:"ordencargue"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.transferir,label:"Transfiere"},model:{value:e.transfiere,callback:function(t){e.transfiere=t},expression:"transfiere"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.extensiones,label:"Ext",autocomplete:""},model:{value:e.idextencion,callback:function(t){e.idextencion=t},expression:"idextencion"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.estados,label:"Estado",autocomplete:""},model:{value:e.estado,callback:function(t){e.estado=t},expression:"estado"}})],1),a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[1!==e.verDet?a("v-btn",{attrs:{small:"",fab:"",dark:"",color:"teal"},on:{click:function(t){e.mostrarObservacion()}}},[a("v-icon",{attrs:{dark:""}},[e._v("create")])],1):e._e()],1),e.errorArticulo?a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("div",{staticClass:"red--text",domProps:{textContent:e._s(e.errorArticulo)}})]):e._e(),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.cabeceraObservaciones,items:e.observaciones,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticStyle:{width:"70%"}},[e._v(e._s(t.item.observacion))]),a("td",{staticStyle:{width:"250px"}},[e._v(e._s(t.item.usuario))]),0!==e.verDet?a("td",{staticStyle:{width:"130px"}},[e._v(e._s(t.item.fecha.split("T")[0]))]):e._e(),0!==e.verDet?a("td",[e._v(e._s(t.item.fecha.split("T")[1].split(".")[0]))]):e._e()]}}])},[a("template",{slot:"no-data"},[a("h3",[e._v("No hay observaciones agregadas.")])])],2),e._v("\n                               \n                        ")],1),a("v-flex"),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},e._l(e.validaMensaje,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})})),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.ocultarNuevo()}}},[e._v("Cancelar")]),0==e.verDet?a("v-btn",{attrs:{disabled:e.counter,color:"success"},on:{click:function(t){e.guardar()}}},[e._v("Guardar")]):e._e(),2==e.verDet?a("v-btn",{attrs:{color:"success"},on:{"~click":function(t){e.actualizar()}}},[e._v("Actualizar")]):e._e()],1)],1)],1):e._e()],1)],1)},ma=[],pa=a("5886");function ha(e,t,a,i,o,s,n){try{var r=e[s](n),l=r.value}catch(c){return void a(c)}r.done?t(l):Promise.resolve(l).then(i,o)}function fa(e){return function(){var t=this,a=arguments;return new Promise(function(i,o){var s=e.apply(t,a);function n(e){ha(s,i,o,n,r,"next",e)}function r(e){ha(s,i,o,n,r,"throw",e)}n(void 0)})}}function xa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}i["default"].use(pa["a"],ba);var ba={confirmButtonColor:"#41b882",cancelButtonColor:"#ff7674"};i["default"].component("downloadExcel",Oe["a"]);var _a={data:function(){var e;return{registros:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Codigo",value:"idregistro"},{text:"Municipio",value:"municipio",sortable:!1},{text:"Doc Cliente",value:"documento",sortable:!1},{text:"cliente",value:"cliente",sortable:!1},{text:"Telefono",value:"telefono",sortable:!1},{text:"Motivo",value:"motivo",sortable:!1},{text:"Remesa",value:"remesa",sortable:!1},{text:"Orden de Cargue",value:"ordencargue",sortable:!1},{text:"Usuario",value:"usuario",sortable:!1},{text:"Fecha",value:"fecha",sortable:!1},{text:"Hora",value:"fecha",sortable:!1},{text:"Estado",value:"estado"}],cabeceraObservaciones:[{text:"Observacion",value:"observacion",sortable:!1},{text:"Usuario",value:"usuario",sortable:!1},{text:"Fecha",value:"fecha",sortable:!1},{text:"Hora",value:"fecha",sortable:!1}],observaciones:[],search:"",id:"",idregistro:"",clientes:[],Nclientes:[],idcliente:"",nombrecliente:"",nombre:"",telefono:"",documento:"",descripcion:"",municipios:[],idmunicipio:"",remesa:"0",idmotivo:"",motivos:[],ordencargue:"0",transferir:[{text:"SI",value:"SI",sortable:!1},{text:"NO",value:"NO",sortable:!1}],transfiere:"NO",estados:[{text:"PENDIENTE",value:"PENDIENTE",sortable:!1},{text:"CUMPLIDO",value:"CUMPLIDO",sortable:!1}],estado:"",idextencion:1,extensiones:[],observacion:"",verNuevo:0,search1:null,search2:null,search3:null,error:null,errorArticulo:null,totalParcial:0,totalImpuesto:0,total:0,texto:"",verArticulos:0,verObservacion:0,verDet:0,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:"",controladorTiempo:"",counter:!1,json_fields:(e={Registro:"idregistro",Municipio:"municipio",Cliente:"cliente",Motivo:"motivo",Extension:"extension"},xa(e,"Municipio","municipio"),xa(e,"Remesa","remesa"),xa(e,"Oden de Cargue","ordencargue"),xa(e,"Observacion","observacion"),xa(e,"Usuario","usuario"),xa(e,"Fecha","fecha"),xa(e,"Hora","hora"),xa(e,"Estado","estado"),e),json_meta:[[{key:"charset",value:"utf-8"}]]}},computed:{calcularTotal:function(){for(var e=0,t=0;t<this.detalles.length;t++)e+=this.detalles[t].precio*this.detalles[t].cantidad;return e},formTitle:function(){return this.editedIndex,"Nuevo Cliente"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.listar(),this.selectMotivo(),this.selectExtension()},methods:{Cargar:function(){this.listar(),console.log("se recargo")},fetchData:function(){var e=fa(Ee.a.mark(function e(){var t;return Ee.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("api/registrocall/informe");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),startDownload:function(){Se.a.fire({type:"success",title:"Procesando datos",showConfirmButton:!1})},finishDownload:function(){},NombreCliente:function(){var e=this;e.nombrecliente=e.idcliente},IdCliente:function(){var e=this;e.idcliente=e.nombrecliente},mostrarNuevo:function(){this.verNuevo=1,this.counter=!1},ocultarNuevo:function(){this.verNuevo=0,this.verDet=0,this.limpiar()},mostrarArticulos:function(){this.verArticulos=1},mostrarObservacion:function(){this.verObservacion=1},ocultarArticulos:function(){this.verArticulos=0},ocultarObservacion:function(){this.verObservacion=0},close:function(){this.verArticulos=!1,this.verObservacion=!1},agregarObservacion:function(e){if(""!==this.idregistro&"PENDIENTE"==this.estado){var t=this;me.a.post("api/RegistroCall/CrearObservacion",{idregistro:t.idregistro,observacion:t.observacion,usuario:t.$store.state.usuario.nombre}).then(function(e){t.listarObservacion(t.idregistro),t.verObservacion=!1,t.observacion=""}).catch(function(e){console.log(e)})}else{new Date;this.observaciones.push({observacion:this.observacion,usuario:this.$store.state.usuario.nombre}),this.verObservacion=!1,this.observacion=""}},listar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t},i="";i=e.search?"api/RegistroCall/ListarFiltro/"+e.search:"api/RegistroCall/Listar",me.a.get(i,a).then(function(t){e.registros=t.data}).catch(function(e){console.log(e)})},listarfiltro:function(){var e=this;if(1==store.state.usuario.rol){var t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/Permisos/ListarFiltro/"+e.search,a).then(function(t){e.categorias=t.data}).catch(function(e){console.log(e)})}},FiltroCliente:function(){clearTimeout(this.controladorTiempo),this.controladorTiempo=setTimeout(this.select,500)},select:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/ClientesCall/ListarFiltro/"+e.search1,i).then(function(a){t=a.data,t.map(function(t){e.clientes.push({text:t.documento,value:t.idcliente}),e.Nclientes.push({text:t.nombre,value:t.idcliente})})}).catch(function(e){console.log(e)})},FiltroDocumento:function(){clearTimeout(this.controladorTiempo),this.controladorTiempo=setTimeout(this.selectDocumento,500)},selectDocumento:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};console.log(e.search3),me.a.get("api/ClientesCall/Listardocumento/"+e.search3,i).then(function(a){t=a.data,t.map(function(t){e.clientes.push({text:t.documento,value:t.idcliente}),e.Nclientes.push({text:t.nombre,value:t.idcliente})})}).catch(function(e){console.log(e)})},FiltroMunicipio:function(){clearTimeout(this.controladorTiempo),this.controladorTiempo=setTimeout(this.selectMunicipio,500)},selectMunicipio:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/ListarFiltro/"+e.search2,i).then(function(a){t=a.data,t.map(function(t){e.municipios.push({text:t.concat_municipio,value:t.id_municipio})})}).catch(function(e){console.log(e)})},selectMotivo:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/MotivosCall/Select",i).then(function(a){t=a.data,t.map(function(t){e.motivos.push({text:t.nombre,value:t.idmotivo})})}).catch(function(e){console.log(e)})},selectExtension:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/ExtensionCall/Select",i).then(function(a){t=a.data,t.map(function(t){e.extensiones.push({text:t.nombre,value:t.idextencion})})}).catch(function(e){console.log(e)})},listarObservacion:function(e){var t=this,a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/RegistroCall/ListarObservaciones/"+e,i).then(function(e){t.observaciones=e.data}).catch(function(e){console.log(e)})},verDetalles:function(e){this.limpiar(),this.idregistro=e.idregistro,this.clientes.push({text:e.documento,value:e.idcliente}),this.Nclientes.push({text:e.nombrecliente,value:e.idcliente}),this.idcliente=e.idcliente,this.nombrecliente=e.idcliente,this.municipios.push({text:e.municipio,value:e.id_municipio}),this.idmunicipio=e.id_municipio,this.remesa=e.remesa,this.ordencargue=e.ordencargue,this.transfiere=e.transfiere,this.idextencion=e.idextension,this.idmotivo=e.idmotivo,this.observacion=e.observacion,this.estado=e.estado,this.listarObservacion(e.idregistro),this.verNuevo=1,"CUMPLIDO"!==e.estado?this.verDet=2:this.verDet=1},limpiar:function(){this.id="",this.idregistro="",this.idcliente="",this.idmunicipio="",this.remesa="0",this.ordencargue="0",this.transfiere="NO",this.idextencion=1,this.observacion="",this.idmotivo="",this.estado="",this.nombrecliente="",this.observaciones=[],this.municipios=[],this.clientes=[],this.Nclientes=[]},limpiarcliente:function(){this.idcliente="",this.telefono="",this.nombre="",this.documento="",this.descripcion="",this.error=null},guardar:function(){if(this.counter=!0,this.validar())this.counter=!1;else{var e={Authorization:"Bearer "+this.$store.state.token},t={headers:e},a=this;me.a.post("api/RegistroCall/Crear",{idcliente:a.idcliente,id_municipio:a.idmunicipio,remesa:a.remesa,ordencargue:a.ordencargue,transfiere:a.transfiere,idextencion:a.idextencion,idmotivo:a.idmotivo,estado:a.estado,id_usuario:a.$store.state.usuario.id_usuario,observaciones:a.observaciones},t).then(function(e){Se.a.fire({position:"bot-end",type:"success",title:"Registro Guardado",showConfirmButton:!1,timer:1e3}),a.ocultarNuevo(),a.listar(),a.limpiar()}).catch(function(e){console.log(e)})}},actualizar:function(){var e={Authorization:"Bearer "+this.$store.state.token},t={headers:e},a=this;me.a.put("api/RegistroCall/Actualizar",{idregistro:a.idregistro,estado:a.estado},t).then(function(e){a.ocultarNuevo(),a.listar(),a.limpiar()}).catch(function(e){console.log(e)})},guardarCliente:function(){var e=this;me.a.get("api/ClientesCall/ConsecutivoCliente").then(function(t){var a=t.data[0]["idcliente"];me.a.post("api/ClientesCall/Crear",{nombre:e.nombre,documento:e.documento,telefono:e.telefono,descripcion:e.descripcion}).then(function(t){e.close();var i=parseInt(a);e.clientes.push({text:e.documento,value:a}),e.Nclientes.push({text:e.nombre,value:a}),e.nombrecliente=i,e.limpiarcliente()}).catch(function(t){t.response?e.error=t.response.data:e.error="Ocurrió un error"})})},AutomaticoCliente:function(e){this.verArticulos=0;var t=this.documento,a=parseInt(t);this.idcliente=a},validar:function(){return this.valida=0,this.validaMensaje=[],this.idmunicipio||this.validaMensaje.push("Seleccione un Municipio."),this.idmotivo||this.validaMensaje.push("Seleccione un Motivo."),this.idcliente||this.validaMensaje.push("Ingrese el cliente."),this.ordencargue||this.validaMensaje.push("Ingrese Orden Cargue."),this.transfiere||this.validaMensaje.push("Seleccionar Una Opcion en Tranfiere."),this.estado||this.validaMensaje.push("Seleccionar Un Estado."),""==this.observaciones&&this.validaMensaje.push("Ingresar Observación."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(e,t){this.adModal=1,this.adNombre=t.num_comprobante,this.adId=t.idingreso,1==e?this.adAccion=1:2==e?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},desactivar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.put("api/Ingresos/Anular/"+this.adId,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})}}},ga=_a,Ca=Object(fe["a"])(ga,va,ma,!1,null,null,null),Aa=Ca.exports,ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Requisiciones De Personal")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),0==e.verNuevo?a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}):e._e(),0==e.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(t){e.listar()}}},[e._v("Buscar")]):e._e(),a("v-spacer"),0==e.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:e.mostrarNuevo}},[e._v("Nuevo")]):e._e(),a("v-dialog",{attrs:{"max-width":"800px"},model:{value:e.checklist,callback:function(t){e.checklist=t},expression:"checklist"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Lista de Chequeo")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{md12:""}},[e._v("\n                                  "),a("H3",[e._v("PROCESO DE SELECCIÓN")])],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Requisición de Personal"},model:{value:e.chkrqs,callback:function(t){e.chkrqs=t},expression:"chkrqs"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Hoja de Vida"},model:{value:e.chkhojavida,callback:function(t){e.chkhojavida=t},expression:"chkhojavida"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Entrevista"},model:{value:e.chkentrevista,callback:function(t){e.chkentrevista=t},expression:"chkentrevista"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Pruebas(Técnicas/conocimientos)"},model:{value:e.chkpruebastec,callback:function(t){e.chkpruebastec=t},expression:"chkpruebastec"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Resultados de pruebas"},model:{value:e.chkrpruebas,callback:function(t){e.chkrpruebas=t},expression:"chkrpruebas"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Validacion Antecedentes"},model:{value:e.chkantecedentes,callback:function(t){e.chkantecedentes=t},expression:"chkantecedentes"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Validación Licencia y Simit"},model:{value:e.chksimit,callback:function(t){e.chksimit=t},expression:"chksimit"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Visita Domiciliaria"},model:{value:e.chkdomiciliaria,callback:function(t){e.chkdomiciliaria=t},expression:"chkdomiciliaria"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Examen de Ingreso"},model:{value:e.chkingreso,callback:function(t){e.chkingreso=t},expression:"chkingreso"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Poligrafia"},model:{value:e.chkpoligrafia,callback:function(t){e.chkpoligrafia=t},expression:"chkpoligrafia"}})],1),a("v-flex",{attrs:{md12:""}},[e._v("\n                                  "),a("H3",[e._v("DOCUMENTOS VINCULACION")])],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[a("v-checkbox",{staticClass:"mx-2",attrs:{label:"4 Fotocopias de la cedula al 150% "},model:{value:e.chkcedula,callback:function(t){e.chkcedula=t},expression:"chkcedula"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Fotocopia Licencia de conducción"},model:{value:e.chkconducion,callback:function(t){e.chkconducion=t},expression:"chkconducion"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Fotocopia de diplomas y Actas"},model:{value:e.chkdiplomas,callback:function(t){e.chkdiplomas=t},expression:"chkdiplomas"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[a("v-checkbox",{staticClass:"mx-2",attrs:{label:"2 Cartas Personales"},model:{value:e.chkpersonal,callback:function(t){e.chkpersonal=t},expression:"chkpersonal"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"2 Cartas Laborales"},model:{value:e.chklaboral,callback:function(t){e.chklaboral=t},expression:"chklaboral"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Cartas de compromiso"},model:{value:e.chkccompromiso,callback:function(t){e.chkccompromiso=t},expression:"chkccompromiso"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Certificado EPS"},model:{value:e.chkeps,callback:function(t){e.chkeps=t},expression:"chkeps"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Certificado AFP"},model:{value:e.chkafp,callback:function(t){e.chkafp=t},expression:"chkafp"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"2 Fotografías 3x4 Fondo Blanco"},model:{value:e.chkfblanco,callback:function(t){e.chkfblanco=t},expression:"chkfblanco"}})],1),a("v-flex",{attrs:{md12:""}},[e._v("\n                                  "),a("H3",[e._v("AFILIACIONES BENEFICIARIOS")])],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[a("v-checkbox",{staticClass:"mx-2",attrs:{label:"2 Fotocopias Cedula del Cónyuge"},model:{value:e.chkfconyuge,callback:function(t){e.chkfconyuge=t},expression:"chkfconyuge"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Partida de matrimonio/ Dec. Extrajucio"},model:{value:e.chkpmatrimonio,callback:function(t){e.chkpmatrimonio=t},expression:"chkpmatrimonio"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"2 Fotocopias del registro civil(Hijos)"},model:{value:e.chkregistroh,callback:function(t){e.chkregistroh=t},expression:"chkregistroh"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"2 Fotocopias tarjeta de identidad(7años)"},model:{value:e.chkidentidadh,callback:function(t){e.chkidentidadh=t},expression:"chkidentidadh"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Fotocopia del certificado de estudios(Hijos)"},model:{value:e.chkestudiosh,callback:function(t){e.chkestudiosh=t},expression:"chkestudiosh"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[a("v-checkbox",{staticClass:"mx-2",attrs:{label:"fotocopia Registro Civil trabajador"},model:{value:e.chkregistro,callback:function(t){e.chkregistro=t},expression:"chkregistro"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Fotocopia ampliada de padres"},model:{value:e.chkfpadres,callback:function(t){e.chkfpadres=t},expression:"chkfpadres"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Afiliación EPS Conyuge"},model:{value:e.chkepsc,callback:function(t){e.chkepsc=t},expression:"chkepsc"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Afiliación EPS Hijos"},model:{value:e.chkepsh,callback:function(t){e.chkepsh=t},expression:"chkepsh"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Afiliación EPS Padres"},model:{value:e.chkepsp,callback:function(t){e.chkepsp=t},expression:"chkepsp"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Afiliación Caja Conyuge"},model:{value:e.chkcajac,callback:function(t){e.chkcajac=t},expression:"chkcajac"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Afiliación Caja Hijos"},model:{value:e.chkcajah,callback:function(t){e.chkcajah=t},expression:"chkcajah"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Afiliación Caja Padres"},model:{value:e.chkcajap,callback:function(t){e.chkcajap=t},expression:"chkcajap"}})],1),a("v-flex",{attrs:{md12:""}},[e._v("\n                                  "),a("H3",[e._v("PROCESO CONTRATACION")])],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Consulta Fosyga"},model:{value:e.chkfosyga,callback:function(t){e.chkfosyga=t},expression:"chkfosyga"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Consulta RUAF"},model:{value:e.chkruaf,callback:function(t){e.chkruaf=t},expression:"chkruaf"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Certificación bancaria"},model:{value:e.chkcbancaria,callback:function(t){e.chkcbancaria=t},expression:"chkcbancaria"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Contrato de trabajo"},model:{value:e.chkcontrato,callback:function(t){e.chkcontrato=t},expression:"chkcontrato"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Clausulas Adicionales"},model:{value:e.chkclausulas,callback:function(t){e.chkclausulas=t},expression:"chkclausulas"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Ficha de Ingreso"},model:{value:e.chkficha,callback:function(t){e.chkficha=t},expression:"chkficha"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Carta Protección de datos"},model:{value:e.chkcproteccion,callback:function(t){e.chkcproteccion=t},expression:"chkcproteccion"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Consentimiento consumo sust.Psicoactivas"},model:{value:e.chkpsicoactivas,callback:function(t){e.chkpsicoactivas=t},expression:"chkpsicoactivas"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Autorizacion Centrales de riesgo"},model:{value:e.chkcriesgo,callback:function(t){e.chkcriesgo=t},expression:"chkcriesgo"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"2 Autorizacion descuento"},model:{value:e.chkadescuento,callback:function(t){e.chkadescuento=t},expression:"chkadescuento"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Pagare"},model:{value:e.chkpagare,callback:function(t){e.chkpagare=t},expression:"chkpagare"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Manual de funciones"},model:{value:e.chkmfunciones,callback:function(t){e.chkmfunciones=t},expression:"chkmfunciones"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Afiliacion ARL"},model:{value:e.chkarle,callback:function(t){e.chkarle=t},expression:"chkarle"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Afiliación EPS"},model:{value:e.chkepse,callback:function(t){e.chkepse=t},expression:"chkepse"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Afiliación AFP"},model:{value:e.chkafpe,callback:function(t){e.chkafpe=t},expression:"chkafpe"}}),a("v-checkbox",{staticClass:"mx-2",attrs:{label:"Afiliación Caja"},model:{value:e.chkcaja,callback:function(t){e.chkcaja=t},expression:"chkcaja"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},e._l(e.validaMensaje,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})}))],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.guardar(t)}}},[e._v("Guardar")])],1)],1)],1)],1),0==e.verNuevo?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.registros,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},["SOLICITADO"==t.item.estado||"APROBADO"==t.item.estado?[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.verDetalles(t.item)}}},[e._v("create\n                            ")])]:[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("block\n                            ")])],"APROBADO"==t.item.estado?[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.modalchecklist(t.item)}}},[e._v("tab\n                            ")])]:[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("tab\n                            ")])]],2),a("td",[e._v(e._s(t.item.idrequisicion))]),a("td",[e._v(e._s(t.item.id_zona))]),a("td",[e._v(e._s(t.item.id_cargo))]),a("td",[e._v(e._s(t.item.causal))]),a("td",[e._v(e._s(t.item.reemplazo))]),a("td",[e._v(e._s(t.item.fechasolicitud.split("T")[0]))]),a("td",[e._v(e._s(t.item.fechacontratacion.split("T")[0]))]),a("td",["APROBADO"==t.item.estado?a("div",[a("span",{staticClass:"blue--text"},[e._v("APROBADO")])]):"ANULADO"==t.item.estado?a("div",[a("span",{staticClass:"red--text"},[e._v("ANULADO")])]):"SOLICITADO"==t.item.estado?a("div",[a("span",{staticClass:"green--text"},[e._v("SOLICITADO")])]):e._e()])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2):e._e(),e.verNuevo?a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{directives:[{name:"show",rawName:"v-show",value:10==e.verNuevo,expression:"verNuevo == 10"}]},[a("v-text-field",{attrs:{label:"ID"},model:{value:e.idrequisicion,callback:function(t){e.idrequisicion=t},expression:"idrequisicion"}})],1),a("v-flex",{attrs:{md12:""}},[a("H3",[e._v("DATOS BASICOS")])],1),a("v-flex",{attrs:{xs12:"",sm3:"",md3:"",lg3:"",xl3:""}},[a("v-text-field",{attrs:{type:"date",label:"Fecha Estimada de contratacion"},on:{change:e.ValidaFecha},model:{value:e.fechacontratacion,callback:function(t){e.fechacontratacion=t},expression:"fechacontratacion"}})],1),a("v-flex",{attrs:{xs12:"",sm3:"",md3:"",lg3:"",xl3:""}},[a("v-autocomplete",{attrs:{items:e.zonas,label:"Regional",autocomplete:""},model:{value:e.id_zona,callback:function(t){e.id_zona=t},expression:"id_zona"}})],1),a("v-flex",{attrs:{xs12:"",sm3:"",md3:"",lg3:"",xl3:""}},[a("v-autocomplete",{attrs:{items:e.cargos,label:"Cargo",autocomplete:""},model:{value:e.id_cargo,callback:function(t){e.id_cargo=t},expression:"id_cargo"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:14==e.id_cargo,expression:"id_cargo == 14"}],attrs:{xs12:"",sm3:"",md3:"",lg3:"",xl3:""}},[a("v-select",{attrs:{items:e.turnocargos,label:"Turno del Cargo"},model:{value:e.turnocargo,callback:function(t){e.turnocargo=t},expression:"turnocargo"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:35==e.id_cargo,expression:"id_cargo == 35"}],attrs:{xs12:"",sm3:"",md3:"",lg3:"",xl3:""}},[a("v-text-field",{attrs:{label:"Tipo de Ruta"},model:{value:e.tiporuta,callback:function(t){e.tiporuta=t},expression:"tiporuta"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:35==e.id_cargo,expression:"id_cargo == 35"}],attrs:{xs12:"",sm3:"",md3:"",lg3:"",xl3:""}},[a("v-select",{attrs:{items:e.tipovehiculos,label:"Tipo Vehiculo"},model:{value:e.tipovehiculo,callback:function(t){e.tipovehiculo=t},expression:"tipovehiculo"}})],1),a("v-flex",{attrs:{xs12:"",sm3:"",md3:"",lg3:"",xl3:""}},[a("v-autocomplete",{attrs:{items:e.areas,label:"Area",autocomplete:""},model:{value:e.id_area,callback:function(t){e.id_area=t},expression:"id_area"}})],1),a("v-flex",{attrs:{md12:""}},[e._v("\n                      "),a("H3",[e._v("CAUSALES DE LA VACANTE")])],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.causales,label:"Causales"},model:{value:e.causal,callback:function(t){e.causal=t},expression:"causal"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:"RENUNCIA"==e.causal||"DESPIDO"==e.causal||"TRASLADO"==e.causal||"LICENCIA"==e.causal||"JUBILACION"==e.causal||"TERMINACION CONTRATO"==e.causal||"INCAPACIDAD"==e.causal,expression:"causal == 'RENUNCIA' ||  causal=='DESPIDO'||  causal=='TRASLADO'||  causal=='LICENCIA' ||  causal=='JUBILACION'\n                     ||  causal=='TERMINACION CONTRATO'||  causal=='INCAPACIDAD'"}],attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.empleados,label:"Persona que reemplaza",autocomplete:""},model:{value:e.reemplazo,callback:function(t){e.reemplazo=t},expression:"reemplazo"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Observaciones"},model:{value:e.observacion,callback:function(t){e.observacion=t},expression:"observacion"}})],1),a("v-flex",{attrs:{md12:""}},[e._v("\n                      "),a("H3",[e._v("INFORMACION SOBRE EL CARGO")])],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.empleados,label:"Nombre del Jefe",autocomplete:""},on:{change:e.CargoAutomatico},model:{value:e.jefe,callback:function(t){e.jefe=t},expression:"jefe"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Cargo del jefe"},model:{value:e.cargojefe,callback:function(t){e.cargojefe=t},expression:"cargojefe"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.tipos_contrato,label:"Tipo de contrato"},model:{value:e.tipo_contrato,callback:function(t){e.tipo_contrato=t},expression:"tipo_contrato"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.tiempos,label:"Tiempo"},model:{value:e.tiempo,callback:function(t){e.tiempo=t},expression:"tiempo"}})],1),a("v-flex",{attrs:{md12:""}},[e._v("\n                      "),a("H3",[e._v("JORNADA LABORAL")])],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.jornadas,label:"Jornada",autocomplete:""},model:{value:e.jornada,callback:function(t){e.jornada=t},expression:"jornada"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Funciones",rules:e.funcionrule},model:{value:e.funcion,callback:function(t){e.funcion=t},expression:"funcion"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Deberes",rules:e.funcionrule},model:{value:e.deberes,callback:function(t){e.deberes=t},expression:"deberes"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.estudioss,label:"Nivel de estudios"},model:{value:e.estudios,callback:function(t){e.estudios=t},expression:"estudios"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:"UNIVERSIDAD /CARRERA TÉCNICA"==e.estudios||"UNIVERSIDAD /CARRERA TECNOLÓGICA"==e.estudios||"UNIVERSIDAD /CARRERA PROFECIONAL"==e.estudios||"POSTGRADO / ESPECIALIZACION"==e.estudios,expression:"estudios == 'UNIVERSIDAD /CARRERA TÉCNICA' ||  estudios=='UNIVERSIDAD /CARRERA TECNOLÓGICA'||\n                      estudios=='UNIVERSIDAD /CARRERA PROFECIONAL'||  estudios=='POSTGRADO / ESPECIALIZACION' "}],attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Área de Estudio"},model:{value:e.areaestudio,callback:function(t){e.areaestudio=t},expression:"areaestudio"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.experiencias,label:"Experiencia"},model:{value:e.experiencia,callback:function(t){e.experiencia=t},expression:"experiencia"}})],1),a("v-flex",{attrs:{md12:""}},[e._v("\n                      "),a("H3",[e._v("CARACTERISTICAS DEL CANDIDATO (A)")])],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"Edad Minima"},model:{value:e.edad_minima,callback:function(t){e.edad_minima=t},expression:"edad_minima"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"Edad Maxima"},model:{value:e.edad_maxima,callback:function(t){e.edad_maxima=t},expression:"edad_maxima"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.sexos,label:"sexo"},model:{value:e.sexo,callback:function(t){e.sexo=t},expression:"sexo"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.estadocivils,label:"Estado Civil"},model:{value:e.estadocivil,callback:function(t){e.estadocivil=t},expression:"estadocivil"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.contesturafisicas,label:"Contextura Física"},model:{value:e.contesturafisica,callback:function(t){e.contesturafisica=t},expression:"contesturafisica"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.dviajars,label:"Disponibilidad de viajar"},model:{value:e.dviajar,callback:function(t){e.dviajar=t},expression:"dviajar"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.vehiculos,label:"Vehiculo Propio"},model:{value:e.vehiculo,callback:function(t){e.vehiculo=t},expression:"vehiculo"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.municipios,label:"Vivienda Preferible en",autocomplete:""},model:{value:e.vivienda,callback:function(t){e.vivienda=t},expression:"vivienda"}})],1),a("v-flex",{attrs:{md12:""}},[e._v("\n                      "),a("H3",[e._v("CAPACIDAD Y HABILIDADES")])],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.capacidades,label:"Capacidad Intelectual"},model:{value:e.cintelectual,callback:function(t){e.cintelectual=t},expression:"cintelectual"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.capacidades,label:"Iniciativa y empuje"},model:{value:e.iniciativa,callback:function(t){e.iniciativa=t},expression:"iniciativa"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.capacidades,label:"Apego a las Normas"},model:{value:e.apegoanormas,callback:function(t){e.apegoanormas=t},expression:"apegoanormas"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.capacidades,label:"Actividad de fuerza"},model:{value:e.actividadfuerza,callback:function(t){e.actividadfuerza=t},expression:"actividadfuerza"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.capacidades,label:"Manejo de Varias Actividades"},model:{value:e.manejoactividades,callback:function(t){e.manejoactividades=t},expression:"manejoactividades"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.capacidades,label:"Tolerancia a la Presión"},model:{value:e.toleranciapresion,callback:function(t){e.toleranciapresion=t},expression:"toleranciapresion"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.capacidades,label:"Vocacion al Servicio"},model:{value:e.vocacion,callback:function(t){e.vocacion=t},expression:"vocacion"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.capacidades,label:"Trabajo en Equipo"},model:{value:e.trabajoequipo,callback:function(t){e.trabajoequipo=t},expression:"trabajoequipo"}})],1),a("v-flex",{attrs:{md12:""}},[e._v("\n                      "),a("H3",[e._v("ESPACIO PARA SER LLENADO UNICAMENTE POR GESTION HUMANA")])],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"BASICO",readonly:1==e.verNuevo},on:{change:e.Total},model:{value:e.basico,callback:function(t){e.basico=t},expression:"basico"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"HORAS EXTRAS DIURNAS",readonly:1==e.verNuevo},on:{change:e.Total},model:{value:e.hed,callback:function(t){e.hed=t},expression:"hed"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"HORAS EXTRAS NOCTURNAS",readonly:1==e.verNuevo},on:{change:e.Total},model:{value:e.hen,callback:function(t){e.hen=t},expression:"hen"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"BONIFICACION",readonly:1==e.verNuevo},on:{change:e.Total},model:{value:e.bonificacion,callback:function(t){e.bonificacion=t},expression:"bonificacion"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"RECARGO NOCTURNO",readonly:1==e.verNuevo},on:{change:e.Total},model:{value:e.rn,callback:function(t){e.rn=t},expression:"rn"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"DOMINICAL",readonly:1==e.verNuevo},on:{change:e.Total},model:{value:e.dominical,callback:function(t){e.dominical=t},expression:"dominical"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"COMISIÓN",readonly:1==e.verNuevo},on:{change:e.Total},model:{value:e.comision,callback:function(t){e.comision=t},expression:"comision"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"RODAMIENTO",readonly:1==e.verNuevo},on:{change:e.Total},model:{value:e.rodamiento,callback:function(t){e.rodamiento=t},expression:"rodamiento"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"AUXILIO MOVILIZACIÓN",readonly:1==e.verNuevo},on:{change:e.Total},model:{value:e.auxmovilizacion,callback:function(t){e.auxmovilizacion=t},expression:"auxmovilizacion"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"SUBSIDIO TRANSPORTE",readonly:1==e.verNuevo},on:{change:e.Total},model:{value:e.subtransporte,callback:function(t){e.subtransporte=t},expression:"subtransporte"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"TOTAL",readonly:1==e.verNuevo},model:{value:e.total,callback:function(t){e.total=t},expression:"total"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.estados,label:"Estado",autocomplete:"",readonly:1==e.verNuevo},model:{value:e.estado,callback:function(t){e.estado=t},expression:"estado"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{attrs:{label:"OBSERVACIONES",readonly:1==e.verNuevo},model:{value:e.registro,callback:function(t){e.registro=t},expression:"registro"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},e._l(e.validaMensaje,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})})),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.ocultarNuevo()}}},[e._v("Cancelar")]),0==e.verDet?a("v-btn",{attrs:{color:"success"},on:{click:function(t){e.guardar()}}},[e._v("Guardar")]):e._e(),1==e.verDet?a("v-btn",{attrs:{color:"success"},on:{click:function(t){e.actualizar()}}},[e._v("Actualizar")]):e._e()],1)],1)],1):e._e()],1)],1)},Ia=[];i["default"].use(pa["a"],Da);var Da={confirmButtonColor:"#41b882",cancelButtonColor:"#ff7674"};i["default"].component("downloadExcel",Oe["a"]);var ya,Na={data:function(){return{registros:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Codigo",value:"idregistro"},{text:"Regional",value:"id_zona"},{text:"Cargo",value:"cargo",sortable:!1},{text:"Causal",value:"causal",sortable:!1},{text:"Empleado a Reemplazar",value:"reemplazo",sortable:!1},{text:"Fecha Solicitud",value:"fechasolicitud",sortable:!1},{text:"Fecha Estimada",value:"fechacontratacion",sortable:!1},{text:"Estado",value:"estado"}],search:"",id:"",idrequisicion:"",fechacontratacion:"",id_zona:"",zonas:[{text:"NACIONAL",value:0,sortable:!1},{text:"CALI",value:1,sortable:!1},{text:"PEREIRA",value:2,sortable:!1},{text:"MEDELLIN",value:3,sortable:!1},{text:"PASTO",value:4,sortable:!1},{text:"IBAGUE",value:5,sortable:!1},{text:"NEIVA",value:6,sortable:!1},{text:"POPAYAN",value:7,sortable:!1}],id_cargo:"",cargos:[],turnocargo:"N/A",turnocargos:[{text:"N/A",value:"N/A",sortable:!1},{text:"TURNO PARTIDO",value:"TURNO PARTIDO",sortable:!1},{text:"TURNO TARDE",value:"TURNO TARDE",sortable:!1},{text:"TURNO VIAJERO",value:"TURNO VIAJERO",sortable:!1},{text:"TURNO NOCTURNO",value:"TURNO NOCTURNO",sortable:!1},{text:"TURNO DIA",value:"TURNO DIA",sortable:!1}],tiporuta:"N/A",tipovehiculo:"N/A",tipovehiculos:[{text:"N/A",value:"N/A",sortable:!1},{text:"TURBO",value:"TURBO",sortable:!1},{text:"TRACTOMULA",value:"TRACTOMULA",sortable:!1},{text:"CAMION",value:"CAMION",sortable:!1},{text:"SENCILLO",value:"SENCILLO",sortable:!1},{text:"DOBLETROQUE",value:"DOBLETROQUE",sortable:!1},{text:"CAMIONETA",value:"CAMIONETA",sortable:!1}],id_area:"",areas:[],causal:"",causales:[{text:"RENUNCIA",value:"RENUNCIA",sortable:!1},{text:"DESPIDO",value:"DESPIDO",sortable:!1},{text:"VACACIONES",value:"VACACIONES",sortable:!1},{text:"TRASLADO",value:"TRASLADO",sortable:!1},{text:"LICENCIA",value:"LICENCIA",sortable:!1},{text:"JUBILACION",value:"JUBILACION",sortable:!1},{text:"TERMINACION DE CONTRATO",value:"TERMINACION DE CONTRATO",sortable:!1},{text:"CREACION DE CARGO",value:"CREACION DE CARGO",sortable:!1},{text:"INCAPACIDADES PROLONGADAS",value:"INCAPACIDADES PROLONGADAS",sortable:!1},{text:"TEMPORADA ALTA",value:"TEMPORADA ALTA",sortable:!1}],reemplazo:0,observacion:"",jefe:"",cargojefe:"",tipo_contrato:"",tipos_contrato:[{text:"INDEFINIDO",value:"INDEFINIDO",sortable:!1},{text:"FIJO",value:"FIJO",sortable:!1},{text:"TEMPORAL",value:"TEMPORAL",sortable:!1}],tiempo:"",tiempos:[{text:"TIEMPO COMPLETO",value:"TIEMPO COMPLETO",sortable:!1},{text:"TIEMPO REDUCIDO",value:"TIEMPO REDUCIDO",sortable:!1}],funcion:"",funcionrule:[function(e){return(e||"").length>=15||"Minimo 15 caracteres"}],jornada:"",jornadas:[{text:"DIURNO",value:1,sortable:!1},{text:"TARDE",value:2,sortable:!1},{text:"NOCTURNO",value:0,sortable:!1}],deberes:"",estudios:"",estudioss:[{text:"EDUCACIÓN BÁSICA PRIMARIA",value:"EDUCACIÓN BÁSICA PRIMARIA",sortable:!1},{text:"EDUCACIÓN BÁSICA SECUNDARIA",value:"EDUCACIÓN BÁSICA SECUNDARIA",sortable:!1},{text:"BACHILLERATO / EDUCACION MEDIA",value:"BACHILLERATO / EDUCACION MEDIA",sortable:!1},{text:"UNIVERSIDAD /CARRERA TÉCNICA",value:"UNIVERSIDAD /CARRERA TÉCNICA",sortable:!1},{text:"UNIVERSIDAD /CARRERA TECNOLÓGICA",value:"UNIVERSIDAD /CARRERA TECNOLÓGICA",sortable:!1},{text:"UNIVERSIDAD /CARRERA PROFECIONAL",value:"UNIVERSIDAD /CARRERA PROFECIONAL",sortable:!1},{text:"POSTGRADO / ESPECIALIZACION",value:"POSTGRADO / ESPECIALIZACION",sortable:!1}],areaestudio:"N/A",experiencia:"",experiencias:[{text:"SIN EXPERIENCIA",value:"SIN EXPERIENCIA",sortable:!1},{text:"MENOS DE UN AÑO",value:"MENOS DE UN AÑO",sortable:!1},{text:"1 AÑO",value:"1 AÑO",sortable:!1},{text:"2 AÑOS",value:"2 AÑOS",sortable:!1},{text:"3 AÑOS",value:"3 AÑOS",sortable:!1},{text:"4 AÑOS",value:"4 AÑOS",sortable:!1},{text:"5 AÑOS",value:"5 AÑOS",sortable:!1},{text:"MAS DE 5 AÑOS",value:"MAS DE 5 AÑOS",sortable:!1}],edad_minima:"",edad_maxima:"",sexo:"",sexos:[{text:"MUJER",value:"MUJER",sortable:!1},{text:"HOMBRE",value:"HOMBRE",sortable:!1}],estadocivil:"",estadocivils:[{text:"SOLTERO(A)",value:"SOLTERO",sortable:!1},{text:"CASADO(A)",value:"CASADO",sortable:!1},{text:"VIUDO(A)",value:"VIUDO",sortable:!1}],contesturafisica:"",contesturafisicas:[{text:"GRUESA",value:"GRUESA",sortable:!1},{text:"PROMEDIO",value:"PROMEDIO",sortable:!1},{text:"DELGADO",value:"DELGADO",sortable:!1}],dviajar:"",dviajars:[{text:"SI",value:"SI",sortable:!1},{text:"NO",value:"NO",sortable:!1}],vehiculo:"",vehiculos:[{text:"N/A",value:"N/A",sortable:!1},{text:"BICICLETA",value:"BICICLETA",sortable:!1},{text:"MOTOCICLETA",value:"MOTOCICLETA",sortable:!1},{text:"AUTOMÓVIL",value:"AUTOMÓVIL",sortable:!1}],vivienda:"",municipios:[],capacidades:[{text:"BAJO",value:"BAJO",sortable:!1},{text:"PROMEDIO",value:"PROMEDIO",sortable:!1},{text:"ALTO",value:"ALTO",sortable:!1}],cintelectual:"",iniciativa:"",apegoanormas:"",actividadfuerza:"",manejoactividades:"",toleranciapresion:"",vocacion:"",trabajoequipo:"",basico:0,hed:0,bonificacion:0,hen:0,rn:0,auxmovilizacion:0,subtransporte:0,dominical:0,comision:0,rodamiento:0,total:0,registro:"",estado:"",estados:[{text:"SOLICITADO",value:"SOLICITADO",sortable:!1},{text:"APROBADO",value:"APROBADO",sortable:!1},{text:"ANULADO",value:"ANULADO",sortable:!1}],chkrqs:!1,chkhojavida:!1,chkentrevista:!1,chkpruebastec:!1,chkrpruebas:!1,chkantecedentes:!1,chksimit:!1,chkdomiciliaria:!1,chkingreso:!1,chkpoligrafia:!1,chkcedula:!1,chkconducion:!1,chkdiplomas:!1,chkpersonal:!1,chklaboral:!1,chkccompromiso:!1,chkeps:!1,chkafp:!1,chkadp:!1,chkfblanco:!1,chkfconyuge:!1,chkpmatrimonio:!1,chkregistroh:!1,chkidentidadh:!1,chkestudiosh:!1,chkregistro:!1,chkfpadres:!1,chkepsc:!1,chkepsh:!1,chkepsp:!1,chkcajac:!1,chkcajah:!1,chkcajap:!1,chkfosyga:!1,chkruaf:!1,chkcbancaria:!1,chkcontrato:!1,chkclausulas:!1,chkficha:!1,chkcproteccion:!1,chkpsicoactivas:!1,chkcriesgo:!1,chkadescuento:!1,chkpagare:!1,chkmfunciones:!1,chkarle:!1,chkepse:!1,chkafpe:!1,chkcaja:!1,empleados:[],verNuevo:0,error:null,errorArticulo:null,texto:"",verDet:0,valida:0,validaMensaje:[],checklist:0,adAccion:0,adNombre:"",adId:"",fechaToday:(new Date).toISOString().substr(0,10)}},computed:{calcularTotal:function(){for(var e=0,t=0;t<this.detalles.length;t++)e+=this.detalles[t].precio*this.detalles[t].cantidad;return e},formTitle:function(){return this.editedIndex,"Nuevo Cliente"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.listar()},methods:{mostrarNuevo:function(){this.verNuevo=1,this.select(),this.selectMunicipio(),this.selectArea(),this.selectCargo(),this.estado="SOLICITADO"},ocultarNuevo:function(){this.verNuevo=0,this.verDet=0,this.limpiar()},close:function(){this.checklist=0,this.select()},listar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t},i="";i=e.search?"api/Requisiciones/ListarFiltro/"+e.search:"api/Requisiciones/Listar",me.a.get(i,a).then(function(t){e.registros=t.data}).catch(function(e){console.log(e)})},CargoAutomatico:function(){var e=this;me.a.get("api/categorias/Mostrar/"+this.jefe,{}).then(function(t){e.cargojefe=t.data.cargo})},Total:function(){var e=parseInt(this.basico)+parseInt(this.bonificacion)+parseInt(this.hen)+parseInt(this.auxmovilizacion)+parseInt(this.subtransporte)+parseInt(this.dominical)+parseInt(this.comision)+parseInt(this.rodamiento)+parseInt(this.hed)+parseInt(this.rn);this.total=e},ValidaFecha:function(){var e=new Date,t=e.getDate()+9,a=e.getMonth()+1,i=e.getFullYear();t>31&&(t-=31,a+=1),t=s(t),a=s(a);var o=i+"-"+a+"-"+t;function s(e){return e<10&&(e="0"+e),e}this.fechacontratacion<o&&(this.fechacontratacion="",Se.a.fire({type:"error",title:"Ingresar una Fecha superior a 9 dias hábiles",footer:"<a>!Fecha Ingresada no es la Correcta¡</a>"}))},select:function(){var e=this,t=[];me.a.get("api/categorias/listar").then(function(a){t=a.data,t.map(function(t){e.empleados.push({text:t.nombre_empleado,value:t.id_empleado})})}).catch(function(e){console.log(e)})},selectMunicipio:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/ListarMunicipio",i).then(function(a){t=a.data,t.map(function(t){e.municipios.push({text:t.concat_municipio,value:t.id_municipio})})}).catch(function(e){console.log(e)})},selectArea:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/ListarArea",i).then(function(a){1==e.verNuevo&&(e.id_zona=parseInt(e.$store.state.usuario.id_zona)),t=a.data,t.map(function(t){e.areas.push({text:t.desc_area,value:t.id_area})})}).catch(function(e){console.log(e)})},selectCargo:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/ListarCargo",i).then(function(a){t=a.data,t.map(function(t){e.cargos.push({text:t.desc_cargo,value:t.id_cargo})})}).catch(function(e){console.log(e)})},MostrarRequisicion:function(){var e=this;me.a.get("api/Requisiciones/Mostrar/"+this.idcliente,{}).then(function(t){e.requisiciones=t.data})},verDetalles:function(e){this.limpiar(),this.select(),this.selectMunicipio(),this.selectArea(),this.selectCargo();var t=this;me.a.get("api/Requisiciones/Mostrar/"+e.idrequisicion,{}).then(function(e){t.idrequisicion=e.data.idrequisicion,t.fechacontratacion=e.data.fechacontratacion.split("T")[0],t.id_zona=e.data.id_zona,t.id_cargo=e.data.id_cargo,t.id_area=e.data.id_area,t.causal=e.data.causal,t.reemplazo=e.data.reemplazo,t.observacion=e.data.observacion,t.jefe=e.data.jefe,t.tipo_contrato=e.data.tipo_contrato,t.tiempo=e.data.tiempo,t.funcion=e.data.funcion,t.deberes=e.data.deberes,t.estudios=e.data.estudios,t.experiencia=e.data.experiencia,t.edad_minima=e.data.edad_minima,t.edad_maxima=e.data.edad_maxima,t.sexo=e.data.sexo,t.estadocivil=e.data.estadocivil,t.contesturafisica=e.data.contesturafisica,t.dviajar=e.data.dviajar,t.vehiculo=e.data.vehiculo,t.vivienda=parseInt(e.data.vivienda),t.cintelectual=e.data.cintelectual,t.iniciativa=e.data.iniciativa,t.apegoanormas=e.data.apegoanormas,t.actividadfuerza=e.data.actividadfuerza,t.manejoactividades=e.data.manejoactividades,t.toleranciapresion=e.data.toleranciapresion,t.vocacion=e.data.vocacion,t.trabajoequipo=e.data.trabajoequipo,t.basico=e.data.basico,t.hed=e.data.hed,t.bonificacion=e.data.bonificacion,t.hen=e.data.hen,t.rn=e.data.rn,t.auxmovilizacion=e.data.auxmovilizacion,t.subtransporte=e.data.subtransporte,t.dominical=e.data.dominical,t.comision=e.data.comision,t.rendimiento=e.data.rendimiento,t.registro=e.data.registro,t.estado=e.data.estado,t.areaestudio=e.data.areaestudio,t.tiporuta=e.data.tiporuta,t.tipovehiculo=e.data.tipovehiculo,t.turnocargo=e.data.turnocargo}),this.verDet=1,this.verNuevo=2},limpiar:function(){this.fechacontratacion="",this.id_zona="",this.id_cargo="",this.id_area="",this.causal="",this.reemplazo=0,this.observacion="",this.jefe="",this.cargojefe="",this.tipo_contrato="",this.tiempo="",this.funcion="",this.deberes="",this.estudios="",this.experiencia="",this.edad_minima="",this.edad_maxima="",this.sexo="",this.estadocivil="",this.contesturafisica="",this.dviajar="",this.vehiculo="",this.vivienda="",this.cintelectua="",this.iniciativa="",this.apegoanormas="",this.actividadfuerza="",this.manejoactividades="",this.toleranciapresion="",this.vocacion="",this.trabajoequipo="",this.basico=0,this.hed=0,this.bonificacion=0,this.hen=0,this.rn=0,this.auxmovilizacion=0,this.subtransporte=0,this.dominical=0,this.comision=0,this.rodamiento=0,this.total=0,this.registro="",this.estado="",this.areaestudio="N/A",this.tiporuta="N/A",this.tipovehiculo="N/A",this.turnocargo="N/A",this.validaMensaje=[]},guardar:function(){if(!this.validar()){var e={Authorization:"Bearer "+this.$store.state.token},t={headers:e},a=this;console.log(a.areaestudio),console.log(a.tiporuta),console.log(a.tipovehiculo),console.log(a.turnocargo),me.a.post("api/Requisiciones/Crear",{fechacontratacion:a.fechacontratacion,usuario:a.$store.state.usuario.nombre,id_zona:a.id_zona,id_cargo:a.id_cargo,id_area:a.id_area,causal:a.causal,reemplazo:a.reemplazo,observacion:a.observacion,jefe:a.jefe,tipo_contrato:a.tipo_contrato,tiempo:a.tiempo,funcion:a.funcion,deberes:a.deberes,estudios:a.estudios,experiencia:a.experiencia,edad_minima:a.edad_minima,edad_maxima:a.edad_maxima,sexo:a.sexo,estadocivil:a.estadocivil,contesturafisica:a.contesturafisica,dviajar:a.dviajar,vehiculo:a.vehiculo,vivienda:a.vivienda,cintelectual:a.cintelectual,iniciativa:a.iniciativa,apegoanormas:a.apegoanormas,actividadfuerza:a.actividadfuerza,manejoactividades:a.manejoactividades,toleranciapresion:a.toleranciapresion,vocacion:a.vocacion,trabajoequipo:a.trabajoequipo,basico:a.basico,hed:a.hed,bonificacion:a.bonificacion,hen:a.hen,rn:a.rn,auxmovilizacion:a.auxmovilizacion,subtransporte:a.subtransporte,estado:a.estado,dominical:a.dominical,comision:a.comision,rodamiento:a.rodamiento,areaestudio:a.areaestudio,tiporuta:a.tiporuta,tipovehiculo:a.tipovehiculo,turnocargo:a.turnocargo},t).then(function(e){Se.a.fire({position:"bot-end",type:"success",title:"Su solicitud ha sido Generada Exitosamente",showConfirmButton:!1,timer:1e3}),a.ocultarNuevo(),a.listar(),a.limpiar()}).catch(function(e){console.log(e)})}},actualizar:function(){if(!this.validarActualizar()){var e={Authorization:"Bearer "+this.$store.state.token},t={headers:e},a=this;me.a.put("api/Requisiciones/Actualizar",{idrequisicion:a.idrequisicion,basico:a.basico,hed:a.hed,bonificacion:a.bonificacion,hen:a.hen,rn:a.rn,auxmovilizacion:a.auxmovilizacion,subtransporte:a.subtransporte,dominical:a.dominical,comision:a.comision,rodamiento:a.rodamiento,registro:a.registro,estado:a.estado},t).then(function(e){Se.a.fire({position:"bot-end",type:"success",title:"Se ha Actualizado el Registro",showConfirmButton:!1,timer:1e3}),a.ocultarNuevo(),a.listar(),a.limpiar()}).catch(function(e){console.log(e)})}},validar:function(){return this.valida=0,this.validaMensaje=[],this.fechacontratacion||this.validaMensaje.push("Ingrese el Fecha de Contratacion."),""===this.id_zona&&this.validaMensaje.push("Seleccione una Regional."),this.id_cargo||this.validaMensaje.push("Seleccione una Cargo."),this.id_area||this.validaMensaje.push("Seleccione una Area."),this.causal||this.validaMensaje.push("Seleccionar un Causal."),this.observacion||this.validaMensaje.push("Ingresar Observación."),this.jefe||this.validaMensaje.push("Seleccionar Jefe."),this.tipo_contrato||this.validaMensaje.push("Seleccionar Tipo de Contrato."),this.tiempo||this.validaMensaje.push("Seleccionar Tiempo."),this.funcion||this.validaMensaje.push("Ingresar La Funcion."),this.deberes||this.validaMensaje.push("Ingresar Los Deberes."),this.estudios||this.validaMensaje.push("Seleccionar los Estudios."),this.experiencia||this.validaMensaje.push("Seleccionar Experiencia."),this.sexo||this.validaMensaje.push("Seleccionar el Sexo."),this.estadocivil||this.validaMensaje.push("Seleccionar el Estado Civil."),this.experiencia||this.validaMensaje.push("Seleccionar Experiencia."),this.contesturafisica||this.validaMensaje.push("Seleccionar La Contextura Física."),this.dviajar||this.validaMensaje.push("Seleccionar Disponibilidad de Viajar."),this.vehiculo||this.validaMensaje.push("Seleccionar Vehiculo."),this.vivienda||this.validaMensaje.push("Seleccionar Vivienda."),this.cintelectual||this.validaMensaje.push("Seleccionar Capacidad Intelectual."),this.iniciativa||this.validaMensaje.push("Seleccionar Iniciativa."),this.apegoanormas||this.validaMensaje.push("Seleccionar Apego a Normas."),this.actividadfuerza||this.validaMensaje.push("Seleccionar Activaidad de Fuerza."),this.manejoactividades||this.validaMensaje.push("Seleccionar Manejo de Varias Actividades."),this.toleranciapresion||this.validaMensaje.push("Seleccionar Tolerancia a la Presión."),this.vocacion||this.validaMensaje.push("Seleccionar Vocacion al Servicio."),this.trabajoequipo||this.validaMensaje.push("Seleccionar Trabajo en Equipo."),this.toleranciapresion||this.validaMensaje.push("Seleccionar Tolerancia a la Presión."),this.validaMensaje.length&&(this.valida=1),this.valida},validarActualizar:function(){return this.valida=0,this.validaMensaje=[],""===this.basico&&this.validaMensaje.push("Ingrese Basico."),""===this.hed&&this.validaMensaje.push("Ingresar las Horas Extras Diurnas."),""===this.hen&&this.validaMensaje.push("Ingresar las Horas Extras Nocturnas."),""===this.bonificacion&&this.validaMensaje.push("Ingresar Bonificacion"),""===this.rn&&this.validaMensaje.push("Ingresar Recargo Nocturno."),""===this.dominical&&this.validaMensaje.push("Ingresar Dominical."),""===this.comision&&this.validaMensaje.push("Ingresar Comision."),""===this.rodamiento&&this.validaMensaje.push("Ingresar Rodamiento."),""===this.auxmovilizacion&&this.validaMensaje.push("Ingresar Auxilio mmovilizacion."),""===this.subtransporte&&this.validaMensaje.push("Ingresar Subcidio de Transporte."),this.registro||this.validaMensaje.push("Ingresar Las Observaciones."),this.validaMensaje.length&&(this.valida=1),this.valida},modalchecklist:function(){this.checklist=1},activarDesactivarMostrar:function(e,t){this.adNombre=t.num_comprobante,this.adId=t.idingreso,1==e?this.adAccion=1:2==e&&(this.adAccion=2)},activarDesactivarCerrar:function(){},desactivar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.put("api/Ingresos/Anular/"+this.adId,{},a).then(function(t){e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})}}},Ea=Na,Oa=Object(fe["a"])(Ea,ka,Ia,!1,null,null,null),wa=Oa.exports,Sa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Informe de Empleados")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-btn",{staticStyle:{position:"push-right"}},[a("download-excel",{staticClass:"btn",attrs:{fetch:e.fetchDependientes,fields:e.dependientes,"before-generate":e.startDownload,"before-finish":e.finishDownload,name:"Dependientes.xls",type:"xls"}},[e._v("\n                  Dependientes\n              ")])],1),a("v-btn",[a("download-excel",{staticClass:"btn",attrs:{fetch:e.fetchContactos,fields:e.contactos,"before-generate":e.startDownload,"before-finish":e.finishDownload,name:"Contatos.xls",type:"xls"}},[e._v("\n                  Contactos\n              ")])],1),a("v-btn",{attrs:{color:"primary"}},[a("download-excel",{staticClass:"btn",attrs:{fetch:e.fetchData,fields:e.json_fields,"before-generate":e.startDownload,"before-finish":e.finishDownload,name:"Empleados.xls",type:"xls"}},[e._v("Descargar\n          ")])],1)],1),a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.zonas,label:"Regional",autocomplete:""},model:{value:e.id_zona,callback:function(t){e.id_zona=t},expression:"id_zona"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.cargos,label:"Cargo",autocomplete:""},model:{value:e.id_cargo,callback:function(t){e.id_cargo=t},expression:"id_cargo"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.areas,label:"Area",autocomplete:""},model:{value:e.id_area,callback:function(t){e.id_area=t},expression:"id_area"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.items,label:"Retirados"},model:{value:e.id_estado,callback:function(t){e.id_estado=t},expression:"id_estado"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"date",items:e.items,label:"Fecha Inicial"},model:{value:e.fechainicial,callback:function(t){e.fechainicial=t},expression:"fechainicial"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"date",items:e.items,label:"Fecha Final"},model:{value:e.fechafinal,callback:function(t){e.fechafinal=t},expression:"fechafinal"}})],1)],1)],1)],1)],1)},Ta=[];function Ma(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ra(e,t,a,i,o,s,n){try{var r=e[s](n),l=r.value}catch(c){return void a(c)}r.done?t(l):Promise.resolve(l).then(i,o)}function ja(e){return function(){var t=this,a=arguments;return new Promise(function(i,o){var s=e.apply(t,a);function n(e){Ra(s,i,o,n,r,"next",e)}function r(e){Ra(s,i,o,n,r,"throw",e)}n(void 0)})}}var Pa={data:function(){return{id_zona:100,id_cargo:0,id_area:0,fechainicial:"",fechafinal:"",id_estado:"N",items:[{text:"SI",value:"S",sortable:!1},{text:"NO",value:"N",sortable:!1}],zonas:[{text:"SIN REGIONAL",value:100,sortable:!1},{text:"NACIONAL",value:0,sortable:!1},{text:"CALI",value:1,sortable:!1},{text:"PEREIRA",value:2,sortable:!1},{text:"MEDELLIN",value:3,sortable:!1},{text:"PASTO",value:4,sortable:!1},{text:"IBAGUE",value:5,sortable:!1},{text:"NEIVA",value:6,sortable:!1},{text:"POPAYAN",value:7,sortable:!1}],cargos:[{text:"SIN CARGO",value:0,sortable:!1}],areas:[{text:"SIN AREA",value:0,sortable:!1}],json_fields:{cedula:"id_empleado",Nombre:"nombre_empleado",Empresa:"nit_empresa",Dependencia:"id_dependencia",Cargo:"cargo",Regional:"zona",Area:"area",Municipio:"municipio",Direccion:"direccion",Barrio:"barrio",Comuna:"comuna",Estrato:"estrato",Celular:"celular","Telefono Fijo":"telefono_fijo",Corre:"correo","Fecha Nacimiento":"fec_ncto",Afp:"afp",Eps:"eps","Grupo Sanguineo":"grupo_sanguineo","Fecha Ingreso":"fec_ingreso","Estado Civil":"id_estado_civil","Nivel Academico":"id_nivelacademico","Recibe Dotacion":"recibe_dotacion","Libreta Militar":"libreta_militar",sexo:"sexo","Talla Bota":"talla_bota","Talla Camisa":"talla_camisa","Talla Pantalon":"talla_pantalon","Tipo de Conductor":"id_tipoconductor","Medio de Transporte":"medio_transporte",Placa:"placa_operativa",Jornada:"jornada","Tipo Empleado":"tipo_empleado",Conyuge:"conyuge","Id Conyuge":"cedula_conyuge","Fecha Conyuge":"fec_nctoconyuge","Nivel Academico Conyuge":"id_nivelacademico_conyuge","Labora Conyuge":"labora_conyuge",Estado:"estado"},dependientes:{Empleado:"empleado","Tipo de Documento":"tipo_doc",Documento:"id_dependente",Regional:"regional",Nombre:"nombre",Fecha:"fecha",Parentesco:"parentesco",Sexo:"sexo",Edad:"edad",Estado:"estado"},contactos:{Empleado:"empleado","Cedula Empleado":"id_empleado","Tipo de Contacto":"tipo_contacto",Nombre:"nombre_empleado",Celular:"celular_contacto",fijo:"fijo_contacto"}}},created:function(){this.selectArea(),this.selectCargo()},methods:(ya={fetchData:function(){var e=ja(Ee.a.mark(function e(){var t;return Ee.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.validar()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,me.a.get("api/categorias/informes/"+this.id_estado+"/"+this.id_area+"/"+this.id_cargo+"/"+this.id_zona+"/"+this.fechainicial+"/"+this.fechafinal);case 4:return t=e.sent,""==t.data&&Se.a.fire({type:"error",title:"No existen Registros",showConfirmButton:!1,timer:1e3}),e.abrupt("return",t.data);case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),startDownload:function(){Se.a.fire({type:"success",title:"Procesando descarga",showConfirmButton:!1})},finishDownload:function(){},fetchDependientes:function(){var e=ja(Ee.a.mark(function e(){var t;return Ee.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("api/Categorias/ListarDependentes");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},Ma(ya,"startDownload",function(){Se.a.fire({type:"success",title:"Procesando descarga",showConfirmButton:!1,timer:1e3})}),Ma(ya,"fetchContactos",function(){var e=ja(Ee.a.mark(function e(){var t;return Ee.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("api/Categorias/ListarContactos");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()),Ma(ya,"startDownload",function(){Se.a.fire({type:"success",title:"Procesando descarga",showConfirmButton:!1,timer:1e3})}),Ma(ya,"validar",function(){this.fechafinal||Se.a.fire({type:"error",title:"Ingresar Fecha Final",showConfirmButton:!1,timer:1e3}),this.fechainicial||Se.a.fire({type:"error",title:"Ingresar Fecha Inicial",showConfirmButton:!1,timer:1e3})}),Ma(ya,"selectArea",function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/ListarArea",i).then(function(a){t=a.data,t.map(function(t){e.areas.push({text:t.desc_area,value:t.id_area})})}).catch(function(e){console.log(e)})}),Ma(ya,"selectCargo",function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/ListarCargo",i).then(function(a){t=a.data,t.map(function(t){e.cargos.push({text:t.desc_cargo,value:t.id_cargo})})}).catch(function(e){console.log(e)})}),ya)},za=Pa,La=Object(fe["a"])(za,Sa,Ta,!1,null,null,null),Ba=La.exports,Fa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Informe de Registros")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-btn",{attrs:{color:"primary","push-right":""}},[a("download-excel",{staticClass:"btn",attrs:{fetch:e.fetchData,fields:e.json_fields,"before-generate":e.startDownload,"before-finish":e.finishDownload,name:"Registros.xls",type:"xls"}},[e._v("Descargar\n          ")])],1)],1),a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"date",label:"Fecha Inicial"},model:{value:e.fechainicial,callback:function(t){e.fechainicial=t},expression:"fechainicial"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"date",label:"Fecha Final"},model:{value:e.fechafinal,callback:function(t){e.fechafinal=t},expression:"fechafinal"}})],1)],1)],1)],1)],1)},Ua=[];function Va(e,t,a,i,o,s,n){try{var r=e[s](n),l=r.value}catch(c){return void a(c)}r.done?t(l):Promise.resolve(l).then(i,o)}function Ga(e){return function(){var t=this,a=arguments;return new Promise(function(i,o){var s=e.apply(t,a);function n(e){Va(s,i,o,n,r,"next",e)}function r(e){Va(s,i,o,n,r,"throw",e)}n(void 0)})}}function Ha(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var qa={data:function(){var e;return{fechainicial:"",fechafinal:"",json_fields:(e={Registro:"idregistro",Municipio:"municipio",Cliente:"cliente",Motivo:"motivo",Extension:"extension"},Ha(e,"Municipio","municipio"),Ha(e,"Remesa","remesa"),Ha(e,"Oden de Cargue","ordencargue"),Ha(e,"Observacion","observacion"),Ha(e,"Usuario","usuario"),Ha(e,"Fecha","fecha"),Ha(e,"Hora","hora"),Ha(e,"Estado","estado"),e),json_meta:[[{key:"charset",value:"utf-8"}]]}},created:function(){},methods:{fetchData:function(){var e=Ga(Ee.a.mark(function e(){var t;return Ee.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("api/RegistroCall/Informe/"+this.fechainicial+"/"+this.fechafinal);case 2:return t=e.sent,""==t.data&&Se.a.fire({type:"error",title:"No existen Registros",showConfirmButton:!1,timer:1e3}),e.abrupt("return",t.data);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),startDownload:function(){},finishDownload:function(){Se.a.fire({type:"success",title:"Descarga Exitosa",showConfirmButton:!1})}}},Ja=qa,Xa=Object(fe["a"])(Ja,Fa,Ua,!1,null,null,null),$a=Xa.exports,Ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"fill-height":"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Registro Encuesta")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(t){e.listar()}}},[e._v("Buscar")]),a("v-spacer")],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.Encuestas,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("block")]),[a("v-icon",{attrs:{small:""}},[e._v("block")])]],2),a("td",[e._v(e._s(t.item.id_empleado))]),a("td",[e._v(e._s(t.item.nombre))]),a("td",[e._v(e._s(t.item.temperatura))]),a("td",[e._v(e._s(t.item.fecha))]),a("td",[a("img",{staticClass:"img-responsive",staticStyle:{height:"60px",width:"60px"},attrs:{src:t.item.firma}})])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2)],1),a("v-flex",{attrs:{xs12:"","fill-height":""}},[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Informe de Encuesta")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}})],1),a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"Documento"},model:{value:e.cedula,callback:function(t){e.cedula=t},expression:"cedula"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"date",label:"Fecha Inicial"},model:{value:e.fechainicial,callback:function(t){e.fechainicial=t},expression:"fechainicial"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"date",label:"Fecha Final"},model:{value:e.fechafinal,callback:function(t){e.fechafinal=t},expression:"fechafinal"}})],1),a("v-spacer"),a("v-btn",{attrs:{color:"primary",right:""}},[a("download-excel",{staticClass:"btn",attrs:{fetch:e.fetchData,fields:e.json_fields,"before-generate":e.startDownload,"before-finish":e.finishDownload,name:"Encuesta.xls",type:"xls"}},[e._v("Descargar\n                           ")])],1)],1)],1)],1)],1)],1)},Ya=[];function Za(e,t,a,i,o,s,n){try{var r=e[s](n),l=r.value}catch(c){return void a(c)}r.done?t(l):Promise.resolve(l).then(i,o)}function Wa(e){return function(){var t=this,a=arguments;return new Promise(function(i,o){var s=e.apply(t,a);function n(e){Za(s,i,o,n,r,"next",e)}function r(e){Za(s,i,o,n,r,"throw",e)}n(void 0)})}}var Qa={data:function(){return{Encuestas:[],headers:[{text:"Opciones",value:"id_empleado",sortable:!0},{text:"Documento",value:"id_empleado",sortable:!1},{text:"Nombre",value:"nombre",sortable:!0},{text:"Temperatura",value:"temperatura",sortable:!1},{text:"Fecha",value:"fecha",sortable:!0},{text:"Firma",value:"firma",sortable:!1}],search:"",cedula:0,fechainicial:"",fechafinal:"",json_fields:{Documento:"id_empleado",Nombre:"nombre",Fiebra:"fiebre",Fatiga:"fatiga",Tos:"tos","Dificultad al Respirar":"dif_respirar",Vomito:"vomito",Diarrea:"diarrea","Congestion Nasal":"cong_nasal","Dolor de Garganta":"dolor_garganta",Escalofrio:"escalofrio","Dolor Muscular":"dolor_muscular",Otro:"otro","Contacto Externo":"contacto_externo","Otro Externo":"otro_externo",Temperatura:"temperatura",Transporte:"transporte","Edad Maxima":"edad_maxima",Hipertension:"hipertension",Diabetes:"diabetes",Cancer:"cancer","Enfermedad del Corazon":"enfer_corazon","Patologia Pulmonar":"pat_pulmonar","Enfermedad Renal":"renal","Inmunosupresion ":"inmunosupresion","Obesidad ":"obesidad","Corticoides ":"corticoides","Fumador ":"fumador","Desinfeccion ":"desinfeccion","Fecha ":"fecha"},json_meta:[[{key:"charset",value:"utf-8"}]]}},created:function(){this.listar()},methods:{listar:function(){var e=this,t="";t=e.search?"api/Encuesta/InformeEmpleado/"+e.search:"api/Encuesta/Listar",me.a.get(t).then(function(t){e.Encuestas=t.data}).catch(function(e){console.log(e)})},fetchData:function(){var e=Wa(Ee.a.mark(function e(){var t;return Ee.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("api/Encuesta/Informes/"+this.cedula+"/"+this.fechainicial+"/"+this.fechafinal);case 2:return t=e.sent,""==t.data&&Se.a.fire({type:"error",title:"No existen Registros",showConfirmButton:!1,timer:1e3}),e.abrupt("return",t.data);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),startDownload:function(){},finishDownload:function(){Se.a.fire({type:"success",title:"Descarga Exitosa",showConfirmButton:!1})}}},ei=Qa,ti=Object(fe["a"])(ei,Ka,Ya,!1,null,null,null),ai=ti.exports,ii=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Notificaciones")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("br"),a("br"),a("v-spacer")],1),a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:""}})],1)],1)],1)},oi=[],si={data:function(){return{}},created:function(){},methods:{}},ni=si,ri=Object(fe["a"])(ni,ii,oi,!1,null,null,null),li=ri.exports,ci=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Remitente")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[e._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"idmotivo"},model:{value:e.id_remitente,callback:function(t){e.id_remitente=t},expression:"id_remitente"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Documento"},model:{value:e.documento,callback:function(t){e.documento=t},expression:"documento"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Telefono"},model:{value:e.telefono,callback:function(t){e.telefono=t},expression:"telefono"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"direccion"},model:{value:e.direccion,callback:function(t){e.direccion=t},expression:"direccion"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"ciudad"},model:{value:e.ciudad,callback:function(t){e.ciudad=t},expression:"ciudad"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Correo"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},e._l(e.validaMensaje,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})}))],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.guardar(t)}}},[e._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.adModal,callback:function(t){e.adModal=t},expression:"adModal"}},[a("v-card",[1==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Activar Remitente?")]):e._e(),2==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Eliminar Remitente?")]):e._e(),a("v-card-text",[e._v("\n                            Estás a punto de \n                            "),1==e.adAccion?a("span",[e._v("Activar ")]):e._e(),2==e.adAccion?a("span",[e._v("¿Eliminar ")]):e._e(),e._v("\n                            el ítem "+e._s(e.adNombre)+"\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.activarDesactivarCerrar}},[e._v("\n                                Cancelar\n                            ")]),1==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.activar}},[e._v("\n                                Activar\n                            ")]):e._e(),2==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.desactivar}},[e._v("\n                                Eliminar\n                            ")]):e._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.remitentes,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.editItem(t.item)}}},[e._v("\n                    edit\n                    ")]),t.item.condicion?[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(2,t.item)}}},[e._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(1,t.item)}}},[e._v("\n                        check\n                        ")])]],2),a("td",[e._v(e._s(t.item.documento))]),a("td",[e._v(e._s(t.item.nombre))]),a("td",[e._v(e._s(t.item.telefono))]),a("td",[e._v(e._s(t.item.direccion))]),a("td",[e._v(e._s(t.item.ciudad))]),a("td",[e._v(e._s(t.item.email))]),a("td",[t.item.condicion?a("div",[a("span",{staticClass:"blue--text"},[e._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[e._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2)],1)],1)},di=[],ui={data:function(){return{remitentes:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Documento",value:"documento"},{text:"Nombre",value:"nombre"},{text:"telefono",value:"telefono"},{text:"Direccion",value:"direccion"},{text:"Ciudad",value:"ciudad"},{text:"Email",value:"email"},{text:"Estado",value:"condicion",sortable:!1}],search:"",editedIndex:-1,id:"",id_remitente:"",documento:"",nombre:"",telefono:"",direccion:"",ciudad:"",email:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Remitente":"Actualizar Remitente"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.listar()},methods:{crearPDF:function(){var e=[{title:"Documento",dataKey:"Documento"},{title:"Nombre",dataKey:"nombre"},{title:"Código",dataKey:"codigo"},{title:"Categoría",dataKey:"categoria"},{title:"Stock",dataKey:"stock"}],t=[];this.clientes.map(function(e){t.push({nombre:e.nombre,codigo:e.codigo,categoria:e.categoria,stock:e.stock})});var a=new xt.a("p","pt");a.autoTable(e,t,{margin:{top:60},addPageContent:function(e){a.text("Listado de Artículos",40,30)}}),a.save("Clientes.pdf")},listar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/Remitente/Listar",a).then(function(t){e.remitentes=t.data}).catch(function(e){console.log(e)})},editItem:function(e){this.id_remitente=e.id_remitente,this.documento=e.documento,this.nombre=e.nombre,this.telefono=e.telefono,this.direccion=e.direccion,this.ciudad=e.ciudad,this.email=e.email,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.id_remitente="",this.documento="",this.nombre="",this.telefono="",this.direccion="",this.ciudad="",this.email="",this.editedIndex=-1},guardar:function(){var e={Authorization:"Bearer "+this.$store.state.token},t={headers:e};if(this.editedIndex>-1){var a=this;me.a.put("api/Remitente/Actualizar",{id_remitente:a.id_remitente,documento:a.documento,nombre:a.nombre,telefono:a.telefono,direccion:a.direccion,ciudad:a.ciudad,email:a.email},t).then(function(e){a.close(),a.listar(),a.limpiar()}).catch(function(e){console.log(e)})}else{var i=this;me.a.post("api/Remitente/Crear",{documento:i.documento,nombre:i.nombre,telefono:i.telefono,direccion:i.direccion,ciudad:i.ciudad,email:i.email},t).then(function(e){i.close(),i.listar(),i.limpiar()}).catch(function(e){console.log(e)})}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<3||this.nombre.length>50)&&this.validaMensaje.push("El nombre debe tener más de 3 caracteres y menos de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(e,t){this.adModal=1,this.adNombre=t.nombre,this.adId=t.id_remitente,1==e?this.adAccion=1:2==e?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.put("api/Remitente/Activar/"+this.adId,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})},desactivar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.delete("api/Remitente/Eliminar/"+this.adId,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})}}},vi=ui,mi=Object(fe["a"])(vi,ci,di,!1,null,null,null),pi=mi.exports,hi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[1==e.administrador?a("v-btn",[a("download-excel",{staticClass:"btn",attrs:{fetch:e.fetchData,fields:e.json_fields,"before-generate":e.startDownload,"before-finish":e.finishDownload,name:"Correspondencia.xls",type:"xls"}},[a("v-icon",[e._v("print")])],1)],1):e._e(),a("v-toolbar-title",{on:{click:e.Cargar}},[e._v("Correspondencia")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),0==e.verNuevo?a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}):e._e(),0==e.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(t){e.listar()}}},[e._v("Buscar")]):e._e(),a("v-spacer"),0==e.verNuevo&&1==e.administrador?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:e.mostrarNuevo}},[e._v("Nuevo")]):e._e(),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.verArticulos,callback:function(t){e.verArticulos=t},expression:"verArticulos"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"idmotivo"},model:{value:e.id_remitente,callback:function(t){e.id_remitente=t},expression:"id_remitente"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Documento"},model:{value:e.documento,callback:function(t){e.documento=t},expression:"documento"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Direccion"},model:{value:e.direccion,callback:function(t){e.direccion=t},expression:"direccion"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Ciudad"},model:{value:e.ciudad,callback:function(t){e.ciudad=t},expression:"ciudad"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Telefono"},model:{value:e.telefono,callback:function(t){e.telefono=t},expression:"telefono"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Correo"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e.error?a("v-flex",{staticClass:"red--text"},[e._v("\n                                    "+e._s(e.error)+"\n                                   "),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:e.AutomaticoCliente}},[e._v("\n                                        Click Aquí\n                                    ")])],1):e._e()],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.guardarCliente(t)}}},[e._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.verObservacion,callback:function(t){e.verObservacion=t},expression:"verObservacion"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Ingresar la Observación")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{md12:""}},[a("v-textarea",{attrs:{label:"Observación",hint:"Hint text"},model:{value:e.observacion,callback:function(t){e.observacion=t},expression:"observacion"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.agregarObservacion(e.observacion)}}},[e._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.adModal,callback:function(t){e.adModal=t},expression:"adModal"}},[a("v-card",[1==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Activar Item?")]):e._e(),2==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Desea Cumplir?")]):e._e(),a("v-card-text",[e._v("\n                                Estás a punto de \n                                "),1==e.adAccion?a("span",[e._v("Activar ")]):e._e(),2==e.adAccion?a("span",[e._v("Cumplir ")]):e._e(),e._v("\n                                el ítem "+e._s(e.adNombre)+"\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.activarDesactivarCerrar}},[e._v("\n                                    Cancelar\n                                ")]),1==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.activar}},[e._v("\n                                    Activar\n                                ")]):e._e(),2==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.cumplir}},[e._v("\n                                   Cumplir\n                                ")]):e._e()],1)],1)],1)],1),0==e.verNuevo?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.registros,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[e.RolSeguridad?a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("\n                                block\n                        ")]):"CUMPLIDO"==t.item.estado?a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.verDetalles(t.item)}}},[e._v("\n                                tab\n                        ")]):a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.verDetalles(t.item)}}},[e._v("\n                                create\n                        ")]),"CUMPLIDO"==t.item.estado||"CERRADO"==t.item.estado||e.RolSeguridad?a("v-icon",{attrs:{small:""}},[e._v("\n                                block\n                        ")]):a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(2,t.item)}}},[e._v("\n                                    check\n                        ")])],1),a("td",[e._v(e._s(t.item.id_correspondencia))]),a("td",[e._v(e._s(t.item.tipodocumento))]),a("td",[e._v(e._s(t.item.remitente))]),a("td",[e._v(e._s(t.item.destinatario))]),a("td",[e._v(e._s(t.item.fecha_ingreso.split("T")[0]))]),a("td",[e._v(e._s(t.item.fecha_cumplido.split("T")[1].split(".")[0]))]),a("td",["CUMPLIDO"==t.item.estado?a("div",[a("span",{staticClass:"blue--text"},[e._v(e._s(t.item.estado))])]):"CERRADO"==t.item.estado?a("div",[a("span",{staticClass:"green--text"},[e._v(e._s(t.item.estado))])]):a("div",[a("span",{staticClass:"red--text"},[e._v(e._s(t.item.estado))])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2):e._e(),e.verNuevo?a("v-container",{staticClass:"elevation-1 white",attrs:{"grid-list-sm":"",fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.clientes,label:"Documento Remitente","search-input":e.search3,autocomplete:""},on:{"update:searchInput":function(t){e.search3=t},keyup:e.FiltroDocumento},model:{value:e.idcliente,callback:function(t){e.idcliente=t},expression:"idcliente"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:10==e.verNuevo,expression:"verNuevo == 10"}]},[a("v-text-field",{attrs:{label:"Correspondencia"},model:{value:e.id_correspondencia,callback:function(t){e.id_correspondencia=t},expression:"id_correspondencia"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.Nclientes,label:"Nombre Remitente","search-input":e.search1,"data-id":"1010",autocomplete:""},on:{"update:searchInput":function(t){e.search1=t},change:e.IdCliente,keyup:e.FiltroCliente},model:{value:e.nombrecliente,callback:function(t){e.nombrecliente=t},expression:"nombrecliente"}})],1),a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[1!==e.verDet?a("v-btn",{attrs:{small:"",fab:"",dark:"",color:"teal"},on:{click:function(t){e.mostrarArticulos()}}},[a("v-icon",{attrs:{dark:""}},[e._v("list")])],1):e._e()],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.motivos,label:"Tipo de Documento",autocomplete:""},on:{change:function(t){e.TipoDocumento()}},model:{value:e.idmotivo,callback:function(t){e.idmotivo=t},expression:"idmotivo"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Descripcion Tipo Documento"},model:{value:e.desdoc,callback:function(t){e.desdoc=t},expression:"desdoc"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{type:"number",label:"Cantidad de Folios"},model:{value:e.folios,callback:function(t){e.folios=t},expression:"folios"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{type:"text",label:"Anexos"},model:{value:e.anexos,callback:function(t){e.anexos=t},expression:"anexos"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-select",{attrs:{items:e.prioridades,label:"Prioridad","single-line":"",readonly:""},model:{value:e.prioridad,callback:function(t){e.prioridad=t},expression:"prioridad"}})],1),a("v-flex",[a("v-text-field",{attrs:{label:"Fecha Plazo",type:"date"},model:{value:e.fecha,callback:function(t){e.fecha=t},expression:"fecha"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.id_usuarios,label:"Destinatario",autocomplete:""},on:{change:e.AsgDest},model:{value:e.id_usuario,callback:function(t){e.id_usuario=t},expression:"id_usuario"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Destinatario Area",readonly:""},model:{value:e.DesArea,callback:function(t){e.DesArea=t},expression:"DesArea"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Destinatario Cargo",readonly:""},model:{value:e.DesCargo,callback:function(t){e.DesCargo=t},expression:"DesCargo"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Estado",type:"text",readonly:""},model:{value:e.estado,callback:function(t){e.estado=t},expression:"estado"}})],1),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("input",{attrs:{type:"file"},on:{change:e.onFileChange}})]),a("v-flex",{attrs:{md12:""}},[a("v-textarea",{attrs:{label:"Observación",hint:"Hint text"},model:{value:e.observacion,callback:function(t){e.observacion=t},expression:"observacion"}})],1),e.errorArticulo?a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("div",{staticClass:"red--text",domProps:{textContent:e._s(e.errorArticulo)}})]):e._e(),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.cabeceraObservaciones,items:e.observaciones,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"hide-actions":""},on:{"update:sortBy":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticStyle:{width:"30%"}},[e._v(e._s(t.item.observacion))]),a("td",[e._v(e._s(t.item.cambio_estado))]),a("td",{staticStyle:{width:"250px"}},[e._v(e._s(t.item.usuario))]),0!==e.verDet?a("td",{staticStyle:{width:"130px"}},[e._v(e._s(t.item.fecha.split("T")[0]))]):e._e(),0!==e.verDet?a("td",[e._v(e._s(t.item.fecha.split("T")[1].split(".")[0]))]):e._e()]}}])},[a("template",{slot:"no-data"},[a("h3",[e._v("No hay observaciones agregadas.")])])],2),e._v("\n                               \n                        ")],1),a("v-flex"),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},e._l(e.validaMensaje,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})})),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.ocultarNuevo()}}},[e._v("Cancelar")]),0==e.verDet?a("v-btn",{attrs:{disabled:e.counter,color:"success"},on:{click:function(t){e.guardar()}}},[e._v("Guardar")]):e._e(),1==e.verDet?a("v-btn",{attrs:{color:"success"},on:{click:function(t){e.cerrarTramite()}}},[e._v("Cerrar Tramite")]):e._e(),2==e.verDet?a("v-btn",{attrs:{color:"success"},on:{click:function(t){t.preventDefault(),e.actualizar()}}},[e._v("Actualizar")]):e._e()],1)],1)],1):e._e()],1)],1)},fi=[],xi=a("0f91"),bi=a.n(xi);function _i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function gi(e,t,a,i,o,s,n){try{var r=e[s](n),l=r.value}catch(c){return void a(c)}r.done?t(l):Promise.resolve(l).then(i,o)}function Ci(e){return function(){var t=this,a=arguments;return new Promise(function(i,o){var s=e.apply(t,a);function n(e){gi(s,i,o,n,r,"next",e)}function r(e){gi(s,i,o,n,r,"throw",e)}n(void 0)})}}i["default"].use(pa["a"],Ai);var Ai={confirmButtonColor:"#41b882",cancelButtonColor:"#ff7674"};i["default"].component("downloadExcel",Oe["a"]);var ki={data:function(){return{textoDocumento:"",registros:[],dialog:!1,administrador:!1,RolSeguridad:!1,sortBy:"fat",sortDesc:!0,headers:[{text:"Opciones",value:""},{text:"Numero Radicado",value:"id_correspondencia"},{text:"Tipo de Documento",value:"tipodocumento",sortable:!1},{text:"Remitente",value:"remitente",sortable:!1},{text:"Destinatario",value:"destinatario",sortable:!1},{text:"Fecha",value:"fecha",sortable:!1},{text:"Hora",value:"fecha",sortable:!1},{text:"Estado",value:"estado"}],cabeceraObservaciones:[{text:"Descripción de Registro",value:"observacion",sortable:!1},{text:"Estado",value:"cambio_estado",sortable:!1},{text:"Usuario",value:"usuario",sortable:!1},{text:"Fecha",value:"fecha",sortable:!1},{text:"Hora",value:"fecha",sortable:!0}],fecha:(new Date).toISOString().substr(0,10),observaciones:[],prioridad:"",prioridades:[{text:"ALTA",value:"ALTA"},{text:"MEDIA",value:"MEDIA"},{text:"BAJA",value:"BAJA"}],search:"",id:"",id_correspondencia:"",clientes:[],Nclientes:[],id_usuario:"",id_usuarios:[],nombrecliente:"",idcliente:"",id_remitente:"",documento:"",nombre:"",telefono:"",email:"",direccion:"",ciudad:"",correo:"",idmotivo:4,motivos:[],tipoDocumentos:[],desdoc:"",anexos:"",folios:"",DesArea:[],DesCargo:[],file:"",observacion:"",estado:"",verNuevo:0,search1:null,search3:null,error:null,errorArticulo:null,totalParcial:0,totalImpuesto:0,total:0,texto:"",verArticulos:0,verObservacion:0,verDet:0,valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:"",controladorTiempo:"",counter:!1,json_fields:{"Numero Radicado":"id_correspondencia",Remitente:"remitente",Destinatario:"destinatario","Tipo Documento":"tipodocumento","Descripcion Documento":"desdoc",Prioridad:"prioridad",Plazo:"plazo",Usuario:"usuario","Fecha Ingreso":"fecha_ingreso","Fecha Cumplido":"fecha_cumplido",Folios:"folios",Anexos:"anexos",Estado:"estado"},json_meta:[[{key:"charset",value:"utf-8"}]]}},computed:{calcularTotal:function(){for(var e=0,t=0;t<this.detalles.length;t++)e+=this.detalles[t].precio*this.detalles[t].cantidad;return e},formTitle:function(){return this.editedIndex,"Nuevo Remitente"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.listar(),this.selectMotivo(),this.selectUsuarios()},methods:{AsgDest:function(){var e=this;this.id_usuarios.find(function(t){t.value===e.id_usuario&&(e.DesArea=t.regional,e.DesCargo=t.cargo)})},Cargar:function(){this.listar(),console.log("se recargo")},fetchData:function(){var e=Ci(Ee.a.mark(function e(){var t;return Ee.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("api/Correspondencia/Informe");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),startDownload:function(){Se.a.fire({type:"success",title:"Procesando datos",showConfirmButton:!1})},finishDownload:function(){},sendEmail:function(){var e=this,t="",a="";this.motivos.find(function(t){t.value===e.idmotivo&&(a=t.text)}),this.id_usuarios.find(function(a){a.value===e.id_usuario&&(t=a.text)});var i={tittle:"Tienes Correspondencia pendiente por recibir",to_name:t,to_email:this.correo,message:this.observacion,subject:"Ingreso de",prioridad:this.prioridad,tipo_documento:a,fecha:this.fecha};bi.a.send("gmail","template_baWsJSDt",i,"user_GRmUlv1wMz7EhyBfH7E1g").then(function(e){console.log("SUCCESS!",e.status,e.text)},function(e){console.log("FAILED...",e)})},onFileChange:function(e){this.file=e.target.files[0],console.log(this.file)},NombreCliente:function(){var e=this;e.nombrecliente=e.idcliente},IdCliente:function(){var e=this;e.idcliente=e.nombrecliente},mostrarNuevo:function(){this.verNuevo=1,this.counter=!1},ocultarNuevo:function(){this.verNuevo=0,this.verDet=0,this.limpiar()},mostrarArticulos:function(){this.verArticulos=1},mostrarObservacion:function(){this.verObservacion=1},ocultarArticulos:function(){this.verArticulos=0},ocultarObservacion:function(){this.verObservacion=0},close:function(){this.verArticulos=!1,this.verObservacion=!1},agregarObservacion:function(){var e=this;me.a.post("api/Correspondencia/CrearObservacion",{id_correspondencia:e.id_correspondencia,observacion:e.observacion,cambio_estado:"GENERADO-ASIGNADO",usuario:e.$store.state.usuario.nombre}).then(function(t){e.listarObservacion(e.id_correspondencia),e.verObservacion=!1,e.observacion=""}).catch(function(e){console.log(e)})},cerrarTramite:function(){var e=this;me.a.post("api/Correspondencia/CrearObservacion",{id_correspondencia:e.id_correspondencia,observacion:e.observacion,cambio_estado:"CUMPLIDO-CERRADO",usuario:e.$store.state.usuario.nombre}).then(function(t){e.cerrar(),e.ocultarNuevo(),e.listar(),e.limpiar()}).catch(function(e){console.log(e)})},agregarCumplido:function(e){var t=this;me.a.post("api/Correspondencia/CrearObservacion",{id_correspondencia:e,observacion:t.observacion,cambio_estado:"ASIGNADO-CUMPLIDO",usuario:t.$store.state.usuario.nombre}).then(function(e){t.listarObservacion(t.id_correspondencia),t.verObservacion=!1,t.observacion=""}).catch(function(e){console.log(e)})},listar:function(){if(1==ke.state.usuario.rol||8==ke.state.usuario.rol||6==ke.state.usuario.rol){6==ke.state.usuario.rol&&(this.RolSeguridad=!0);var e=this;e.administrador=!0,me.a.get("api/Correspondencia/Listar").then(function(t){e.registros=t.data}).catch(function(e){console.log(e)})}else{var t=this;me.a.get("api/Correspondencia/listado/"+ke.state.usuario.id_usuario,{}).then(function(e){t.registros=e.data}).catch(function(e){console.log(e)})}},listarfiltro:function(){var e=this;if(1==ke.state.usuario.rol){var t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/Permisos/ListarFiltro/"+e.search,a).then(function(t){e.categorias=t.data}).catch(function(e){console.log(e)})}},listarCorreo:function(e){var t=this,a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Usuarios/Mostrar/"+e,i).then(function(e){t.correo=e.data["correo"]}).catch(function(e){console.log(e)})},FiltroCliente:function(){clearTimeout(this.controladorTiempo),this.controladorTiempo=setTimeout(this.select,500)},select:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Remitente/Listar",i).then(function(a){t=a.data,t.map(function(t){e.clientes.push({text:t.documento,value:t.id_remitente}),e.Nclientes.push({text:t.nombre,value:t.id_remitente})})}).catch(function(e){console.log(e)})},FiltroDocumento:function(){clearTimeout(this.controladorTiempo),this.controladorTiempo=setTimeout(this.selectDocumento,500)},selectDocumento:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Remitente/Listar",i).then(function(a){t=a.data,t.map(function(t){e.clientes.push({text:t.documento,value:t.id_remitente}),e.Nclientes.push({text:t.nombre,value:t.id_remitente})})}).catch(function(e){console.log(e)})},selectMotivo:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/TipoDocumento/Listar",i).then(function(a){t=a.data,e.tipoDocumentos=a.data,t.map(function(t){e.motivos.push({text:t.nombre,value:t.id_tipodocumento})})}).catch(function(e){console.log(e)})},selectUsuarios:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Usuarios/Listar",i).then(function(a){t=a.data,t.map(function(t){e.id_usuarios.push({text:t.nombre,value:t.id_usuario,regional:t.regional,cargo:t.cargo})})}).catch(function(e){console.log(e)})},listarObservacion:function(e){var t=this,a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Correspondencia/ListarObservaciones/"+e,i).then(function(e){t.observaciones=e.data}).catch(function(e){console.log(e)})},sumarDias:function(e,t){return e.setDate(e.getDate()+t-1),e.toISOString().substr(0,10)},TipoDocumento:function(e){for(var t=0;t<this.tipoDocumentos.length;t++)if(this.tipoDocumentos[t]["id_tipodocumento"]==this.idmotivo){this.prioridad=this.tipoDocumentos[t]["prioridad"];var a=new Date,i=this.sumarDias(a,this.tipoDocumentos[t]["fecha_plazo"]);this.fecha=i}},verDetalles:function(e){var t=new Date,a=this.sumarDias(t,e.plazo);this.limpiar(),this.fecha=a,this.id_correspondencia=e.id_correspondencia,this.clientes.push({text:e.documento,value:e.id_remitente}),this.Nclientes.push({text:e.remitente,value:e.id_remitente}),this.idcliente=e.id_remitente,this.prioridad=e.prioridad,this.nombrecliente=e.id_remitente,this.idmotivo=e.id_tipodocumento,this.id_usuario=e.id_usuario,this.observacion=e.observacion,this.prioridad=e.prioridad,this.desdoc=e.desdoc,this.anexos=e.anexos,this.folios=e.folios,this.estado=e.estado,this.listarObservacion(e.id_correspondencia),this.verNuevo=1,"CUMPLIDO"==e.estado?this.verDet=1:"CERRADO"==e.estado?this.verDet=3:this.verDet=2},limpiar:function(){this.id="",this.id_correspondencia="",this.idcliente="",this.idextencion=1,this.observacion="",this.idmotivo=4,this.prioridad="",this.id_usuario="",this.nombrecliente="",this.correo="",this.desdoc="",this.anexos="",this.folios="",this.observaciones=[],this.clientes=[],this.Nclientes=[]},limpiarcliente:function(){this.id_remitente="",this.telefono="",this.direccion="",this.ciudad="",this.nombre="",this.documento="",this.email="",this.error=null},guardar:function(){if(this.counter=!0,this.validar())this.counter=!1;else{this.observaciones.push({observacion:this.observacion,cambio_estado:"GENERADO",usuario:this.$store.state.usuario.nombre});var e={Authorization:"Bearer "+this.$store.state.token},t={headers:e},a=this;a.listarCorreo(a.id_usuario),me.a.post("api/Correspondencia/Crear",{id_remitente:a.idcliente,id_tipodocumento:a.idmotivo,id_usuario:a.id_usuario,fecha_cumplido:a.fecha,usuario:a.$store.state.usuario.id_usuario,desdoc:a.desdoc,anexos:a.anexos,folios:a.folios,observaciones:a.observaciones},t).then(function(e){a.sendEmail(),Se.a.fire({type:"success",title:"Registro Guardado",showConfirmButton:!1,timer:1e3}),a.ocultarNuevo(),a.listar(),a.limpiar()}).catch(function(e){console.log(e)})}},actualizar:function(){var e,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t},i=this;i.listarCorreo(i.id_usuario),me.a.put("api/Correspondencia/Actualizar",(e={id_correspondencia:i.id_correspondencia,id_remitente:i.idcliente,id_usuario:i.id_usuario,id_tipodocumento:i.idmotivo},_i(e,"id_usuario",i.id_usuario),_i(e,"desdoc",i.desdoc),_i(e,"anexos",i.anexos),_i(e,"folios",i.folios),_i(e,"fecha_cumplido",i.fecha),e),a).then(function(e){i.agregarObservacion(),i.sendEmail(),Se.a.fire({type:"success",title:"Registro Actualizado",showConfirmButton:!1,timer:1e3}),i.ocultarNuevo(),i.listar(),i.limpiar()}).catch(function(e){console.log(e)})},guardarCliente:function(){var e=this;me.a.get("api/Remitente/Consecutivo").then(function(t){var a=t.data[0]["id_remitente"];me.a.post("api/Remitente/Crear",{documento:e.documento,nombre:e.nombre,telefono:e.telefono,email:e.email,direccion:e.direccion,ciudad:e.ciudad}).then(function(t){e.close();var i=parseInt(a);e.clientes.push({text:e.documento,value:a}),e.Nclientes.push({text:e.nombre,value:a}),e.nombrecliente=i,e.limpiarcliente()}).catch(function(t){t.response?e.error=t.response.data:e.error="Ocurrió un error"})})},AutomaticoCliente:function(e){this.verArticulos=0;var t=this.documento,a=parseInt(t);this.idcliente=a},validar:function(){return this.valida=0,this.validaMensaje=[],this.idcliente||this.validaMensaje.push("Ingrese el remitente."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(e,t){this.adModal=1,this.adNombre=t.id_correspondencia,this.adId=t.id_correspondencia,1==e?this.adAccion=1:2==e?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},cerrar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.put("api/Correspondencia/Cumplir/"+this.id_correspondencia+"/CERRADO",{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})},cumplir:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.put("api/Correspondencia/Cumplir/"+this.adId+"/CUMPLIDO",{},a).then(function(t){e.agregarCumplido(e.adId),Se.a.fire({type:"success",title:"Cumplido Exitoso",showConfirmButton:!1,timer:1e3}),e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})}}},Ii=ki,Di=Object(fe["a"])(Ii,hi,fi,!1,null,null,null),yi=Di.exports,Ni=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Tipo de Documento")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[e._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"id_tipodocumento"},model:{value:e.id_tipodocumento,callback:function(t){e.id_tipodocumento=t},expression:"id_tipodocumento"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}})],1),a("v-flex",[a("v-select",{attrs:{items:e.prioridades,label:"Prioridad","single-line":""},model:{value:e.prioridad,callback:function(t){e.prioridad=t},expression:"prioridad"}})],1),a("v-flex",[a("v-text-field",{attrs:{label:"Plazo",type:"number"},model:{value:e.fecha_plazo,callback:function(t){e.fecha_plazo=t},expression:"fecha_plazo"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},e._l(e.validaMensaje,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})}))],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.guardar(t)}}},[e._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.adModal,callback:function(t){e.adModal=t},expression:"adModal"}},[a("v-card",[1==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Activar tipo documento?")]):e._e(),2==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Desactivar tipo documento?")]):e._e(),a("v-card-text",[e._v("\n                            Estás a punto de \n                            "),1==e.adAccion?a("span",[e._v("Activar ")]):e._e(),2==e.adAccion?a("span",[e._v("Desactivar ")]):e._e(),e._v("\n                            el ítem "+e._s(e.adNombre)+"\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.activarDesactivarCerrar}},[e._v("\n                                Cancelar\n                            ")]),1==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.activar}},[e._v("\n                                Activar\n                            ")]):e._e(),2==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.desactivar}},[e._v("\n                                Desactivar\n                            ")]):e._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.documentos,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.editItem(t.item)}}},[e._v("\n                    edit\n                    ")]),t.item.condicion?[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(2,t.item)}}},[e._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(1,t.item)}}},[e._v("\n                        check\n                        ")])]],2),a("td",[e._v(e._s(t.item.nombre))]),a("td",[e._v(e._s(t.item.prioridad))]),a("td",[e._v(e._s(t.item.fecha_plazo))]),a("td",[t.item.condicion?a("div",[a("span",{staticClass:"blue--text"},[e._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[e._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2)],1)],1)},Ei=[],Oi={data:function(){return{documentos:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre"},{text:"Prioridad",value:"prioridad"},{text:"Fecha Plazo",value:"fecha_plazo"},{text:"Estado",value:"condicion",sortable:!1}],prioridad:"",prioridades:[{text:"ALTA",value:"ALTA"},{text:"MEDIA",value:"MEDIA"},{text:"BAJA",value:"BAJA"}],fecha_plazo:(new Date).toISOString().substr(0,10),search:"",editedIndex:-1,id:"",id_tipodocumento:"",nombre:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Tipo de documento":"Actualizar Tipo de Documento"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.listar()},methods:{crearPDF:function(){var e=[{title:"Documento",dataKey:"Documento"},{title:"Nombre",dataKey:"nombre"},{title:"Código",dataKey:"codigo"},{title:"Categoría",dataKey:"categoria"},{title:"Stock",dataKey:"stock"}],t=[];this.clientes.map(function(e){t.push({nombre:e.nombre,codigo:e.codigo,categoria:e.categoria,stock:e.stock})});var a=new xt.a("p","pt");a.autoTable(e,t,{margin:{top:60},addPageContent:function(e){a.text("Listado de Artículos",40,30)}}),a.save("Clientes.pdf")},listar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/TipoDocumento/Listar",a).then(function(t){e.documentos=t.data}).catch(function(e){console.log(e)})},editItem:function(e){this.id_tipodocumento=e.id_tipodocumento,this.nombre=e.nombre,this.prioridad=e.prioridad,this.fecha_plazo=e.fecha_plazo,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.id_tipodocumento="",this.nombre="",this.editedIndex=-1},guardar:function(){var e={Authorization:"Bearer "+this.$store.state.token},t={headers:e};if(this.editedIndex>-1){var a=this;me.a.put("api/TipoDocumento/Actualizar",{id_tipodocumento:a.id_tipodocumento,nombre:a.nombre,prioridad:a.prioridad,fecha_plazo:a.fecha_plazo},t).then(function(e){a.close(),a.listar(),a.limpiar()}).catch(function(e){console.log(e)})}else{var i=this;me.a.post("api/TipoDocumento/Crear",{nombre:i.nombre,prioridad:i.prioridad,fecha_plazo:i.fecha_plazo},t).then(function(e){i.close(),i.listar(),i.limpiar()}).catch(function(e){console.log(e)})}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<3||this.nombre.length>50)&&this.validaMensaje.push("El nombre debe tener más de 3 caracteres y menos de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(e,t){this.adModal=1,this.adNombre=t.nombre,this.adId=t.id_tipodocumento,1==e?this.adAccion=1:2==e?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.put("api/TipoDocumento/Activar/"+this.adId,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})},desactivar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.put("api/TipoDocumento/Desactivar/"+this.adId,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})}}},wi=Oi,Si=Object(fe["a"])(wi,Ni,Ei,!1,null,null,null),Ti=Si.exports,Mi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",[a("download-excel",{staticClass:"btn",attrs:{fetch:e.fetchData,fields:e.json_fields,"before-generate":e.startDownload,"before-finish":e.finishDownload,name:"Contactos.xls",type:"xls"}},[a("v-icon",[e._v("print")])],1)],1),a("v-toolbar-title",[e._v("Contactos")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e.esAdministrador?a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[e._v("Nuevo")]):e._e(),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"id"},model:{value:e.id_contactostp,callback:function(t){e.id_contactostp=t},expression:"id_contactostp"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-autocomplete",{attrs:{items:e.empleados,label:"Empleado","search-input":e.search1,autocomplete:""},on:{"update:searchInput":function(t){e.search1=t},keyup:e.FiltroEmpleados},model:{value:e.id_empleado,callback:function(t){e.id_empleado=t},expression:"id_empleado"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Extension"},model:{value:e.extension,callback:function(t){e.extension=t},expression:"extension"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Numero"},model:{value:e.numero,callback:function(t){e.numero=t},expression:"numero"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Correo"},model:{value:e.correo,callback:function(t){e.correo=t},expression:"correo"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},e._l(e.validaMensaje,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})}))],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.guardar(t)}}},[e._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.adModal,callback:function(t){e.adModal=t},expression:"adModal"}},[a("v-card",[1==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Activar Item?")]):e._e(),2==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Eliminar Item?")]):e._e(),a("v-card-text",[e._v("\n                            Estás a punto de \n                            "),1==e.adAccion?a("span",[e._v("Activar ")]):e._e(),2==e.adAccion?a("span",[e._v("Eliminar")]):e._e(),e._v("\n                            el ítem "+e._s(e.adNombre)+"\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.activarDesactivarCerrar}},[e._v("\n                                Cancelar\n                            ")]),1==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.activar}},[e._v("\n                                Activar\n                            ")]):e._e(),2==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.desactivar}},[e._v("\n                                Eliminar\n                            ")]):e._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.contactos,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[e.esAdministrador?a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.editItem(t.item)}}},[e._v("\n                    edit\n                    ")]),t.item.estado?[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(2,t.item)}}},[e._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(1,t.item)}}},[e._v("\n                        check\n                        ")])]],2):a("td"),a("td",[e._v(e._s(t.item.nombre))]),a("td",[e._v(e._s(t.item.cargo))]),a("td",[e._v(e._s(t.item.regional))]),a("td",[e._v(e._s(t.item.extension))]),a("td",[e._v(e._s(t.item.numero))]),a("td",[e._v(e._s(t.item.correo))]),a("td",[t.item.estado?a("div",[a("span",{staticClass:"blue--text"},[e._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[e._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2)],1)],1)},Ri=[];function ji(e,t,a,i,o,s,n){try{var r=e[s](n),l=r.value}catch(c){return void a(c)}r.done?t(l):Promise.resolve(l).then(i,o)}function Pi(e){return function(){var t=this,a=arguments;return new Promise(function(i,o){var s=e.apply(t,a);function n(e){ji(s,i,o,n,r,"next",e)}function r(e){ji(s,i,o,n,r,"throw",e)}n(void 0)})}}var zi={data:function(){return{contactos:[],empleados:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Empleado",value:"nombre"},{text:"Cargo",value:"cargo"},{text:"Regional",value:"regional"},{text:"Extension",value:"extension"},{text:"Numero",value:"numero"},{text:"Correo",value:"correo"},{text:"Estado",value:"estado",sortable:!1}],search:"",search1:null,editedIndex:-1,id:"",id_contactostp:"",id_empleado:"",extension:"",numero:"",correo:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:"",json_fields:{Id:"id_contactostp",Nombre:"nombre",Cargo:"cargo",Regional:"regional",Numero:"numero",extension:"extension",Correo:"correo"}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Contacto":"Actualizar Contacto"},esAdministrador:function(){return this.$store.state.usuario&&"1"==this.$store.state.usuario.rol}},watch:{dialog:function(e){e||this.close()}},created:function(){this.listar()},methods:{fetchData:function(){var e=Pi(Ee.a.mark(function e(){var t;return Ee.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("api/Contactostp/Listar");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),startDownload:function(){Se.a.fire({type:"success",title:"Procesando datos",showConfirmButton:!1,timer:1e3})},finishDownload:function(){},listar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/Contactostp/Listar",a).then(function(t){e.contactos=t.data}).catch(function(e){console.log(e)})},FiltroEmpleados:function(){clearTimeout(this.controladorTiempo),this.controladorTiempo=setTimeout(this.Empleados,500)},Empleados:function(){var e=this,t=[];me.a.get("api/Categorias/ListarFiltroEmpleados/"+e.search1).then(function(a){t=a.data,t.map(function(t){e.empleados.push({text:t.nombre_empleado,value:t.id_empleado})})}).catch(function(e){console.log(e)})},editItem:function(e){this.id_contactostp=e.id_contactostp,this.empleados.push({text:e.nombre,value:e.id_empleado}),this.id_empleado=e.id_empleado,this.extension=e.extension,this.numero=e.numero,this.correo=e.correo,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.id_contactostp="",this.id_empleado="",this.extension="",this.numero="",this.correo="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var e={Authorization:"Bearer "+this.$store.state.token},t={headers:e};if(this.editedIndex>-1){var a=this;me.a.put("api/Contactostp/Actualizar",{id_contactostp:a.id_contactostp,id_empleado:a.id_empleado,extension:a.extension,numero:a.numero,correo:a.correo},t).then(function(e){a.close(),a.listar(),a.limpiar()}).catch(function(e){console.log(e)})}else{var i=this;me.a.post("api/Contactostp/Crear",{id_empleado:i.id_empleado,extension:i.extension,numero:i.numero,correo:i.correo,estado:1},t).then(function(e){i.close(),i.listar(),i.limpiar()}).catch(function(e){console.log(e)})}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.correo.length<3||this.correo.length>50)&&this.validaMensaje.push("El correo debe tener más de 3 caracteres y menos de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(e,t){this.adModal=1,this.adNombre=t.id_empleado,this.adId=t.id_contactostp,1==e?this.adAccion=1:2==e?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var e=this;me.a.put("api/Contactostp/Activar/"+this.adId,{}).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})},desactivar:function(){var e=this;me.a.delete("api/Contactostp/Eliminar/"+this.adId,{}).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})}}},Li=zi,Bi=Object(fe["a"])(Li,Mi,Ri,!1,null,null,null),Fi=Bi.exports,Ui=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","grid-list-xl":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-card",[a("v-toolbar",[a("v-toolbar-side-icon"),a("v-toolbar-title",[e._v("Cumpleaños ")]),a("v-spacer"),e._v("\n          "+e._s(e.FechaActual)+"\n        ")],1),a("v-list",{attrs:{"three-line":""}},[e._l(e.Birthdays,function(t,i){return[i>=1?a("v-divider",{key:i,attrs:{inset:t.inset}}):e._e(),a("v-list-tile",{key:t.title,attrs:{avatar:""}},[a("v-list-tile-avatar",[a("v-icon",[e._v("person")])],1),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:e._s(t.nombre_empleado)}}),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(t.cargo)}}),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(t.zona)}})],1),a("v-list-tile-action",[a("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("cake")])],1)],1)]})],2)],1)],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-card",[a("v-toolbar",[a("v-toolbar-side-icon"),a("v-toolbar-title",[e._v("Proximos Cumpleaños")])],1),a("v-list",{attrs:{"three-line":""}},[e._l(e.BirthdaysNext,function(t,i){return[i>=1?a("v-divider",{key:i,attrs:{inset:t.inset}}):e._e(),a("v-list-tile",{key:t.title,attrs:{avatar:""}},[a("v-list-tile-avatar",[a("v-icon",[e._v("person")])],1),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:e._s(t.nombre_empleado)}},[a("h1",[e._v("nuevo sistema")])]),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(t.cargo)}}),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(t.zona)}})],1),a("v-list-tile-action",[a("v-list-tile-action-text",[e._v(e._s(t.fecha.split("/")[0])+"-"+e._s(t.fecha.split("/")[1])+"-"+e._s(e.FechaActual.split("-")[0])+" ")]),a("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("star_border")])],1)],1)]})],2)],1)],1)],1)],1)},Vi=[],Gi={data:function(){return{Birthdays:[],BirthdaysNext:[],FechaActual:(new Date).toISOString().substr(0,10)}},created:function(){this.listar(),this.listar2(),this.listar3()},methods:{listar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/Categorias/birthday",a).then(function(t){e.Birthdays=t.data}).catch(function(e){console.log(e)})},listar2:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/Categorias/birthdayNext",a).then(function(t){e.BirthdaysNext=t.data}).catch(function(e){console.log(e)})},listar3:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/birthdayNextMes",i).then(function(a){t=a.data,t.map(function(t){e.BirthdaysNext.push(a.data)})}).catch(function(e){console.log(e)})},selectCargo:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/ListarCargo",i).then(function(a){t=a.data,t.map(function(t){e.cargos.push({text:t.desc_cargo,value:t.id_cargo})})}).catch(function(e){console.log(e)})}}},Hi=Gi,qi=Object(fe["a"])(Hi,Ui,Vi,!1,null,null,null),Ji=qi.exports,Xi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Ingreso de Visitantes")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[e._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:e.tiposdocumentos,label:"Seleccionar tipo de documento"},model:{value:e.tipodocumento,callback:function(t){e.tipodocumento=t},expression:"tipodocumento"}}),e.dialog?e._e():a("v-text-field",{model:{value:e.id_visitante,callback:function(t){e.id_visitante=t},expression:"id_visitante"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"number",label:"Documento"},model:{value:e.documento,callback:function(t){e.documento=t},expression:"documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"text",label:"Primer Apellido"},model:{value:e.apellido1,callback:function(t){e.apellido1=t},expression:"apellido1"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"text",label:"Segundo Apellido"},model:{value:e.apellido2,callback:function(t){e.apellido2=t},expression:"apellido2"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"text",label:"Primer Nombre"},model:{value:e.nombre1,callback:function(t){e.nombre1=t},expression:"nombre1"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"text",label:"Segundo Nombre"},model:{value:e.nombre2,callback:function(t){e.nombre2=t},expression:"nombre2"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:e.sexos,label:"Sexo"},model:{value:e.sexo,callback:function(t){e.sexo=t},expression:"sexo"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"date",label:"Fecha de Nacimiento"},model:{value:e.fecha_nacimiento,callback:function(t){e.fecha_nacimiento=t},expression:"fecha_nacimiento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:e.rhs,label:"RH"},model:{value:e.rh,callback:function(t){e.rh=t},expression:"rh"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:e.arls,label:"Seleccionar ARL"},model:{value:e.arl,callback:function(t){e.arl=t},expression:"arl"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:e.epss,label:"Seleccionar EPS"},model:{value:e.eps,callback:function(t){e.eps=t},expression:"eps"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:e.tipos_vehiculos,label:"Tipo de Vehiculo"},model:{value:e.tipo_vehiculo,callback:function(t){e.tipo_vehiculo=t},expression:"tipo_vehiculo"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"text",label:"Placa"},model:{value:e.placa,callback:function(t){e.placa=t},expression:"placa"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-textarea",{attrs:{label:"Observacion"},model:{value:e.observacion,callback:function(t){e.observacion=t},expression:"observacion"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.guardar(t)}}},[e._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.dialogRetiro,callback:function(t){e.dialogRetiro=t},expression:"dialogRetiro"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Retiro de Visitante")]),a("v-card-text",[e._v("\n                            Estás a punto de \n                            "),a("span",[e._v("Retirar ")]),e._v("\n                            visitante\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.close}},[e._v("\n                                Cancelar\n                            ")]),a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.desactivar}},[e._v("\n                                Retirar\n                            ")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.visitantes,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},["ACTIVO"==t.item.estado?a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.editItem(t.item)}}},[e._v("\n                    edit\n                    ")]):a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("block")]),"ACTIVO"==t.item.estado?[a("v-icon",{attrs:{small:""},on:{click:function(a){e.metodoRetiro(t.item)}}},[e._v("\n                        check\n                        ")])]:[a("v-icon",{attrs:{small:""}},[e._v("block")])]],2),a("td",[e._v(e._s(t.item.documento))]),a("td",[e._v(e._s(t.item.apellido1+" "+t.item.apellido2+" "+t.item.nombre1+" "+t.item.nombre2))]),a("td",[e._v(e._s(t.item.tipo_vehiculo))]),a("td",[e._v(e._s(t.item.placa))]),a("td",[e._v(e._s(t.item.observacion))]),a("td",["ACTIVO"==t.item.estado?a("div",[a("span",{staticClass:"blue--text"},[e._v(e._s(t.item.estado))])]):a("div",[a("span",{staticClass:"red--text"},[e._v(e._s(t.item.estado))])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2)],1)],1)},$i=[],Ki={data:function(){return{visitantes:[],arls:[{text:"AXA COLPATRIA S.A.",value:"AXA COLPATRIA S.A."},{text:"COLMENA SEGUROS",value:"COLMENA SEGUROS"},{text:"COMPAÑÍA DE SEGUROS DE VIDA AURORA S.A.",value:"COMPAÑÍA DE SEGUROS DE VIDA AURORA S.A."},{text:"LA EQUIDAD SEGUROS DE VIDA",value:"LA EQUIDAD SEGUROS DE VIDA"},{text:"LIBERTY SEGUROS DE VIDA S.A.",value:"LIBERTY SEGUROS DE VIDA S.A."},{text:"MAPFRE SEGUROS",value:"MAPFRE SEGUROS"},{text:"POSITIVA",value:"POSITIVA"},{text:"SEGUROS BOLÍVAR S.A.",value:"SEGUROS BOLÍVAR S.A."},{text:"SEGUROS DE VIDA ALFA S.A.",value:"SEGUROS DE VIDA ALFA S.A."},{text:"SURATEP SA",value:"SURATEP SA"}],epss:[],tiposdocumentos:[{text:"TARJETA DE IDENTIDAD",value:"TI",sortable:!1},{text:"CEDULA DE CIUDADANIA",value:"CC",sortable:!1},{text:"CEDULA EXTANJERA",value:"CE",sortable:!1}],sexos:[{text:"M",value:"M",sortable:!1},{text:"F",value:"F",sortable:!1}],rhs:[{text:"A+",value:"A+",sortable:!1},{text:"A-",value:"B-",sortable:!1},{text:"B+",value:"B+",sortable:!1},{text:"B-",value:"B-",sortable:!1},{text:"O+",value:"O+",sortable:!1},{text:"O-",value:"O-",sortable:!1},{text:"AB+",value:"AB+",sortable:!1},{text:"AB-",value:"AB-",sortable:!1}],tipos_vehiculos:[{text:"MOTOCICLETA",value:"MOTOCICLETA+"},{text:"CARRO",value:"CARRO"},{text:"VEHICULO EMPRESARIAL",value:"VEHICULO EMPRESARIAL"}],editedIndex:-1,dialog:!1,dialogRetiro:!1,idrol:"",id_visitante:"",tipodocumento:"",documento:"",apellido1:"",apellido2:"",nombre1:"",nombre2:"",sexo:"",fecha_nacimiento:"",rh:"",arl:"",eps:"",tipo_vehiculo:"",placa:"",observacion:"",adId:"",headers:[{text:"Opciones",value:"id_perfil",sortable:!1},{text:"Documento",value:"documento",sortable:!1},{text:"Nombre",value:"apellido1",sortable:!1},{text:"Tipo Vehiculo",value:"tipo_vehiculo",sortable:!1},{text:"Placa",value:"placa",sortable:!1},{text:"observacion",value:"observacion",sortable:!1},{text:"estado",value:"estado"}],search:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Visitante":"Actualizar Visitante"}},watch:{},created:function(){this.listar(),this.selectEps()},methods:{editItem:function(e){this.id_visitante=e.id_visitante,this.tipodocumento=e.tipodocumento,this.documento=e.documento,this.apellido1=e.apellido1,this.apellido2=e.apellido2,this.nombre1=e.nombre1,this.nombre2=e.nombre2,this.sexo=e.sexo,this.fecha_nacimiento=e.fecha_nacimiento.split("T")[0],this.rh=e.rh,this.eps=e.id_eps,this.arl=e.arl,this.tipo_vehiculo=e.tipo_vehiculo,this.placa=e.placa,this.observacion=e.observacion,this.editedIndex=1,this.dialog=!0},limpiar:function(){this.tipodocumento="",this.documento="",this.apellido1="",this.apellido2="",this.nombre1="",this.nombre2="",this.sexo="",this.fecha_nacimiento="",this.rh="",this.motivo="",this.observacion="",this.id_area="",this.editedIndex=-1},metodoRetiro:function(e){this.dialogRetiro=!0,this.adId=e.id_visitante},selectEps:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/ListarEps",i).then(function(a){t=a.data,t.map(function(t){e.epss.push({text:t.desc_eps,value:t.id_eps})})}).catch(function(e){console.log(e)})},guardar:function(){if(this.editedIndex>-1){var e=this;me.a.put("api/Visitantes/Actualizar",{id_visitante:e.id_visitante,tipodocumento:e.tipodocumento,documento:e.documento,apellido1:e.apellido1,apellido2:e.apellido2,nombre1:e.nombre1,nombre2:e.nombre2,sexo:e.sexo,fecha_nacimiento:e.fecha_nacimiento,rh:e.rh,arl:e.arl,id_eps:e.eps,tipo_vehiculo:e.tipo_vehiculo,placa:e.placa,observacion:e.observacion}).then(function(t){e.close(),e.listar(),e.limpiar()}).catch(function(e){console.log(e)})}else{var t=this;me.a.post("api/Visitantes/Crear",{tipodocumento:t.tipodocumento,documento:t.documento,apellido1:t.apellido1,apellido2:t.apellido2,nombre1:t.nombre1,nombre2:t.nombre2,sexo:t.sexo,fecha_nacimiento:t.fecha_nacimiento,rh:t.rh,arl:t.arl,id_eps:t.eps,tipo_vehiculo:t.tipo_vehiculo,placa:t.placa,observacion:t.observacion}).then(function(e){t.close(),t.listar(),t.limpiar()}).catch(function(e){console.log(e)})}},close:function(){this.dialog=!1,this.dialogRetiro=!1,this.limpiar()},listar:function(){var e=this;me.a.get("api/Visitantes/Listar").then(function(t){e.visitantes=t.data}).catch(function(e){console.log(e)})},desactivar:function(){var e=this;me.a.put("api/Visitantes/Desactivar/"+e.adId,{}).then(function(t){console.log(e.adId),e.close(),e.listar()}).catch(function(e){console.log(e)})}}},Yi=Ki,Zi=Object(fe["a"])(Yi,Xi,$i,!1,null,null,null),Wi=Zi.exports,Qi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Ingreso de Visitantes")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),0==e.verNuevo?a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}):e._e(),a("v-spacer"),0==e.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:e.mostrarNuevo}},[e._v("Nuevo")]):e._e(),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogCliente,callback:function(t){e.dialogCliente=t},expression:"dialogCliente"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("div",[a("v-avatar",{staticStyle:{"margin-left":"40%","margin-top":"-30px"},attrs:{slot:"activator",size:"180px",color:"grey"},on:{click:function(t){e.onStart()}},slot:"activator"},[e.img?e._e():a("v-icon",{staticStyle:{"margin-left":"27px","margin-top":"-10px"},attrs:{dark:"",size:"130px"}},[e._v("linked_camera")]),a("img",{staticClass:"img-responsive",attrs:{src:e.img}})],1)],1),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:e.tiposdocumentos,label:"Seleccionar tipo de documento"},model:{value:e.tipodocumento,callback:function(t){e.tipodocumento=t},expression:"tipodocumento"}}),e.dialogCliente?e._e():a("v-text-field",{model:{value:e.id_visitante,callback:function(t){e.id_visitante=t},expression:"id_visitante"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"number",label:"Documento"},on:{change:e.ValidarVisitante},model:{value:e.documento,callback:function(t){e.documento=t},expression:"documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"text",label:"Primer Apellido"},model:{value:e.apellido1,callback:function(t){e.apellido1=t},expression:"apellido1"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"text",label:"Segundo Apellido"},model:{value:e.apellido2,callback:function(t){e.apellido2=t},expression:"apellido2"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"text",label:"Primer Nombre"},model:{value:e.nombre1,callback:function(t){e.nombre1=t},expression:"nombre1"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"text",label:"Segundo Nombre"},model:{value:e.nombre2,callback:function(t){e.nombre2=t},expression:"nombre2"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:e.sexos,label:"Sexo"},model:{value:e.sexo,callback:function(t){e.sexo=t},expression:"sexo"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"date",label:"Fecha de Nacimiento"},model:{value:e.fecha_nacimiento,callback:function(t){e.fecha_nacimiento=t},expression:"fecha_nacimiento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:e.rhs,label:"RH"},model:{value:e.rh,callback:function(t){e.rh=t},expression:"rh"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:e.arls,label:"Seleccionar ARL"},model:{value:e.arl,callback:function(t){e.arl=t},expression:"arl"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:e.epss,label:"Seleccionar EPS"},model:{value:e.eps,callback:function(t){e.eps=t},expression:"eps"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:e.tipos_vehiculos,label:"Tipo de Vehiculo"},model:{value:e.tipo_vehiculo,callback:function(t){e.tipo_vehiculo=t},expression:"tipo_vehiculo"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"text",label:"Placa"},model:{value:e.placa,callback:function(t){e.placa=t},expression:"placa"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-textarea",{attrs:{label:"Observacion"},model:{value:e.observacion,callback:function(t){e.observacion=t},expression:"observacion"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.guardar(t)}}},[e._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialogFoto,callback:function(t){e.dialogFoto=t},expression:"dialogFoto"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e.device?a("code",[e._v(e._s(e.device.label))]):e._e(),a("v-spacer"),a("v-btn",{attrs:{flat:"",icon:"",large:""},on:{click:e.onStop}},[a("v-icon",{attrs:{dark:""}},[e._v("close")])],1)],1),a("v-card-text",[a("vue-web-cam",{ref:"webcam",attrs:{"device-id":e.deviceId,width:"100%"},on:{started:e.onStarted,stopped:e.onStopped,error:e.onError,cameras:e.onCameras,"camera-change":e.onCameraChange}})],1),a("div",{staticClass:"text-xs-center"},[a("v-btn",{attrs:{flat:"",icon:"",large:"",color:"indigo"},on:{click:e.onCapture}},[a("v-icon",{attrs:{dark:"",size:"40px"}},[e._v("camera_alt")])],1)],1),a("v-card-actions")],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.dialogRetiro,callback:function(t){e.dialogRetiro=t},expression:"dialogRetiro"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Retiro de Visitante")]),a("v-card-text",[e._v("\n                                Estás a punto de \n                                "),a("span",[e._v("Retirar ")]),e._v("\n                                visitante\n                            ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.close}},[e._v("\n                                    Cancelar\n                                ")]),a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.desactivar}},[e._v("\n                                    Retirar\n                                ")])],1)],1)],1)],1),e.verNuevo?a("v-container",{staticClass:"elevation-1 white",attrs:{"grid-list-sm":"",fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{directives:[{name:"show",rawName:"v-show",value:10==e.verNuevo,expression:"verNuevo == 10"}]},[a("v-text-field",{attrs:{label:"IDREGISTRO"},model:{value:e.idRegVisitante,callback:function(t){e.idRegVisitante=t},expression:"idRegVisitante"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.visitantes,label:"Visitante"},model:{value:e.id_visitante,callback:function(t){e.id_visitante=t},expression:"id_visitante"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg8:"",xl8:""}},[a("v-btn",{attrs:{small:"",fab:"",dark:"",color:"teal"},on:{click:function(t){e.CrearCliente()}}},[a("v-icon",{attrs:{dark:""}},[e._v("person_add")])],1)],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.areas,"search-input":e.search1,label:"Area",autocomplete:""},on:{"update:searchInput":function(t){e.search1=t}},model:{value:e.id_area,callback:function(t){e.id_area=t},expression:"id_area"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:e.motivos,label:"Motivo de visita"},model:{value:e.motivo,callback:function(t){e.motivo=t},expression:"motivo"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{attrs:{label:"Observacion"},model:{value:e.observacion,callback:function(t){e.observacion=t},expression:"observacion"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.ocultarNuevo()}}},[e._v("Cancelar")]),a("v-btn",{attrs:{disabled:e.counter,color:"success"},on:{click:function(t){e.guardarRegistro()}}},[e._v("Guardar")])],1)],1)],1):e._e(),0==e.verNuevo?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.Registrovisitantes,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},["ACTIVO"==t.item.estado?[a("v-icon",{attrs:{small:""},on:{click:function(a){e.metodoRetiro(t.item)}}},[e._v("\n                            check\n                            ")])]:[a("v-icon",{attrs:{small:""}},[e._v("block")])]],2),a("td",[e._v(e._s(t.item.id_visitante))]),a("td",[e._v(e._s(t.item.nombre))]),a("td",[e._v(e._s(t.item.area))]),a("td",[e._v(e._s(t.item.motivo))]),a("td",[e._v(e._s(t.item.fecha_ingreso.split("T")[0]+" "+t.item.fecha_ingreso.split("T")[1].split(".")[0]))]),"ACTIVO"==t.item.estado?a("td",[e._v("No Registra")]):a("td",[e._v(e._s(t.item.fecha_salida.split("T")[0]+" "+t.item.fecha_salida.split("T")[1].split(".")[0]))]),a("td",[e._v(e._s(t.item.observacion))]),a("td",["ACTIVO"==t.item.estado?a("div",[a("span",{staticClass:"blue--text"},[e._v(e._s(t.item.estado))])]):a("div",[a("span",{staticClass:"red--text"},[e._v(e._s(t.item.estado))])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2):e._e()],1)],1)},eo=[],to=a("b3cb");function ao(e){return so(e)||oo(e)||io()}function io(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function oo(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function so(e){if(Array.isArray(e))return e}var no={components:{"vue-web-cam":to["WebCam"]},data:function(){return{Registrovisitantes:[],visitantes:[],arls:[{text:"AXA COLPATRIA S.A.",value:"AXA COLPATRIA S.A."},{text:"COLMENA SEGUROS",value:"COLMENA SEGUROS"},{text:"COMPAÑÍA DE SEGUROS DE VIDA AURORA S.A.",value:"COMPAÑÍA DE SEGUROS DE VIDA AURORA S.A."},{text:"LA EQUIDAD SEGUROS DE VIDA",value:"LA EQUIDAD SEGUROS DE VIDA"},{text:"LIBERTY SEGUROS DE VIDA S.A.",value:"LIBERTY SEGUROS DE VIDA S.A."},{text:"MAPFRE SEGUROS",value:"MAPFRE SEGUROS"},{text:"POSITIVA",value:"POSITIVA"},{text:"SEGUROS BOLÍVAR S.A.",value:"SEGUROS BOLÍVAR S.A."},{text:"SEGUROS DE VIDA ALFA S.A.",value:"SEGUROS DE VIDA ALFA S.A."},{text:"SURATEP SA",value:"SURATEP SA"}],epss:[],tiposdocumentos:[{text:"TARJETA DE IDENTIDAD",value:"TI",sortable:!1},{text:"CEDULA DE CIUDADANIA",value:"CC",sortable:!1},{text:"CEDULA EXTANJERA",value:"CE",sortable:!1}],sexos:[{text:"M",value:"M",sortable:!1},{text:"F",value:"F",sortable:!1}],rhs:[{text:"A+",value:"A+",sortable:!1},{text:"A-",value:"B-",sortable:!1},{text:"B+",value:"B+",sortable:!1},{text:"B-",value:"B-",sortable:!1},{text:"O+",value:"O+",sortable:!1},{text:"O-",value:"O-",sortable:!1},{text:"AB+",value:"AB+",sortable:!1},{text:"AB-",value:"AB-",sortable:!1}],motivos:[{text:"Diligencia",value:"Diligencia"},{text:"Entrevista",value:"Entrevista"}],tipos_vehiculos:[{text:"MOTOCICLETA",value:"MOTOCICLETA+"},{text:"CARRO",value:"CARRO"},{text:"VEHICULO EMPRESARIAL",value:"VEHICULO EMPRESARIAL"}],areas:[],verNuevo:0,editedIndex:-1,dialogCliente:!1,dialogFoto:!1,dialogRetiro:!1,search1:null,idrol:"",idRegVisitante:"",id_visitante:"",tipodocumento:"",documento:"",apellido1:"",apellido2:"",nombre1:"",nombre2:"",sexo:"",fecha_nacimiento:"",rh:"",arl:"",eps:"",tipo_vehiculo:"",placa:"",motivo:"",id_area:"",observacion:"",adId:"",headers:[{text:"Opciones",value:"idRegVisitante",sortable:!1},{text:"Documento",value:"id_visitante",sortable:!0},{text:"Nombre",value:"apellido1",sortable:!0},{text:"Area",value:"area",sortable:!1},{text:"Motivo",value:"motivo",sortable:!1},{text:"Fecha Ingreso",value:"fecha_ingreso"},{text:"Fecha Salida",value:"fecha_salida",sortable:!1},{text:"observacion",value:"observacion",sortable:!1},{text:"estado",value:"estado"}],search:"",img:null,camera:null,deviceId:null,devices:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Visitante":"Actualizar Visitante"},device:function(){var e=this;return this.devices.find(function(t){return t.deviceId===e.deviceId})}},watch:{camera:function(e){this.deviceId=e},devices:function(){var e=ao(this.devices),t=e[0];e.slice(1);t&&(this.camera=t.deviceId,this.deviceId=t.deviceId)}},created:function(){this.listar(),this.selectArea(),this.selectEps()},methods:{editItem:function(e){this.id_visitante=e.id_visitante,this.tipodocumento=e.tipodocumento,this.documento=e.documento,this.apellido1=e.apellido1,this.apellido2=e.apellido2,this.nombre1=e.nombre1,this.nombre2=e.nombre2,this.sexo=e.sexo,this.fecha_nacimiento=e.fecha_nacimiento.split("T")[0],this.rh=e.rh,this.motivo=e.motivo,this.observacion=e.observacion,this.id_area=e.id_area,this.editedIndex=1,this.dialogCliente=!0},limpiar:function(){this.tipodocumento="",this.documento="",this.apellido1="",this.apellido2="",this.nombre1="",this.nombre2="",this.sexo="",this.fecha_nacimiento="",this.rh="",this.motivo="",this.observacion="",this.id_area="",this.editedIndex=-1},mostrarNuevo:function(){this.verNuevo=1,this.counter=!1},ocultarNuevo:function(){this.verNuevo=0},CrearCliente:function(){this.dialogCliente=!0},metodoRetiro:function(e){this.dialogRetiro=!0,this.adId=e.idRegVisitante},guardar:function(){var e=this;me.a.get("api/Visitantes/ConsecutivoVisitante").then(function(t){var a=t.data[0]["id_visitante"];me.a.post("api/Visitantes/Crear",{tipodocumento:e.tipodocumento,documento:e.documento,apellido1:e.apellido1,apellido2:e.apellido2,nombre1:e.nombre1,nombre2:e.nombre2,sexo:e.sexo,fecha_nacimiento:e.fecha_nacimiento,rh:e.rh,arl:e.arl,id_eps:e.eps,tipo_vehiculo:e.tipo_vehiculo,placa:e.placa,observacion:e.observacion,img:e.img}).then(function(t){var i=parseInt(a);e.visitantes.push({text:e.apellido1,value:a}),console.log(e.visitantes),e.id_visitante=i,e.close()}).catch(function(e){console.log(e)})})},guardarRegistro:function(){if(this.editedIndex>-1){var e=this;me.a.put("api/RegistroVisitantes/Actualizar",{idRegVisitante:e.idRegvisitante,id_visitante:e.id_visitante,motivo:e.motivo,observacion:e.observacion,id_area:e.id_area}).then(function(t){e.close(),e.listar(),e.limpiar()}).catch(function(e){console.log(e)})}else{var t=this;me.a.post("api/RegistroVisitantes/Crear",{id_visitante:t.id_visitante,motivo:t.motivo,observacion:t.observacion,id_area:t.id_area}).then(function(e){t.ocultarNuevo(),t.close(),t.listar(),t.limpiar()}).catch(function(e){console.log(e)})}},close:function(){this.dialogCliente=!1,this.dialogRetiro=!1,this.limpiar()},selectArea:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/ListarArea",i).then(function(a){t=a.data,t.map(function(t){e.areas.push({text:t.desc_area,value:t.id_area})})}).catch(function(e){console.log(e)})},selectEps:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/ListarEps",i).then(function(a){t=a.data,t.map(function(t){e.epss.push({text:t.desc_eps,value:t.id_eps})})}).catch(function(e){console.log(e)})},listar:function(){var e=this;me.a.get("api/RegistroVisitantes/Listar").then(function(t){e.Registrovisitantes=t.data}).catch(function(e){console.log(e)})},ValidarVisitante:function(){var e=this;me.a.get("api/Visitantes/Mostrar/"+e.documento).then(function(t){Se.a.fire({type:"success",title:"El Visitante ya existe",showConfirmButton:!0}),e.visitantes.push({text:e.documento,value:e.documento}),e.id_visitante=e.documento,e.close()}).catch(function(e){})},desactivar:function(){var e=this;me.a.put("api/RegistroVisitantes/Desactivar/"+e.adId,{}).then(function(t){console.log(e.adId),e.close(),e.listar()}).catch(function(e){console.log(e)})},onCapture:function(){this.img=this.$refs.webcam.capture(),this.dialogFoto=!1},onStarted:function(e){console.log("On Started Event",e)},onStopped:function(e){console.log("On Stopped Event",e)},onStop:function(){this.dialogFoto=!1,this.$refs.webcam.stop()},onStart:function(){this.$refs.webcam.start(),this.dialogFoto=!0},onError:function(e){console.log("On Error Event",e)},onCameras:function(e){this.devices=e,console.log("On Cameras Event",e)},onCameraChange:function(e){this.deviceId=e,this.camera=e,console.log("On Camera Change Event",e)}}},ro=no,lo=Object(fe["a"])(ro,Qi,eo,!1,null,null,null),co=lo.exports,uo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Reporte Covid-19")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}})],1),a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":"",fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm5:"",md5:""}},[a("v-autocomplete",{attrs:{type:"number",items:e.empleados,rules:e.Rules,label:"Documento Empleado","search-input":e.search1,autocomplete:""},on:{"update:searchInput":function(t){e.search1=t},change:e.cambioNombre,keyup:e.FiltroEmpleados},model:{value:e.id_empleado,callback:function(t){e.id_empleado=t},expression:"id_empleado"}})],1),a("v-flex",{attrs:{xs12:"",sm5:"",md5:""}},[a("v-autocomplete",{attrs:{items:e.nombres,label:"Nombre Empleado",disabled:"",autocomplete:""},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-list",{attrs:{"two-line":"",subheader:""}},[a("v-card-title",[e._v("¿Ha tenido usted alguno de estos sintomas en los últimos 3 días?")]),e._l(e.arreglo1,function(t){return a("v-list-tile",{key:t.model,attrs:{avatar:""}},[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.nombre))]),a("v-list-tile-sub-title",[e._v(e._s(t.pregunta))])],1),a("v-list-tile-action",[a("v-switch",{attrs:{label:""+e.datos[t.model],value:"SI",color:"primary"},on:{change:function(a){e.change(t.model)}},model:{value:e.datos[t.model],callback:function(a){e.$set(e.datos,t.model,a)},expression:"datos[array.model]"}})],1)],1)})],2)],1)],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-textarea",{attrs:{label:"Si la respuesta anterior es si, indicar caules síntomas",rules:e.Rules},model:{value:e.otro_externo,callback:function(t){e.otro_externo=t},expression:"otro_externo"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md6:"",lg6:"",xl6:""}},[a("v-text-field",{attrs:{type:"number",label:"Temperatura Corporal",rules:e.Rules},model:{value:e.temperatura,callback:function(t){e.temperatura=t},expression:"temperatura"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md6:"",lg6:"",xl6:""}},[a("v-select",{attrs:{items:e.transportes,rules:e.Rules,label:"Medio de Transporte"},model:{value:e.transporte,callback:function(t){e.transporte=t},expression:"transporte"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-list",{attrs:{"two-line":"",subheader:""}},[a("v-card-title",[e._v("¿Pertenece algún grupo de riesgo?")]),e._l(e.arreglo2,function(t){return a("v-list-tile",{key:t.model,attrs:{avatar:""}},[a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.nombre))]),a("v-list-tile-sub-title",[e._v(e._s(t.pregunta))])],1),a("v-list-tile-action",[a("v-switch",{attrs:{label:""+e.datos2[t.model],value:"SI",color:"primary"},on:{change:function(a){e.change2(t.model)}},model:{value:e.datos2[t.model],callback:function(a){e.$set(e.datos2,t.model,a)},expression:"datos2[arreglo.model]"}})],1)],1)})],2)],1)],1),a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",[a("b",[e._v("Firma del Empleado")])]),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 mt-2"},[a("VueSignaturePad",{ref:"signaturePad",attrs:{id:"signature",width:"100%",height:"500px"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 mt-2"},[a("v-btn",{attrs:{flat:""},on:{click:e.undo}},[e._v("Limpiar")])],1)])])],1)],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}}),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.close()}}},[e._v("Cancelar")]),a("v-spacer"),a("v-btn",{attrs:{color:"success",right:""},on:{click:function(t){e.guardar()}}},[e._v("Guardar")])],1)],1),a("v-container")],1)],1)},vo=[],mo={data:function(){return{id_empleado:"",nombre:"",search1:null,empleados:[],nombres:[],arreglo1:[{nombre:"Fiebre",model:"fiebre",pregunta:"Ha tenido sintomas?"},{nombre:"Fatiga",model:"fatiga",pregunta:"Ha tenido sintomas?"},{nombre:"Tos",model:"tos",pregunta:"Ha tenido sintomas?"},{nombre:"Deficultad para respirar",model:"dif_respirar",pregunta:"Ha tenido sintomas?"},{nombre:"Vómito",model:"vomito",pregunta:"Ha tenido sintomas?"},{nombre:"Diarrea",model:"diarrea",pregunta:"Ha tenido sintomas?"},{nombre:"Congestión Nasal",model:"cong_nasal",pregunta:"Ha tenido sintomas?"},{nombre:"Dolor de garganta",model:"dolor_garganta",pregunta:"Ha tenido sintomas?"},{nombre:"Escalofrio",model:"escalofrio",pregunta:"Ha tenido sintomas?"},{nombre:"Dolor muscular",model:"dolor_muscular",pregunta:"Ha tenido sintomas?"},{nombre:"Otro",model:"otro",pregunta:"Cualquier otro sintoma relacionado con una enfermedad respiratoria"},{nombre:"En los ultimos 14 dias",model:"contacto_externo",pregunta:"ha estado en contacto con personas que tuvieran alguno de los anteriores sintomas?"}],datos:{fiebre:"NO",fatiga:"NO",tos:"NO",dif_respirar:"NO",vomito:"NO",diarrea:"NO",cong_nasal:"NO",dolor_garganta:"NO",escalofrio:"NO",dolor_muscular:"NO",otro:"NO",contacto_externo:"NO"},otro_externo:"N/A",temperatura:"",transporte:"",transportes:[{text:"Bicicleta",value:"Bicicleta"},{text:"Motocicleta",value:"Motocicleta"},{text:"Carro Propio",value:"Carro Propio"},{text:"Transporte Publico",value:"Transporte Publico"},{text:"Otros",value:"Otros"}],arreglo2:[{nombre:"Mayor de 60 años",model:"edad_maxima",pregunta:"si su edad supera los 60 años"},{nombre:"Hipertension",model:"hipertension",pregunta:"si se ha diagnósticado alguna vez"},{nombre:"Diabetes",model:"diabetes",pregunta:"si se ha diagnósticado alguna vez"},{nombre:"Cancer",model:"cancer",pregunta:"si se ha diagnósticado alguna vez"},{nombre:"Enfermedades de corazón",model:"enfer_corazon",pregunta:"si se ha diagnósticado alguna vez"},{nombre:"patología pulmonar",model:"pat_pulmonar",pregunta:"si se ha diagnósticado alguna vez"},{nombre:"Enfermedad Renal crónica",model:"renal",pregunta:"si se ha diagnósticado alguna veza"},{nombre:"Inmunosupresion",model:"inmunosupresion",pregunta:"si se ha diagnósticado alguna vez"},{nombre:"Obesidad",model:"obesidad",pregunta:"si se ha diagnósticado alguna vez"},{nombre:"Corticoides Recientemente",model:"corticoides",pregunta:"si se ha diagnósticado alguna vez"},{nombre:"Fumador",model:"fumador",pregunta:"si fuma con frecuencia"},{nombre:"Desinfeccion y lavado antes de ingresar a las intalaciones",model:"desinfeccion",pregunta:"ha realizado el debido procedimiento de lavado"}],datos2:{edad_maxima:"NO",hipertension:"NO",diabetes:"NO",cancer:"NO",enfer_corazon:"NO",pat_pulmonar:"NO",renal:"NO",inmunosupresion:"NO",obesidad:"NO",corticoides:"NO",fumador:"NO",desinfeccion:"NO"},validaMensaje:"",Rules:[function(e){return!!e||"Este campo es requerido"}]}},created:function(){},methods:{undo:function(){this.$refs.signaturePad.undoSignature()},FiltroEmpleados:function(){clearTimeout(this.controladorTiempo),this.controladorTiempo=setTimeout(this.Empleados,500)},Empleados:function(){var e=this,t=[];me.a.get("api/Categorias/ListarFiltroEmpleados/"+e.search1).then(function(a){t=a.data,t.map(function(t){e.empleados.push({text:t.id_empleado,value:t.id_empleado}),e.nombres.push({text:t.nombre_empleado,value:t.id_empleado})})}).catch(function(e){console.log(e)})},cambioNombre:function(){this.nombre=this.id_empleado,console.log("asd")},change:function(e){var t=this.datos;null==t[e]&&(t[e]="NO")},change2:function(e){var t=this.datos2;null==t[e]&&(t[e]="NO")},close:function(){this.limpiar()},limpiar:function(){this.id_empleado="",this.otro_externo="N/A",this.temperatura="",this.transporte="",this.$refs.signaturePad.clearSignature();for(var e=this.datos,t=0;t<12;t++)e[this.arreglo1[t].model]="NO";for(var a=this.datos2,i=0;i<12;i++)a[this.arreglo2[i].model]="NO"},guardar:function(){var e=this;if(this.validar()){var t=this;Se.a.fire({type:"error",title:t.validaMensaje[0],showConfirmButton:!1,timer:2500})}else{var a=this,i=this.$refs.signaturePad.saveSignature(),o=(i.isEmpty,i.data);me.a.post("api/Encuesta/Crear",{id_empleado:a.id_empleado,fiebre:a.datos["fiebre"],fatiga:a.datos["fatiga"],tos:a.datos["tos"],dif_respirar:a.datos["dif_respirar"],vomito:a.datos["vomito"],diarrea:a.datos["diarrea"],cong_nasal:a.datos["cong_nasal"],dolor_garganta:a.datos["dolor_garganta"],escalofrio:a.datos["escalofrio"],dolor_muscular:a.datos["dolor_muscular"],otro:a.datos["otro"],contacto_externo:a.datos["contacto_externo"],otro_externo:a.otro_externo,temperatura:a.temperatura,transporte:a.transporte,edad_maxima:a.datos2["edad_maxima"],hipertension:a.datos2["hipertension"],diabetes:a.datos2["diabetes"],cancer:a.datos2["cancer"],enfer_corazon:a.datos2["enfer_corazon"],pat_pulmonar:a.datos2["pat_pulmonar"],renal:a.datos2["renal"],inmunosupresion:a.datos2["inmunosupresion"],obesidad:a.datos2["obesidad"],corticoides:a.datos2["corticoides"],fumador:a.datos2["fumador"],desinfeccion:a.datos2["desinfeccion"],firma:o}).then(function(e){Se.a.fire({type:"success",title:"Registro Guardado Exitosamente",showConfirmButton:!1,timer:2e3}),a.close()}).catch(function(t){return console.log(t),400==t.response.status?Se.a.fire({type:"error",title:t.response.data,showConfirmButton:!1,timer:2500}):t.response.status,e.valida})}},validar:function(){return this.valida=0,this.validaMensaje=[],this.temperatura.length>2&&this.validaMensaje.push("No ingresar mas de dos digitos en el campo de temperatura."),this.id_empleado||this.validaMensaje.push("Ingrese el Empleado."),this.temperatura||this.validaMensaje.push("Ingrese temperatura."),this.otro_externo||this.validaMensaje.push("Validar campo Otros."),this.transporte||this.validaMensaje.push("Seleccionar medio de transporte."),this.validaMensaje.length&&(this.valida=1),this.valida}}},po=mo,ho=Object(fe["a"])(po,uo,vo,!1,null,null,null),fo=ho.exports,xo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Entrega Remesa")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[e._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-autocomplete",{attrs:{items:e.empleados,label:"Empleado","search-input":e.search1,autocomplete:""},on:{"update:searchInput":function(t){e.search1=t},keyup:e.FiltroEmpleados},model:{value:e.id_empleado,callback:function(t){e.id_empleado=t},expression:"id_empleado"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"number",label:"Digitacion",requerid:""},on:{change:e.calcular},model:{value:e.digitacion,callback:function(t){e.digitacion=t},expression:"digitacion"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"number",label:"Despacho",requerid:""},on:{change:e.calcular},model:{value:e.despacho,callback:function(t){e.despacho=t},expression:"despacho"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"number",label:"Sobre",requerid:""},on:{change:e.calcular},model:{value:e.sobre,callback:function(t){e.sobre=t},expression:"sobre"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"number",label:"Total",requerid:"",readonly:""},model:{value:e.cantidad,callback:function(t){e.cantidad=t},expression:"cantidad"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-textarea",{attrs:{label:"Observacion"},model:{value:e.observacion,callback:function(t){e.observacion=t},expression:"observacion"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.guardar(t)}}},[e._v("Guardar")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.EntregaRemesas,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.crearPDF(t.item)}}},[e._v("\n                        print\n                        ")])]],2),a("td",[e._v(e._s(t.item.empleado))]),a("td",[e._v(e._s(t.item.digitacion))]),a("td",[e._v(e._s(t.item.despacho))]),a("td",[e._v(e._s(t.item.sobre))]),a("td",[e._v(e._s(t.item.observacion))]),a("td",[e._v(e._s(t.item.fecha))]),a("td",[e._v(e._s(t.item.usuario))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2)],1)],1)},bo=[],_o={data:function(){return{EntregaRemesas:[],paginas:[],modulos:[],empleados:[],editedIndex:-1,dialog:!1,search1:null,id_perfil:"",id_empleado:"",cantidad:0,digitacion:0,despacho:0,sobre:0,observacion:"",fecha:(new Date).toISOString().substr(0,10),headers:[{text:"Opciones",value:"idEntregaRemesa",sortable:!1},{text:"Empleado",value:"empleado"},{text:"Digitacion",value:"digitacion",sortable:!1},{text:"Despacho",value:"despacho",sortable:!1},{text:"Sobre",value:"sobre",sortable:!1},{text:"Observacion",value:"Observacion",sortable:!1},{text:"Fecha",value:"fecha",sortable:!1},{text:"Usuario",value:"usuario",sortable:!1}],search:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Rol":"Actualizar Rol"}},watch:{},created:function(){this.listar()},methods:{crearPDF:function(e){var t=new xt.a;t.text("FORMATO ENTREGA REMESAS",14,20),t.autoTable({headStyles:{fillColor:0,valign:"middle",halign:"center"},theme:"grid",startY:25,body:[[{content:"Auxiliar:",colSpan:1,rowSpan:1,styles:{valign:"middle",halign:"left"}},{content:e.empleado,styles:{valign:"middle",halign:"left"}},{content:"Fecha",styles:{valign:"middle",halign:"left"}},{content:e.fecha,styles:{valign:"middle",halign:"left"}}],[{content:"Digitacion:",styles:{valign:"middle",halign:"left"}},{content:e.digitacion,styles:{valign:"middle",halign:"left"}},{content:"Despacho",styles:{valign:"middle",halign:"left"}},{content:e.despacho,styles:{valign:"middle",halign:"left"}}],[{content:"Sobres:",styles:{valign:"middle",halign:"left"}},{content:e.sobre,styles:{valign:"middle",halign:"left"}},{content:"Total:",styles:{valign:"middle",halign:"left"}},{content:e.cantidad,styles:{valign:"middle",halign:"left"}}],[{content:"Observacion:",styles:{valign:"middle",halign:"left"}},{content:e.observacion,styles:{valign:"middle",halign:"left"}},{content:"Usuario",styles:{valign:"middle",halign:"left"}},{content:e.usuario,styles:{valign:"middle",halign:"left"}}]]}),t.setFontSize(10),t.text("FIRMA___________________________",14,t.autoTable.previous.finalY+10),t.save("EntregaRemesa-"+e.idEntregaRemesa+".pdf")},crearPDF2:function(e){var t=new xt.a;t.text("FORMATO ENTREGA REMESAS",14,20),t.autoTable({headStyles:{fillColor:0,valign:"middle",halign:"center"},theme:"grid",startY:25,body:[[{content:"Auxiliar:",colSpan:1,rowSpan:1,styles:{valign:"middle",halign:"left"}},{content:e[0]["empleado"],styles:{valign:"middle",halign:"left"}},{content:"Fecha",styles:{valign:"middle",halign:"left"}},{content:this.fecha,styles:{valign:"middle",halign:"left"}}],[{content:"Digitacion:",styles:{valign:"middle",halign:"left"}},{content:e[0]["digitacion"],styles:{valign:"middle",halign:"left"}},{content:"Despacho",styles:{valign:"middle",halign:"left"}},{content:e[0]["despacho"],styles:{valign:"middle",halign:"left"}}],[{content:"Sobres:",styles:{valign:"middle",halign:"left"}},{content:e[0]["sobre"],styles:{valign:"middle",halign:"left"}},{content:"Total:",styles:{valign:"middle",halign:"left"}},{content:e[0]["cantidad"],styles:{valign:"middle",halign:"left"}}],[{content:"Observacion:",styles:{valign:"middle",halign:"left"}},{content:e[0]["observacion"],styles:{valign:"middle",halign:"left"}},{content:"Usuario",styles:{valign:"middle",halign:"left"}},{content:e[0]["usuario"],styles:{valign:"middle",halign:"left"}}]]}),t.setFontSize(10),t.text("FIRMA___________________________",14,t.autoTable.previous.finalY+10),t.save("EntregaRemesa-"+e.idEntregaRemesa+".pdf")},FiltroEmpleados:function(){clearTimeout(this.controladorTiempo),this.controladorTiempo=setTimeout(this.Empleados,500)},Empleados:function(){var e=this,t=[];me.a.get("api/Categorias/ListarFiltroEmpleados/"+e.search1).then(function(a){t=a.data,t.map(function(t){e.empleados.push({text:t.nombre_empleado,value:t.id_empleado})})}).catch(function(e){console.log(e)})},calcular:function(){var e=this;e.cantidad=parseInt(e.digitacion)+parseInt(e.despacho)+parseInt(e.sobre)},editItem:function(e){this.id_perfil=e.id_perfil,this.desc_perfil=e.desc_perfil,this.editedIndex=1,this.dialog=!0},limpiar:function(){this.id_empleado="",this.digitacion=0,this.despacho=0,this.sobre=0,this.cantidad=0,this.observacion="",this.editedIndex=-1},guardar:function(){if(this.editedIndex>-1){var e=this;me.a.put("api/EntregaRemesa/Crear",{id_empleado:e.id_empleado,cantidad:e.cantidad,observacion:e.observacion,id_usuario:ke.state.usuario.id_usuario}).then(function(t){e.close(),e.listar(),e.limpiar()}).catch(function(e){console.log(e)})}else{var t=this;me.a.post("api/EntregaRemesa/Crear",{id_empleado:t.id_empleado,digitacion:t.digitacion,despacho:t.despacho,sobre:t.sobre,cantidad:t.cantidad,observacion:t.observacion,id_usuario:ke.state.usuario.id_usuario}).then(function(e){var a=[{empleado:t.id_empleado,cantidad:t.cantidad,usuario:ke.state.usuario.id_usuario,observacion:t.observacion,digitacion:t.digitacion,despacho:t.despacho,sobre:t.sobre}];t.close(),t.listar(),t.limpiar(),t.crearPDF2(a)}).catch(function(e){console.log(e)})}},close:function(){this.dialog=!1,this.limpiar()},listar:function(){var e=this;me.a.get("api/EntregaRemesa/Listar").then(function(t){e.EntregaRemesas=t.data}).catch(function(e){console.log(e)})}}},go=_o,Co=Object(fe["a"])(go,xo,bo,!1,null,null,null),Ao=Co.exports,ko=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Tarea")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[e._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"idTarea"},model:{value:e.idTarea,callback:function(t){e.idTarea=t},expression:"idTarea"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-autocomplete",{attrs:{items:e.turnos,label:"Turno","search-input":e.search1,autocomplete:""},on:{"update:searchInput":function(t){e.search1=t}},model:{value:e.idTurno,callback:function(t){e.idTurno=t},expression:"idTurno"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},e._l(e.validaMensaje,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})}))],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.guardar(t)}}},[e._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.adModal,callback:function(t){e.adModal=t},expression:"adModal"}},[a("v-card",[1==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Activar Tarea?")]):e._e(),2==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Eliminar Tarea?")]):e._e(),a("v-card-text",[e._v("\n                            Estás a punto de \n                            "),1==e.adAccion?a("span",[e._v("Activar ")]):e._e(),2==e.adAccion?a("span",[e._v("¿Eliminar ")]):e._e(),e._v("\n                            el ítem "+e._s(e.adNombre)+"\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.activarDesactivarCerrar}},[e._v("\n                                Cancelar\n                            ")]),1==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.activar}},[e._v("\n                                Activar\n                            ")]):e._e(),2==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.desactivar}},[e._v("\n                                Eliminar\n                            ")]):e._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.tareas,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.editItem(t.item)}}},[e._v("\n                    edit\n                    ")]),t.item.condicion?[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(2,t.item)}}},[e._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(1,t.item)}}},[e._v("\n                        check\n                        ")])]],2),a("td",[e._v(e._s(t.item.idTarea))]),a("td",[e._v(e._s(t.item.turno))]),a("td",[e._v(e._s(t.item.nombre))]),a("td",[e._v(e._s(t.item.fecha))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2)],1)],1)},Io=[],Do={data:function(){return{tareas:[],turnos:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"ID",value:"idTarea"},{text:"Turno",value:"idTurno"},{text:"Nombre",value:"nombre"},{text:"Fecha",value:"fecha",sortable:!1}],search:"",search1:"",editedIndex:-1,id:"",idTarea:"",idTurno:"",nombre:"",fecha:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva Tarea":"Actualizar Tarea"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.listar(),this.listarTurno()},methods:{crearPDF:function(){var e=[{title:"Documento",dataKey:"Documento"},{title:"Nombre",dataKey:"nombre"},{title:"Código",dataKey:"codigo"},{title:"Categoría",dataKey:"categoria"},{title:"Stock",dataKey:"stock"}],t=[];this.clientes.map(function(e){t.push({nombre:e.nombre,codigo:e.codigo,categoria:e.categoria,stock:e.stock})});var a=new xt.a("p","pt");a.autoTable(e,t,{margin:{top:60},addPageContent:function(e){a.text("Listado de Artículos",40,30)}}),a.save("Clientes.pdf")},listar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/Tarea/Listar",a).then(function(t){e.tareas=t.data}).catch(function(e){console.log(e)})},listarTurno:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Turno/Listar",i).then(function(a){console.log(a.data),t=a.data,t.map(function(t){e.turnos.push({text:t.nombre,value:t.idTurno})})}).catch(function(e){console.log(e)})},editItem:function(e){this.idTarea=e.idTarea,this.nombre=e.nombre,this.fecha=e.fecha,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.idtarea="",this.nombre="",this.fecha="",this.editedIndex=-1},guardar:function(){var e={Authorization:"Bearer "+this.$store.state.token},t={headers:e};if(this.editedIndex>-1){var a=this;me.a.put("api/Remitente/Actualizar",{idTarea:a.idTarea,idTurno:a.IdTurno,nombre:a.nombre},t).then(function(e){a.close(),a.listar(),a.limpiar()}).catch(function(e){console.log(e)})}else{var i=this;me.a.post("api/Tarea/Crear",{idTurno:i.idTurno,nombre:i.nombre},t).then(function(e){i.close(),i.listar(),i.limpiar()}).catch(function(e){console.log(e)})}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<3||this.nombre.length>50)&&this.validaMensaje.push("El nombre debe tener más de 3 caracteres y menos de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(e,t){this.adModal=1,this.adNombre=t.nombre,this.adId=t.idTarea,1==e?this.adAccion=1:2==e?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.put("api/Remitente/Activar/"+this.adId,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})},desactivar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.delete("api/Remitente/Eliminar/"+this.adId,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})}}},yo=Do,No=Object(fe["a"])(yo,ko,Io,!1,null,null,null),Eo=No.exports,Oo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Turno")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[e._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"idTarea"},model:{value:e.idTurno,callback:function(t){e.idTurno=t},expression:"idTurno"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},e._l(e.validaMensaje,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})}))],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.guardar(t)}}},[e._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.adModal,callback:function(t){e.adModal=t},expression:"adModal"}},[a("v-card",[1==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Activar Turno?")]):e._e(),2==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Eliminar Turno?")]):e._e(),a("v-card-text",[e._v("\n                            Estás a punto de \n                            "),1==e.adAccion?a("span",[e._v("Activar ")]):e._e(),2==e.adAccion?a("span",[e._v("¿Eliminar ")]):e._e(),e._v("\n                            el ítem "+e._s(e.adNombre)+"\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.activarDesactivarCerrar}},[e._v("\n                                Cancelar\n                            ")]),1==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.activar}},[e._v("\n                                Activar\n                            ")]):e._e(),2==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.desactivar}},[e._v("\n                                Eliminar\n                            ")]):e._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.turnos,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.editItem(t.item)}}},[e._v("\n                    edit\n                    ")]),t.item.estado?[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(2,t.item)}}},[e._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(1,t.item)}}},[e._v("\n                        check\n                        ")])]],2),a("td",[e._v(e._s(t.item.idTurno))]),a("td",[e._v(e._s(t.item.nombre))]),a("td",[e._v(e._s(t.item.estado))]),a("td",[e._v(e._s(t.item.fecha))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2)],1)],1)},wo=[],So={data:function(){return{turnos:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"ID",value:"idTurno"},{text:"Nombre",value:"nombre"},{text:"Estado",value:"estado"},{text:"Fecha",value:"fecha",sortable:!1}],search:"",editedIndex:-1,id:"",idTurno:"",nombre:"",fecha:"",estado:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva Turno":"Actualizar Turno"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.listar()},methods:{crearPDF:function(){var e=[{title:"Documento",dataKey:"Documento"},{title:"Nombre",dataKey:"nombre"},{title:"Código",dataKey:"codigo"},{title:"Categoría",dataKey:"categoria"},{title:"Stock",dataKey:"stock"}],t=[];this.clientes.map(function(e){t.push({nombre:e.nombre,codigo:e.codigo,categoria:e.categoria,stock:e.stock})});var a=new xt.a("p","pt");a.autoTable(e,t,{margin:{top:60},addPageContent:function(e){a.text("Listado de Artículos",40,30)}}),a.save("Clientes.pdf")},listar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/Turno/Listar",a).then(function(t){e.turnos=t.data}).catch(function(e){console.log(e)})},editItem:function(e){this.idTurno=e.idTurno,this.nombre=e.nombre,this.fecha=e.fecha,this.estado=e.estado,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.idtarea="",this.nombre="",this.fecha="",this.estado="",this.editedIndex=-1},guardar:function(){var e={Authorization:"Bearer "+this.$store.state.token},t={headers:e};if(this.editedIndex>-1){var a=this;me.a.put("api/Turno/Actualizar",{idTarea:a.idTarea,idTurno:a.IdTurno,nombre:a.nombre},t).then(function(e){a.close(),a.listar(),a.limpiar()}).catch(function(e){console.log(e)})}else{var i=this;me.a.post("api/Turno/Crear",{nombre:i.nombre,estado:"ACTIVO"},t).then(function(e){i.close(),i.listar(),i.limpiar()}).catch(function(e){console.log(e)})}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<3||this.nombre.length>50)&&this.validaMensaje.push("El nombre debe tener más de 3 caracteres y menos de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(e,t){this.adModal=1,this.adNombre=t.nombre,this.adId=t.id_remitente,1==e?this.adAccion=1:2==e?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.put("api/Remitente/Activar/"+this.adId,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})},desactivar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.delete("api/Remitente/Eliminar/"+this.adId,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})}}},To=So,Mo=Object(fe["a"])(To,Oo,wo,!1,null,null,null),Ro=Mo.exports,jo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Entrega de Turno")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.turno,expression:"turno"}],staticClass:"mb-2",attrs:{color:"danger",dark:""},on:{click:e.CloseTurn}},[e._v("Cerrar Turno")]),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.turno,expression:"!turno"}],staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[e._v("Nuevo Turno")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"idTareas"},model:{value:e.idTareas,callback:function(t){e.idTareas=t},expression:"idTareas"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:1==e.editedIndex,expression:"editedIndex == 1"}],attrs:{xs12:"",sm12:"",md12:""}},[a("v-textarea",{attrs:{label:"Observacion"},model:{value:e.observacion,callback:function(t){e.observacion=t},expression:"observacion"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:-1==e.editedIndex,expression:"editedIndex == -1"}],attrs:{xs12:"",sm12:"",md12:""}},[a("v-autocomplete",{attrs:{items:e.turnos,label:"Turno","search-input":e.search1,autocomplete:""},on:{"update:searchInput":function(t){e.search1=t}},model:{value:e.idTurno,callback:function(t){e.idTurno=t},expression:"idTurno"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},e._l(e.validaMensaje,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})}))],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(t){return e.guardar(t)}}},[e._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.adModal,callback:function(t){e.adModal=t},expression:"adModal"}},[a("v-card",[1==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Cumplir Tarea?")]):e._e(),2==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Eliminar Tarea?")]):e._e(),a("v-card-text",[e._v("\n                            Estás a punto de \n                            "),1==e.adAccion?a("span",[e._v("Cumplir ")]):e._e(),2==e.adAccion?a("span",[e._v("¿Eliminar ")]):e._e(),e._v("\n                            la Tarea "+e._s(e.adNombre)+"\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.activarDesactivarCerrar}},[e._v("\n                                Cancelar\n                            ")]),1==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.activar}},[e._v("\n                                Cumplir\n                            ")]):e._e(),2==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.desactivar}},[e._v("\n                                Eliminar\n                            ")]):e._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.tareas,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.editItem(t.item)}}},[e._v("\n                    edit\n                    ")]),t.item.condicion?[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(2,t.item)}}},[e._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){e.activarDesactivarMostrar(1,t.item)}}},[e._v("\n                        check\n                        ")])]],2),a("td",[e._v(e._s(t.item.tarea))]),a("td",[e._v(e._s(t.item.turno))]),a("td",[e._v(e._s(t.item.observacion))]),a("td",[e._v(e._s(t.item.estado))]),a("td",[e._v(e._s(t.item.fechaCreacion))]),a("td",[e._v(e._s(t.item.fechaCierre))]),a("td",[e._v(e._s(t.item.usuario))])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2)],1)],1)},Po=[],zo={data:function(){return{tareas:[],turnos:[],dialog:!1,headers:[{text:"Opciones",value:"estado",sortable:!1},{text:"Tarea",value:"tarea"},{text:"Turno",value:"turno"},{text:"Observacion",value:"observacion"},{text:"Estado",value:"estado"},{text:"Fecha Creacion",value:"fechaCreacion"},{text:"Fecha Cierre",value:"fechaCierre",sortable:!1},{text:"Usuario",value:"usuario",sortable:!1}],search:"",search1:"",turno:!1,editedIndex:-1,NextTurn:0,id:"",idTareas:0,idTarea:"",idTurno:"",nombre:"",observacion:"",fecha:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Siguiente Turno":"Actualizar Turno"}},watch:{dialog:function(e){e||this.close()}},created:function(){this.listar(),this.consecutivo(),this.listarTurno()},methods:{crearPDF:function(){var e=[{title:"Documento",dataKey:"Documento"},{title:"Nombre",dataKey:"nombre"},{title:"Código",dataKey:"codigo"},{title:"Categoría",dataKey:"categoria"},{title:"Stock",dataKey:"stock"}],t=[];this.clientes.map(function(e){t.push({nombre:e.nombre,codigo:e.codigo,categoria:e.categoria,stock:e.stock})});var a=new xt.a("p","pt");a.autoTable(e,t,{margin:{top:60},addPageContent:function(e){a.text("Listado de Artículos",40,30)}}),a.save("Clientes.pdf")},listar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/Tareas/Listar",a).then(function(t){e.tareas=t.data}).catch(function(e){console.log(e)})},listarTurno:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Turno/Listar",i).then(function(a){t=a.data,t.map(function(t){e.turnos.push({text:t.nombre,value:t.idTurno})})}).catch(function(e){console.log(e)})},editItem:function(e){this.idTareas=e.idTareas,this.nombre=e.nombre,this.fecha=e.fecha,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.idTareas="",this.idTarea="",this.observacion="",this.fecha="",this.editedIndex=-1},guardar:function(){var e={Authorization:"Bearer "+this.$store.state.token},t={headers:e};if(this.editedIndex>-1){var a=this;me.a.put("api/Tareas/Actualizar",{idTareas:a.idTareas,observacion:a.observacion},t).then(function(e){a.close(),a.listar(),a.limpiar()}).catch(function(e){console.log(e)})}else{var i=this;me.a.post("api/Tareas/CrearTurnos",{idTurno:i.idTurno},t).then(function(e){i.NewTurn(),i.close(),i.listar(),i.limpiar()}).catch(function(e){console.log(e)})}},NewTurn:function(){var e={Authorization:"Bearer "+this.$store.state.token},t={headers:e},a=this;me.a.put("api/Tareas/AbrirTurno",{idTurno:a.idTurno,usuario:ke.state.usuario.nombre},t).then(function(e){a.consecutivo()}).catch(function(e){console.log(e)})},CloseTurn:function(){var e={Authorization:"Bearer "+this.$store.state.token},t={headers:e},a=this;me.a.put("api/Tareas/CerrarTurno",{usuario:ke.state.usuario.nombre},t).then(function(e){a.consecutivo(),a.listar()}).catch(function(e){console.log(e)})},consecutivo:function(){var e={Authorization:"Bearer "+this.$store.state.token},t={headers:e},a=this;me.a.get("api/Tareas/ListarConsecutivo",t).then(function(e){1==e.data[0]["idTurno"]?a.NextTurn=2:2==e.data[0]["idTurno"]?a.NextTurn=3:a.NextTurn=1,a.idTurno=a.NextTurn,a.turno=e.data[0]["estado"]}).catch(function(e){console.log(e)})},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<3||this.nombre.length>50)&&this.validaMensaje.push("El nombre debe tener más de 3 caracteres y menos de 50 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(e,t){this.adModal=1,this.adNombre=t.idTareas,this.adId=t.idTareas,1==e?this.adAccion=1:2==e?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.put("api/Tareas/Activar/"+this.adId+"/"+ke.state.usuario.nombre,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})},desactivar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.delete("api/Remitente/Eliminar/"+this.adId,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})}}},Lo=zo,Bo=Object(fe["a"])(Lo,jo,Po,!1,null,null,null),Fo=Bo.exports,Uo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Contratación")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),0==e.verNuevo?a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}):e._e(),0==e.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(t){e.listar()}}},[e._v("Buscar")]):e._e(),a("v-spacer"),0==e.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:e.mostrarNuevo}},[e._v("Nuevo")]):e._e(),0!==e.verNuevo?a("v-btn",{staticClass:"mb-2",attrs:{flat:"flat"},on:{click:e.ocultarNuevo}},[e._v("Cancelar")]):e._e(),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.verArticulos,callback:function(t){e.verArticulos=t},expression:"verArticulos"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Seleccione un Empleado")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Ingrese artículo a buscar"},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.listarArticulo()}},model:{value:e.texto,callback:function(t){e.texto=t},expression:"texto"}}),[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.cabeceraArticulos,items:e.articulos},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.agregarDetalle(t.item)}}},[e._v("add")])],1),a("td",[e._v(e._s(t.item.nombre))]),a("td",[e._v(e._s(t.item.categoria))]),a("td",[e._v(e._s(t.item.descripcion))]),a("td",[e._v(e._s(t.item.stock))]),a("td",[e._v(e._s(t.item.precio_venta))])]}}])},[a("template",{slot:"no-data"},[a("h3",[e._v("No hay artículos para mostrar.")])])],2)]],2)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken",flat:""},on:{click:function(t){e.ocultarArticulos()}}},[e._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.adModal,callback:function(t){e.adModal=t},expression:"adModal"}},[a("v-card",[1==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Activar Item?")]):e._e(),2==e.adAccion?a("v-card-title",{staticClass:"headline"},[e._v("¿Anular Ingreso?")]):e._e(),a("v-card-text",[e._v("\n            Estás a punto de\n            "),1==e.adAccion?a("span",[e._v("Activar")]):e._e(),2==e.adAccion?a("span",[e._v("Anular")]):e._e(),e._v("\n            el ítem "+e._s(e.adNombre)+"\n          ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:e.activarDesactivarCerrar}},[e._v("Cancelar")]),1==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.activar}},[e._v("Activar")]):e._e(),2==e.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:e.desactivar}},[e._v("Anular")]):e._e()],1)],1)],1)],1),0==e.verNuevo?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.ingresos,search:e.search},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.verDetalles(t.item)}}},[e._v("edit")]),[a("v-icon",{attrs:{small:""},on:{click:function(a){e.verPermisos(t.item)}}},[e._v("list")])]],2),a("td",[e._v(e._s(t.item.cedula))]),a("td",[e._v(e._s(t.item.nombre_empleado))]),a("td",[e._v(e._s(t.item.duracion_contrato))]),a("td",[e._v(e._s(t.item.id_cargo))]),a("td",[e._v(e._s(t.item.id_zona))]),a("td",[e._v(e._s(t.item.fecha))]),a("td",["ACTIVO    "==t.item.estado?a("div",[a("span",{staticClass:"blue--text"},[e._v("ACTIVO")])]):a("div",[a("span",{staticClass:"red--text"},[e._v(e._s(t.item.id_estado))])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.listar}},[e._v("Resetear")])],1)],2):e._e(),1==e.verNuevo?a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("div",[a("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-header",[e._l(e.steps,function(t){return[a("v-stepper-step",{key:t+"-step",attrs:{step:t,complete:e.e1>t,editable:-1!==e.editedIndex}},[e._v("\n       "+e._s(e.headersteps[t-1])+"\n        ")]),t!==e.steps?a("v-divider",{key:t}):e._e()]})],2),a("v-stepper-items",e._l(e.steps,function(t){return a("v-stepper-content",{key:t+"-content",attrs:{step:t}},[1==e.e1?a("div",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"Documento"},model:{value:e.cedula,callback:function(t){e.cedula=t},expression:"cedula"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:e.nombre_empleado,callback:function(t){e.nombre_empleado=t},expression:"nombre_empleado"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.areas,label:"Area",autocomplete:""},model:{value:e.id_area,callback:function(t){e.id_area=t},expression:"id_area"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.cargos,label:"Cargo",autocomplete:""},model:{value:e.id_cargo,callback:function(t){e.id_cargo=t},expression:"id_cargo"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"date",label:"Fecha Ingreso"},model:{value:e.fecha_ingreso,callback:function(t){e.fecha_ingreso=t},expression:"fecha_ingreso"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"Duracion de Contrato"},model:{value:e.duracion_contrato,callback:function(t){e.duracion_contrato=t},expression:"duracion_contrato"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"Periodo de Prueba"},model:{value:e.periodo_prueba,callback:function(t){e.periodo_prueba=t},expression:"periodo_prueba"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.select,label:"Proceso Seleccion",autocomplete:""},model:{value:e.proceso_sel,callback:function(t){e.proceso_sel=t},expression:"proceso_sel"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.select,label:"Compliance",autocomplete:""},model:{value:e.compliance,callback:function(t){e.compliance=t},expression:"compliance"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.select,label:"visita domiciliaria",autocomplete:""},model:{value:e.visita_dom,callback:function(t){e.visita_dom=t},expression:"visita_dom"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.select,label:"Examen medico",autocomplete:""},model:{value:e.ex_medico,callback:function(t){e.ex_medico=t},expression:"ex_medico"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.select,label:"Poligrafo",autocomplete:""},model:{value:e.poligrafo,callback:function(t){e.poligrafo=t},expression:"poligrafo"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.select,label:"Hoja de Vida",autocomplete:""},model:{value:e.hv,callback:function(t){e.hv=t},expression:"hv"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"text",label:"Licencia"},model:{value:e.licencia,callback:function(t){e.licencia=t},expression:"licencia"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.select,label:"Certificado Academico",autocomplete:""},model:{value:e.cer_academica,callback:function(t){e.cer_academica=t},expression:"cer_academica"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.select,label:"Carta Laboral",autocomplete:""},model:{value:e.car_laboral,callback:function(t){e.car_laboral=t},expression:"car_laboral"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.select,label:"Carta Personal",autocomplete:""},model:{value:e.car_personal,callback:function(t){e.car_personal=t},expression:"car_personal"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.epss,label:"EPS",autocomplete:""},model:{value:e.id_eps,callback:function(t){e.id_eps=t},expression:"id_eps"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.afps,label:"AFP",autocomplete:""},model:{value:e.id_afp,callback:function(t){e.id_afp=t},expression:"id_afp"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.afps,label:"ARL",autocomplete:""},model:{value:e.id_arl,callback:function(t){e.id_arl=t},expression:"id_arl"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.select,label:"Fotografias",autocomplete:""},model:{value:e.fotografias,callback:function(t){e.fotografias=t},expression:"fotografias"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.select,label:"Certificado del Banco",autocomplete:""},model:{value:e.cer_banco,callback:function(t){e.cer_banco=t},expression:"cer_banco"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},e._l(e.validaDatospersonales,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})}))],1):e._e(),2==e.e1?a("div",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.select,label:"Grupo sanguineo"},model:{value:e.adress,callback:function(t){e.adress=t},expression:"adress"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.select,label:"Grupo sanguineo"},model:{value:e.ruaf,callback:function(t){e.ruaf=t},expression:"ruaf"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.select,label:"Grupo sanguineo"},model:{value:e.contrato,callback:function(t){e.contrato=t},expression:"contrato"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.select,label:"Grupo sanguineo"},model:{value:e.clausulas_adicionales,callback:function(t){e.clausulas_adicionales=t},expression:"clausulas_adicionales"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.select,label:"Grupo sanguineo"},model:{value:e.anexos_contrato,callback:function(t){e.anexos_contrato=t},expression:"anexos_contrato"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.select,label:"Grupo sanguineo"},model:{value:e.politicas,callback:function(t){e.politicas=t},expression:"politicas"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.select,label:"Grupo sanguineo"},model:{value:e.man_funciones,callback:function(t){e.man_funciones=t},expression:"man_funciones"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.select,label:"Grupo sanguineo"},model:{value:e.carnet,callback:function(t){e.carnet=t},expression:"carnet"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.select,label:"Grupo sanguineo"},model:{value:e.dotacion,callback:function(t){e.dotacion=t},expression:"dotacion"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},e._l(e.validaDatosEstudio,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})}))],1):e._e(),3==e.e1?a("div",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.empresas,label:"Empresa"},model:{value:e.empresa,callback:function(t){e.empresa=t},expression:"empresa"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-autocomplete",{attrs:{items:e.zonas,label:"Regional",autocomplete:""},model:{value:e.id_zona,callback:function(t){e.id_zona=t},expression:"id_zona"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.sedes,label:"Sede"},model:{value:e.sede,callback:function(t){e.sede=t},expression:"sede"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.dependencias,label:"Dependencia"},model:{value:e.id_dependencia,callback:function(t){e.id_dependencia=t},expression:"id_dependencia"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.jornadas,label:"Turno"},model:{value:e.jornada,callback:function(t){e.jornada=t},expression:"jornada"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:35==e.id_cargo,expression:"id_cargo == 35"}],attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.tiposconductor,label:"Tipo Conductor"},model:{value:e.id_tipoconductor,callback:function(t){e.id_tipoconductor=t},expression:"id_tipoconductor"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:35==e.id_cargo,expression:"id_cargo == 35"}],attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{items:e.jornadas,label:"Placa Vehiculo"},model:{value:e.placa_operativa,callback:function(t){e.placa_operativa=t},expression:"placa_operativa"}})],1),a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("v-select",{attrs:{items:e.select,label:"Recibe Dotacion"},model:{value:e.recibedotacion,callback:function(t){e.recibedotacion=t},expression:"recibedotacion"}})],1),a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("v-select",{directives:[{name:"show",rawName:"v-show",value:"S"==e.recibedotacion,expression:"recibedotacion == 'S'"}],attrs:{items:e.calzados,label:"Talla Calzado"},model:{value:e.talla_bota,callback:function(t){e.talla_bota=t},expression:"talla_bota"}})],1),a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("v-select",{directives:[{name:"show",rawName:"v-show",value:"S"==e.recibedotacion,expression:"recibedotacion == 'S'"}],attrs:{items:e.camisas,label:"Talla Camisa"},model:{value:e.talla_camisa,callback:function(t){e.talla_camisa=t},expression:"talla_camisa"}})],1),a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("v-select",{directives:[{name:"show",rawName:"v-show",value:"S"==e.recibedotacion,expression:"recibedotacion == 'S'"}],attrs:{items:e.pantalones,label:"Talla Pantalon"},model:{value:e.talla_pantalon,callback:function(t){e.talla_pantalon=t},expression:"talla_pantalon"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},e._l(e.validaDatosDatosGenerales,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})}))],1):e._e(),4==e.e1?a("div",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:2===e.id_estado_civil||3===e.id_estado_civil,expression:"id_estado_civil === 2 || id_estado_civil === 3"}],attrs:{type:"number",label:"Documento Conyuge"},model:{value:e.cedulaconyuge,callback:function(t){e.cedulaconyuge=t},expression:"cedulaconyuge"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:2===e.id_estado_civil||3===e.id_estado_civil,expression:"id_estado_civil === 2 || id_estado_civil === 3"}],attrs:{label:"Nombre Conyuge"},model:{value:e.nombreconyuge,callback:function(t){e.nombreconyuge=t},expression:"nombreconyuge"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:2===e.id_estado_civil||3===e.id_estado_civil,expression:"id_estado_civil === 2 || id_estado_civil === 3"}],attrs:{type:"date",label:"Fecha de nacimiento"},model:{value:e.fechaconyuge,callback:function(t){e.fechaconyuge=t},expression:"fechaconyuge"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{directives:[{name:"show",rawName:"v-show",value:2===e.id_estado_civil||3===e.id_estado_civil,expression:"id_estado_civil === 2 || id_estado_civil === 3"}],attrs:{items:e.academicos,label:"Nivel Academico"},model:{value:e.id_nivelacademicoconyuge,callback:function(t){e.id_nivelacademicoconyuge=t},expression:"id_nivelacademicoconyuge"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{directives:[{name:"show",rawName:"v-show",value:2===e.id_estado_civil||3===e.id_estado_civil,expression:"id_estado_civil === 2 || id_estado_civil === 3"}],attrs:{items:e.select,label:"Labora"},model:{value:e.laboraconyuge,callback:function(t){e.laboraconyuge=t},expression:"laboraconyuge"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},e._l(e.validaDatosConyuge,function(t){return a("div",{key:t,domProps:{textContent:e._s(t)}})}))],1)],1):e._e(),5==e.e1?a("div",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.tipodocumentodependientes,label:"Tipo Documento"},model:{value:e.tipodocumentodependiente,callback:function(t){e.tipodocumentodependiente=t},expression:"tipodocumentodependiente"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"Documento"},model:{value:e.documentodependiente,callback:function(t){e.documentodependiente=t},expression:"documentodependiente"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:e.nombredependiente,callback:function(t){e.nombredependiente=t},expression:"nombredependiente"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.parentescodependientes,label:"Parentesco"},model:{value:e.parentescodependiente,callback:function(t){e.parentescodependiente=t},expression:"parentescodependiente"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"date",label:"Fecha Nacimiento"},model:{value:e.fechadependiente,callback:function(t){e.fechadependiente=t},expression:"fechadependiente"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:e.sexos,label:"Sexo"},model:{value:e.sexodependiente,callback:function(t){e.sexodependiente=t},expression:"sexodependiente"}})],1),a("v-flex",[a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.agregarDetalle()}}},[e._v("Adicionar")]),a("p"),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.cabeceraArticulos,items:e.detalles},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.eliminarDetalle(e.detalles,t.item)}}},[e._v("delete")])],1),a("td",[e._v(e._s(t.item.tipo_doc))]),a("td",[e._v(e._s(t.item.id_dependente))]),a("td",[e._v(e._s(t.item.nombre))]),a("td",[e._v(e._s(t.item.parentesco))]),a("td",[e._v(e._s(t.item.fec_ncto))]),a("td",[e._v(e._s(t.item.sexo))])]}}])},[a("template",{slot:"no-data"},[a("h3",[e._v("No hay Dependientes para mostrar.")])])],2)],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},e._l(e.validaMensaje,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})})),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("div",{staticClass:"red--text",domProps:{textContent:e._s(e.errorArticulo)}})])],1)],1):e._e(),6==e.e1?a("div",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"",md3:"",lg3:"",xl3:""}},[a("v-select",{attrs:{items:e.tiposcontactos,label:"Tipo Contacto"},model:{value:e.tipocontacto,callback:function(t){e.tipocontacto=t},expression:"tipocontacto"}})],1),a("v-flex",{attrs:{xs12:"",sm3:"",md3:"",lg3:"",xl3:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:e.nombrecontacto,callback:function(t){e.nombrecontacto=t},expression:"nombrecontacto"}})],1),a("v-flex",{attrs:{xs12:"",sm3:"",md3:"",lg3:"",xl3:""}},[a("v-text-field",{attrs:{type:"number",label:"Celular"},model:{value:e.celular_contacto,callback:function(t){e.celular_contacto=t},expression:"celular_contacto"}})],1),a("v-flex",{attrs:{xs12:"",sm3:"",md3:"",lg3:"",xl3:""}},[a("v-text-field",{attrs:{type:"number",label:"Telefono Fijo"},model:{value:e.fijo_contacto,callback:function(t){e.fijo_contacto=t},expression:"fijo_contacto"}})],1),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.agregarContacto()}}},[e._v("Adicionar")]),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("p"),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.cabeceraContactos,items:e.contactos},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){e.eliminarDetalle(e.contactos,t.item)}}},[e._v("delete")])],1),a("td",[e._v(e._s(t.item.tipo_contacto))]),a("td",[e._v(e._s(t.item.nombre_empleado))]),a("td",[e._v(e._s(t.item.celular_contacto))]),a("td",[e._v(e._s(t.item.fijo_contacto))])]}}])},[a("template",{slot:"no-data"},[a("h3",[e._v("No hay Contactos para mostrar.")])])],2)],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},e._l(e.validaMensaje,function(t){return a("div",{key:t,staticClass:"red--text",domProps:{textContent:e._s(t)}})})),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("div",{staticClass:"red--text",domProps:{textContent:e._s(e.errorArticulo)}})])],1)],1):e._e(),a("p"),1==t?a("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(t){return e.guardar(t)}}},[e._v("Guardar")]):e._e()],1)}))],1)],1)]):e._e(),3==e.verNuevo?a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[[a("v-card",{staticClass:"mt-4 mx-auto",attrs:{width:"350",height:"200"}},[a("v-card-text",{staticClass:"pt-0"},[a("div",{staticClass:"title font-weight-light mb-2"},[e._v("NOMINA")]),a("div",{staticClass:"subheading font-weight-light grey--text"},[e._v("Cantidad de Permisos")]),a("v-divider",{staticClass:"my-2"}),a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("\n                              mdi-clock\n                            ")]),a("p",{staticClass:"text-lg-center font-weight-light grey--text",staticStyle:{"font-size":"70px"}},[e._v(e._s(e.nomina))])],1)],1)],[a("v-card",{staticClass:"mt-4 mx-auto",attrs:{width:"350",height:"200"}},[a("v-card-text",{staticClass:"pt-0"},[a("div",{staticClass:"title font-weight-light mb-2"},[e._v("VACACIONES")]),a("div",{staticClass:"subheading font-weight-light grey--text"},[e._v("Cantidad de Permisos")]),a("v-divider",{staticClass:"my-2"}),a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("\n                              mdi-clock\n                            ")]),a("p",{staticClass:"text-lg-center font-weight-light grey--text",staticStyle:{"font-size":"70px"}},[e._v(e._s(e.vacaciones))])],1)],1)],[a("v-card",{staticClass:"mt-4 mx-auto",attrs:{width:"350",height:"200"}},[a("v-card-text",{staticClass:"pt-0"},[a("div",{staticClass:"title font-weight-light mb-2"},[e._v("REMUNERADO")]),a("div",{staticClass:"subheading font-weight-light grey--text"},[e._v("Cantidad de Permisos")]),a("v-divider",{staticClass:"my-2"}),a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("\n                              mdi-clock\n                            ")]),a("p",{staticClass:"text-lg-center font-weight-light grey--text",staticStyle:{"font-size":"70px"}},[e._v(e._s(e.remunerado))])],1)],1)],[a("v-card",{staticClass:"mt-4 mx-auto",attrs:{width:"350",height:"200"}},[a("v-card-text",{staticClass:"pt-0"},[a("div",{staticClass:"title font-weight-light mb-2"},[e._v("COMPENSADO")]),a("div",{staticClass:"subheading font-weight-light grey--text"},[e._v("Cantidad de Permisos")]),a("v-divider",{staticClass:"my-2"}),a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("\n                              mdi-clock\n                            ")]),a("p",{staticClass:"text-lg-center font-weight-light grey--text",staticStyle:{"font-size":"70px"}},[e._v(e._s(e.compensado))])],1)],1)],a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(t){e.ocultarNuevo()}}},[e._v("Cancelar")])],1)],2)],1):e._e()],1)],1)},Vo=[];function Go(e,t,a,i,o,s,n){try{var r=e[s](n),l=r.value}catch(c){return void a(c)}r.done?t(l):Promise.resolve(l).then(i,o)}function Ho(e){return function(){var t=this,a=arguments;return new Promise(function(i,o){var s=e.apply(t,a);function n(e){Go(s,i,o,n,r,"next",e)}function r(e){Go(s,i,o,n,r,"throw",e)}n(void 0)})}}var qo={data:function(){return{ingresos:[],dialog:!1,headers:[{text:"Opciones",value:"id_empleado",sortable:!1},{text:"CEDULA",value:"id_empleado"},{text:"NOMBRE",value:"nombre_empleado"},{text:"MUNICIPO",value:"municipio"},{text:"CARGO",value:"cargo",sortable:!1},{text:"ZONA",value:"zona",sortable:!1},{text:"FECHA",value:"fec_ingreso",sortable:!1},{text:"Estado",value:"estado",sortable:!1}],cabeceraDetalles:[{text:"Borrar",value:"borrar",sortable:!1},{text:"Artículo",value:"articulo",sortable:!1},{text:"Cantidad",value:"cantidad",sortable:!1},{text:"Precio",value:"precio",sortable:!1},{text:"Subtotal",value:"subtotal",sortable:!1}],cabeceraContactos:[{text:"Seleccionar",value:"seleccionar",sortable:!1},{text:"Tipo Contacto",value:"tipo_contacto",sortable:!1},{text:"Nombre empleado",value:"nombre_empleado",sortable:!1},{text:"Celular Contacto",value:"celular_contacto",sortable:!1},{text:"Fijo Contacto",value:"fijo_contacto",sortable:!1}],detalles:[],duracion_contrato:"",periodo_prueba:"",proceso_sel:"",compliance:"",visita_dom:"",ex_medico:"",poligrafo:"",hv:"",licencia:"",cer_academica:"",car_laboral:"",car_personal:"",id_arl:"",fotografias:"",cer_banco:"",search:"",id:"",cedula:"",nombre_empleado:"",fecha_ingreso:"",grupo_sanguineo:"",grupo_sanguineos:[{text:"A+",value:"A+",sortable:!1},{text:"A-",value:"B-",sortable:!1},{text:"B+",value:"B+",sortable:!1},{text:"B-",value:"B-",sortable:!1},{text:"O+",value:"O+",sortable:!1},{text:"O-",value:"O-",sortable:!1},{text:"AB+",value:"AB+",sortable:!1},{text:"AB-",value:"AB-",sortable:!1}],empresa:"1",empresas:[{text:"TRANSPORTADORA LA PRENSA DEL VALLE S.A.S",value:890301067,sortable:!1},{text:"BIENES Y SERVICIOS SOHI",value:900764824,sortable:!1},{text:"INVERSIONES TROHIN SAS",value:900774280,sortable:!1},{text:"SONO CAPITAL SAS",value:900776330,sortable:!1},{text:"TRANSPORTADORA DE CARGA HD EXPRESS",value:900071097,sortable:!1},{text:"TERCEROS",value:0,sortable:!1}],id_cargo:"",cargos:[],id_eps:"",epss:[],id_afp:"",afps:[],recibedotacion:"",select:[{text:"SI",value:!0,sortable:!1},{text:"NO",value:!1,sortable:!1}],dotacion:[],id_nivelacademico:"",academicos:[{text:"PRIMARIA",value:1,sortable:!1},{text:"SECUNDARIA",value:2,sortable:!1},{text:"TECNICO",value:3,sortable:!1},{text:"TECNOLOGO",value:4,sortable:!1},{text:"PROFESIONAL",value:5,sortable:!1},{text:"SIN DEFINIR",value:6,sortable:!1}],talla_bota:"",calzados:[{text:"35",value:"35",sortable:!1},{text:"36",value:"36",sortable:!1},{text:"37",value:"37",sortable:!1},{text:"38",value:"38",sortable:!1},{text:"39",value:"39",sortable:!1},{text:"40",value:"40",sortable:!1},{text:"41",value:"41",sortable:!1},{text:"42",value:"42",sortable:!1},{text:"43",value:"43",sortable:!1},{text:"44",value:"44",sortable:!1}],talla_camisa:"",camisas:[{text:"XS",value:"XS",sortable:!1},{text:"S",value:"S",sortable:!1},{text:"M",value:"M",sortable:!1},{text:"L",value:"L",sortable:!1},{text:"XL",value:"XL",sortable:!1},{text:"XXL",value:"XXL",sortable:!1},{text:"XXXL",value:"XXXL",sortable:!1}],talla_pantalon:"",pantalones:[{text:"8",value:"8",sortable:!1},{text:"10",value:"10",sortable:!1},{text:"12",value:"12",sortable:!1},{text:"14",value:"14",sortable:!1},{text:"16",value:"16",sortable:!1},{text:"18",value:"18",sortable:!1},{text:"28",value:"28",sortable:!1},{text:"30",value:"30",sortable:!1},{text:"32",value:"32",sortable:!1},{text:"34",value:"34",sortable:!1},{text:"36",value:"36",sortable:!1},{text:"38",value:"38",sortable:!1},{text:"40",value:"40",sortable:!1},{text:"44",value:"44",sortable:!1}],id_zona:"",zonas:[{text:"NACIONAL",value:0,sortable:!1},{text:"CALI",value:1,sortable:!1},{text:"PEREIRA",value:2,sortable:!1},{text:"MEDELLIN",value:3,sortable:!1},{text:"PASTO",value:4,sortable:!1},{text:"IBAGUE",value:5,sortable:!1},{text:"NEIVA",value:6,sortable:!1},{text:"POPAYAN",value:7,sortable:!1}],sede:"",sedes:[{text:"POPAYAN",value:1,sortable:!1},{text:"CALI",value:2,sortable:!1},{text:"BUENAVENTURA",value:3,sortable:!1},{text:"PASTO",value:4,sortable:!1},{text:"IPIALES",value:5,sortable:!1},{text:"MANIZALES",value:7,sortable:!1},{text:"ARMENIA",value:8,sortable:!1},{text:"PEREIRA",value:9,sortable:!1},{text:"MEDELLIN",value:10,sortable:!1},{text:"NEIVA",value:11,sortable:!1},{text:"IBAGUE",value:12,sortable:!1}],fec_ncto:"",id_dependencia:"",dependencias:[{text:"ADMINISTRATIVO",value:1,sortable:!1},{text:"OPERACIONES",value:2,sortable:!1},{text:"APOYO",value:3,sortable:!1},{text:"ALMACENAMIENTO",value:4,sortable:!1}],id_area:"",areas:[],errorArticulo:null,cabeceraArticulos:[{text:"Seleccionar",value:"seleccionar",sortable:!1},{text:"Tipo Documento",value:"tipodocumentodependiente",sortable:!1},{text:"Documento",value:"documentodependiente"},{text:"Nombre",value:"nombredependiente"},{text:"Parentesco",value:"parentescodependiente",sortable:!1},{text:"Fecha Nacimiento",value:"fechadependiente",sortable:!1},{text:"Sexo",value:"sexodependiente",sortable:!1}],articulos:[],texto:"",tipodocumentodependiente:"",tipodocumentodependientes:[{text:"REGISTRO CIVIL",value:"NIUP",sortable:!1},{text:"TARJETA DE IDENTIDAD",value:"TI",sortable:!1},{text:"CEDULA DE CIUDADANIA",value:"CC",sortable:!1},{text:"CEDULA EXTANJERA",value:"CE",sortable:!1}],fechaconyuge:"",laboraconyuge:"",cedulaconyuge:"",nombreconyuge:"",id_nivelacademicoconyuge:"",titulo:"",documentodependiente:"",nombredependiente:"",parentescodependiente:"",parentescodependientes:[{text:"PADRE",value:"PADRE",sortable:!1},{text:"MADRE",value:"MADRE",sortable:!1},{text:"HIJO",value:"HIJO",sortable:!1},{text:"HIJA",value:"HIJA",sortable:!1},{text:"HIJASTRO",value:"HIJASTRO",sortable:!1},{text:"HIJASTRA",value:"HIJASTRA",sortable:!1},{text:"ABUELO",value:"ABUELO",sortable:!1},{text:"CONYUGE",value:"CONYUGE",sortable:!1},{text:"HERMANO",value:"HERMANO",sortable:!1},{text:"SOBRINO",value:"SOBRINO",sortable:!1},{text:"TIO",value:"TIO",sortable:!1}],fechadependiente:"",sexodependiente:"",jornada:"",jornadas:[{text:"DIURNO",value:"DIURNO",sortable:!1},{text:"NOCTURNO",value:"NOCTURNO",sortable:!1},{text:"MADRUGON",value:"MADRUGON",sortable:!1},{text:"PARTIDO",value:"PARTIDO",sortable:!1},{text:"SIKA",value:"SIKA",sortable:!1},{text:"ADMINISTRATIVO",value:"ADMINISTRATIVO",sortable:!1},{text:"LOGISTICO",value:"LOGISTICO",sortable:!1},{text:"TEMPORADA",value:"TEMPORADA",sortable:!1}],id_tipoconductor:0,tiposconductor:[{text:"N/A",value:0,sortable:!1},{text:"PATIERO MULERO",value:1,sortable:!1},{text:"REGIONAL",value:3,sortable:!1},{text:"MINIMULA",value:4,sortable:!1},{text:"MULA",value:5,sortable:!1},{text:"SENCILLO",value:6,sortable:!1}],placa_operativa:"N/A",tipocontacto:"",tiposcontactos:[{text:"FAMILIAR",value:"FAMILIAR",sortable:!1},{text:"PERSONALES",value:"PERSONALES",sortable:!1}],contactos:[],nombrecontacto:"",celular_contacto:"",fijo_contacto:"",verArticulos:0,verNuevo:0,editedIndex:-1,valida:0,validaMensaje:[],validaDatospersonales:[],validaDatosEstudio:[],validaDatosDatosGenerales:[],validaDatosConyuge:[],adModal:0,adAccion:0,adNombre:"",adId:"",nomina:0,vacaciones:0,remunerado:0,compensado:0,headersteps:["Datos Personales","Estudios","Datos Generales","Datos Conyuge","Dependientes","Contactos"],e1:1,steps:6,json_fields:{cedula:"id_empleado",Nombre:"nombre_empleado",Empresa:"nit_empresa",Dependencia:"id_dependencia",Cargo:"cargo",Regional:"zona",Area:"area",Subsede:"id_subsede",Municipio:"municipio",Direccion:"direccion",Barrio:"barrio",Comuna:"comuna",Estrato:"estrato",Celular:"celular","Telefono Fijo":"telefono_fijo",Corre:"correo","Fecha Nacimiento":"fec_ncto",Afp:"afp",Eps:"eps","Grupo Sanguineo":"grupo_sanguineo","Fecha Ingreso":"fec_ingreso","Estado Civil":"id_estado_civil","Nivel Academico":"id_nivelacademico","Recibe Dotacion":"recibe_dotacion","Libreta Militar":"libreta_militar",sexo:"sexo","Talla Bota":"talla_bota","Talla Camisa":"talla_camisa","Talla Pantalon":"talla_pantalon","Tipo de Conductor":"id_tipoconductor","Medio de Transporte":"medio_transporte",Placa:"placa_operativa",Jornada:"jornada","Tipo Empleado":"tipo_empleado",Conyuge:"conyuge","Id Conyuge":"cedula_conyuge","Fecha Conyuge":"fec_nctoconyuge","Nivel Academico Conyuge":"id_nivelacademico_conyuge","Labora Conyuge":"labora_conyuge",Estado:"estado"}}},computed:{calcularTotal:function(){for(var e=0,t=0;t<this.detalles.length;t++)e+=this.detalles[t].precio*this.detalles[t].cantidad;return e}},watch:{dialog:function(e){e||this.close()}},created:function(){this.listar()},steps:function(e){this.e1>e&&(this.e1=e)},methods:{Cargar:function(){this.listar()},fetchData:function(){var e=Ho(Ee.a.mark(function e(){var t;return Ee.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("api/categorias/informe");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),startDownload:function(){Se.a.fire({position:"bot-end",type:"success",title:"Procesando datos",showConfirmButton:!1,timer:1e3})},finishDownload:function(){},onInput:function(e){this.steps=parseInt(e)},nextStep:function(e){this.validar(e)||(this.e1=e+1)},backStep:function(e){this.e1=e-1},mostrarNuevo:function(){this.verNuevo=1,this.e1=1,this.selectMunicipio(),this.selectAfp(),this.selectArea(),this.selectEps(),this.selectCargo()},ocultarNuevo:function(){this.verNuevo=0,this.limpiar()},ValidaFecha:function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,i=e.getFullYear()-14;t>31&&(t-=31,a+=1),t=s(t),a=s(a);var o=i+"-"+a+"-"+t;function s(e){return e<10&&(e="0"+e),e}this.fec_ncto>o&&(this.fec_ncto="",Se.a.fire({type:"error",title:"No tiene la edad Adecuada"}))},selectMunicipio:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/ListarMunicipio",i).then(function(a){t=a.data,t.map(function(t){e.municipios.push({text:t.concat_municipio,value:t.id_municipio})})}).catch(function(e){console.log(e)})},selectAfp:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/ListarAfp",i).then(function(a){t=a.data,t.map(function(t){e.afps.push({text:t.desc_afp,value:t.id_afp})})}).catch(function(e){console.log(e)})},selectArea:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/ListarArea",i).then(function(a){t=a.data,t.map(function(t){e.areas.push({text:t.desc_area,value:t.id_area})})}).catch(function(e){console.log(e)})},selectEps:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/ListarEps",i).then(function(a){t=a.data,t.map(function(t){e.epss.push({text:t.desc_eps,value:t.id_eps})})}).catch(function(e){console.log(e)})},selectCargo:function(){var e=this,t=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/ListarCargo",i).then(function(a){t=a.data,t.map(function(t){e.cargos.push({text:t.desc_cargo,value:t.id_cargo})})}).catch(function(e){console.log(e)})},buscarCodigo:function(){var e=this;e.errorArticulo=null;var t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/Articulos/BuscarCodigoIngreso/"+this.codigo,a).then(function(t){e.agregarDetalle(t.data)}).catch(function(t){console.log(t),e.errorArticulo="No existe el artículo"})},listarArticulo:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.get("api/Articulos/ListarIngreso/"+e.texto,a).then(function(t){e.articulos=t.data}).catch(function(e){console.log(e)})},mostrarArticulos:function(){this.verArticulos=1},ocultarArticulos:function(){this.verArticulos=0},agregarDetalle:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.errorArticulo=null,-1!==this.editedIndex){var e=this;me.a.post("api/Categorias/CrearDependiente",{id_empleado:e.id_empleado,tipo_doc:e.tipodocumentodependiente,id_dependente:e.documentodependiente,nombre:e.nombredependiente,parentesco:e.parentescodependiente,fec_ncto:e.fechadependiente,sexo:e.sexodependiente}).then(function(e){}).catch(function(e){console.log(e)})}this.validardependiente()||(this.encuentra(this.documentodependiente)?this.errorArticulo="El Dependiente ya ha sido agregado.":this.detalles.push({tipo_doc:this.tipodocumentodependiente,id_dependente:this.documentodependiente,nombre:this.nombredependiente,parentesco:this.parentescodependiente,fec_ncto:this.fechadependiente,sexo:this.sexodependiente}))},agregarContacto:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.errorArticulo=null,-1!==this.editedIndex){var e=this;me.a.post("api/Categorias/CrearContacto",{id_empleado:e.id_empleado,tipo_contacto:e.tipocontacto,nombre_empleado:e.nombrecontacto,celular_contacto:e.celular_contacto,fijo_contacto:e.fijo_contacto,usuario:e.$store.state.usuario.id_usuario}).then(function(e){}).catch(function(e){console.log(e)})}this.contactos.push({tipo_contacto:this.tipocontacto,nombre_empleado:this.nombrecontacto,celular_contacto:this.celular_contacto,fijo_contacto:this.fijo_contacto})},encuentra:function(e){for(var t=0,a=0;a<this.detalles.length;a++)this.detalles[a].id_dependente==e&&(t=1);return t},eliminarDetalle:function(e,t){var a=e.indexOf(t);-1!==a&&e.splice(a,1)},listar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t},i="";i=e.search?"api/Categorias/ListarFiltroEmpleados/"+e.search:"api/Contrato/Listar",me.a.get(i,a).then(function(t){e.ingresos=t.data}).catch(function(e){console.log(e)})},listarDetalles:function(e){var t=this,a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Ingresos/ListarDetalles/"+e,i).then(function(e){t.detalles=e.data}).catch(function(e){console.log(e)})},listarDependentes:function(e){var t=this,a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/MostrarDependentes/"+e,i).then(function(e){t.detalles=e.data}).catch(function(e){console.log(e)})},listarContactos:function(e){var t=this,a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};me.a.get("api/Categorias/MostrarContactos/"+e,i).then(function(e){t.contactos=e.data}).catch(function(e){console.log(e)})},verDetalles:function(e){this.selectMunicipio(),this.selectAfp(),this.selectArea(),this.selectEps(),this.selectCargo();var t=this;t.e1=2,me.a.get("api/Contrato/Mostrar/"+e.id_contrato,{}).then(function(a){var i=a.data;t.cedula=i.cedula,t.nombre_empleado=i.nombre_empleado,t.fecha_ingreso=i.fecha_ingreso.split("T")[0],console.log(i.fecha_ingreso),t.id_area=i.id_zona,t.id_cargo=i.id_cargo,t.duracion_contrato=i.duracion_contrato,t.periodo_prueba=i.periodo_prueba,t.proceso_sel=i.proceso_sel,t.compliance=i.compliance,t.visita_dom=i.visita_dom,t.ex_medico=i.ex_medico,t.poligrafo=i.poligrafo,t.hv=i.hv,t.licencia=i.licencia,t.cer_academica=i.cer_academica,t.car_laboral=i.car_laboral,t.car_personal=i.car_personal,t.id_eps=i.id_eps,t.id_afp=i.id_afp,t.id_arl=i.id_arl,t.fotografias=i.fotografias,t.cer_banco=i.cer_banco,t.listarDependentes(e.id_empleado),t.listarContactos(e.id_empleado),1!==t.id_estado_civil&&4!==t.id_estado_civil&&5!==t.id_estado_civil||(t.id_nivelacademicoconyuge=6,t.fechaconyuge="1900-01-01",t.cedulaconyuge="0",t.nombreconyuge="N/A",t.validaDatosConyuge.push("No existen datos para Conyuge."))}),this.verNuevo=1,this.editedIndex=1},verPermisos:function(e){var t=this;me.a.get("api/Permisos/Mostrar/"+e.id_empleado,{}).then(function(e){for(var a=e.data.length,i=0,o=0,s=0,n=0,r=0;r<a;r++)"S"==e.data[r].nomina?i+=1:"S"==e.data[r].vacaciones?o+=1:"S"==e.data[r].remunerado?s+=1:"S"==e.data[r].compensado&&(n+=1);t.nomina=i,t.vacaciones=o,t.remunerado=s,t.compensado=n}),this.verNuevo=3},limpiar:function(){this.editedIndex=-1,this.id_empleado="",this.nombre_empleado="",this.fec_ingreso="",this.id_municipio="",this.direccion="",this.barrio="",this.comuna="",this.estrato="",this.celular="",this.telefono_fijo="",this.correo="",this.grupo_sanguineo="",this.id_cargo="",this.id_eps="",this.id_afp="",this.id_estado_civil="",this.id_nivelacademico="",this.sexo="",this.libretamilitar="",this.transporte="",this.talla_bota="",this.talla_camisa="",this.talla_pantalon="",this.id_zona="",this.fec_ncto="",this.id_area="",this.empresa="",this.sede="",this.id_dependencia="",this.jornada="",this.recibedotacion="",this.cedulaconyuge="",this.nombreconyuge="",this.id_nivelacademicoconyuge="",this.fechaconyuge="",this.laboraconyuge="",this.titulo="",this.validaDatospersonales=[],this.validaDatosEstudio=[],this.validaDatosDatosGenerales=[],this.validaDatosConyuge=[]},guardar:function(){var e={Authorization:"Bearer "+this.$store.state.token},t={headers:e};if(this.editedIndex>-1){var a=this;me.a.put("api/Categorias/Actualizar",{id_empleado:a.id_empleado,nombre_empleado:a.nombre_empleado,fec_ingreso:a.fec_ingreso,libreta_militar:a.libretamilitar,id_municipio:a.id_municipio,direccion:a.direccion,barrio:a.barrio,comuna:a.comuna,estrato:a.estrato,celular:a.celular,telefono_fijo:a.telefono_fijo,correo:a.correo,grupo_sanguineo:a.grupo_sanguineo,id_dependencia:a.id_dependencia,id_cargo:a.id_cargo,id_eps:a.id_eps,id_afp:a.id_afp,id_estado_civil:a.id_estado_civil,id_nivelacademico:a.id_nivelacademico,recibe_dotacion:a.recibedotacion,conyuge:a.nombreconyuge,cedula_conyuge:a.cedulaconyuge,sexo:a.sexo,id_zona:a.id_zona,fec_ncto:a.fec_ncto,talla_bota:a.talla_bota,talla_camisa:a.talla_camisa,talla_pantalon:a.talla_pantalon,fec_nctoconyuge:a.fechaconyuge,id_area:a.id_area,id_subsede:a.sede,id_nivelacademico_conyuge:a.id_nivelacademicoconyuge,labora_conyuge:a.laboraconyuge,nit_empresa:a.empresa,id_tipoconductor:a.id_tipoconductor,medio_transporte:a.transporte,placa_operativa:a.placa_operativa,jornada:a.jornada,titulo:a.titulo},t).then(function(e){a.ocultarNuevo(),a.listar(),a.limpiar()}).catch(function(e){console.log(e)})}else{var i=this;me.a.post("api/Contrato/Crear",{cedula:i.cedula,nombre_empleado:i.nombre_empleado,id_cargo:i.cargo,id_zona:i.id_area,fecha_ingreso:i.fecha_ingreso,duracion_contrato:i.duracion_contrato,periodo_prueba:i.periodo_prueba,proceso_sel:i.proceso_sel,compliance:i.compliance,visita_dom:i.visita_dom,ex_medico:i.ex_medico,poligrafo:i.poligrafo,hv:i.hv,licencia:i.licencia,cer_academica:i.cer_academica,car_laboral:i.car_laboral,car_personal:i.car_personal,id_eps:i.id_eps,id_afp:i.id_afp,id_arl:i.id_arl,fotografias:i.fotografias,cer_banco:i.cer_banco},t).then(function(e){i.ocultarNuevo(),i.listar(),i.limpiar()}).catch(function(e){console.log(e)})}},validar:function(e){return this.valida=0,this.validaDatospersonales=[],this.validaDatosEstudio=[],this.validaDatosDatosGenerales=[],1==e?(this.id_empleado||this.validaDatospersonales.push("Ingresar Documento del Empleado."),this.nombre_empleado||this.validaDatospersonales.push("Ingresar el Nombre del Empleado."),this.fec_ingreso||this.validaDatospersonales.push("Ingresar Fecha Ingreso."),this.fec_ncto||this.validaDatospersonales.push("Ingresar Fecha Nacimiento."),this.id_municipio||this.validaDatospersonales.push("Ingresar Municipio."),this.celular||this.validaDatospersonales.push("Ingresar Numero Celular."),this.correo||this.validaDatospersonales.push("Ingresar Correo."),this.direccion||this.validaDatospersonales.push("Ingresar Direccion."),this.barrio||this.validaDatospersonales.push("Ingresar Barrio."),this.comuna||this.validaDatospersonales.push("Ingresar Comuna."),this.id_estado_civil||this.validaDatospersonales.push("Seleccionar Estado Civil."),this.sexo||this.validaDatospersonales.push("Seleccionar Sexo."),this.libretamilitar||this.validaDatospersonales.push("Seleccionar libreta Militar."),this.transporte||this.validaDatospersonales.push("Seleccionar Medio de Transporte."),this.validaDatospersonales.length&&(this.valida=1),this.valida):2==e?(this.id_nivelacademico||this.validaDatosEstudio.push("Seleccionar Nivel Academico."),this.id_eps||this.validaDatosEstudio.push("Seleccionar Eps."),""===this.id_afp&&this.validaDatosEstudio.push("Seleccionar Afp."),this.validaDatosEstudio.length&&(this.valida=1),this.valida):3==e?(this.empresa||this.validaDatosDatosGenerales.push("Seleccionar Empresa."),""===this.id_zona&&this.validaDatosDatosGenerales.push("Seleccionar Regional."),this.sede||this.validaDatosDatosGenerales.push("Seleccionar Sede."),this.id_dependencia||this.validaDatosDatosGenerales.push("Seleccionar Dependencia."),this.id_area||this.validaDatosDatosGenerales.push("Seleccionar Area."),this.id_cargo||this.validaDatosDatosGenerales.push("Seleccionar Cargo."),this.jornada||this.validaDatosDatosGenerales.push("Seleccionar Turno."),this.recibedotacion||this.validaDatosDatosGenerales.push("Seleccionar Si recibe dotacion."),this.validaDatosDatosGenerales.length&&(this.valida=1),1!==this.id_estado_civil&&4!==this.id_estado_civil&&5!==this.id_estado_civil||(this.id_nivelacademicoconyuge=6,this.fechaconyuge="1900-01-01",this.cedulaconyuge="0",this.nombreconyuge="N/A",this.validaDatosConyuge.push("No existen datos para Conyuge.")),this.valida):void 0},validardependiente:function(){return this.valida=0,this.validaMensaje=[],this.tipodocumentodependiente||this.validaMensaje.push("Seleccione un Tipo de documento."),this.documentodependiente||this.validaMensaje.push("Ingrese Documento."),this.nombredependiente||this.validaMensaje.push("Ingrese Nombre."),this.parentescodependiente||this.validaMensaje.push("Ingrese Parentesco."),this.fechadependiente||this.validaMensaje.push("Ingrese fecha."),this.sexodependiente||this.validaMensaje.push("Seleccione el Sexo."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(e,t){this.adModal=1,this.adNombre=t.num_comprobante,this.adId=t.idingreso,1==e?this.adAccion=1:2==e?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},desactivar:function(){var e=this,t={Authorization:"Bearer "+this.$store.state.token},a={headers:t};me.a.put("api/Ingresos/Anular/"+this.adId,{},a).then(function(t){e.adModal=0,e.adAccion=0,e.adNombre="",e.adId="",e.listar()}).catch(function(e){console.log(e)})}}},Jo=qo,Xo=Object(fe["a"])(Jo,Uo,Vo,!1,null,null,null),$o=Xo.exports;i["default"].use(_e["a"]);var Ko=new _e["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:Ie["default"]},{path:"/Contrataciones",name:"Contrataciones",component:$o},{path:"/EntregaTurno",name:"EntregaTurno",component:Fo},{path:"/Turno",name:"Turno",component:Ro},{path:"/Tarea",name:"Tarea",component:Eo},{path:"/Correspondencia",name:"Correspondencia",component:yi},{path:"/EntregaRemesa",name:"EntregaRemesa",component:Ao},{path:"/Encuesta",name:"Encuesta",component:fo},{path:"/RegistroVisitantes",name:"RegistroVisitantes",component:co},{path:"/Visitantes",name:"Visitantes",component:Wi},{path:"/Contactos",name:"Contactos",component:Fi},{path:"/Birthday",name:"Birthday",component:Ji},{path:"/Notifications",name:"Notifications",component:li},{path:"/categorias",name:"categorias",component:ze},{path:"/permisos",name:"permisos",component:Ct},{path:"/categoriascompras",name:"categoriascompras",component:Ge},{path:"/ingresos",name:"ingresos",component:Nt},{path:"/articulos",name:"articulos",component:Mt},{path:"/proveedores",name:"proveedores",component:Bt},{path:"/salidas",name:"salidas",component:Xt},{path:"/Clientes",name:"Clientes",component:Qt},{path:"/motivos",name:"motivos",component:sa},{path:"/extensiones",name:"extensiones",component:ua},{path:"/registros",name:"registros",component:Aa},{path:"/requsicion",name:"requisicion",component:wa},{path:"/InformeEmpleado",name:"InformeEmpleado",component:Ba},{path:"/InformeCallCenter",name:"InformeCallCenter",component:$a},{path:"/InformeEncuesta",name:"InformeEncuesta",component:ai},{path:"/Remitente",name:"Remitente",component:pi},{path:"/Documentos",name:"Documentos",component:Ti},{path:"/roles",name:"roles",component:Ke},{path:"/usuarios",name:"usuarios",component:tt},{path:"/UsuarioPersonal",name:"UsuarioPersonal",component:rt},{path:"/login",name:"login",component:mt}]}),Yo=Ko,Zo=a("2169");i["default"].use(Zo["a"]),i["default"].config.productionTip=!1,me.a.defaults.baseURL="http://192.168.93.160",new i["default"]({router:Yo,store:ke,render:function(e){return e(be)}}).$mount("#app")},"75cc":function(e,t,a){},7716:function(e,t,a){"use strict";var i=a("7719"),o=a.n(i);o.a},7719:function(e,t,a){},"7c07":function(e,t,a){e.exports=a.p+"img/logo-blanco-lineal.8f4a01ea.png"},"962a":function(e,t,a){e.exports=a.p+"img/TP2.86ea2d72.jpg"},"9f0d":function(e,t,a){var i={"./About":"f820","./About.vue":"f820","./Calidad.jpg":"0e1e","./Home":"bb51","./Home.vue":"bb51","./TP0.jpg":"0665","./TP1.jpg":"0710","./TP2.jpg":"962a","./TP3.jpg":"bd12","./daruma.jpg":"ef78","./hdl.jpg":"19e5","./intranet.png":"3421"};function o(e){var t=s(e);return a(t)}function s(e){var t=i[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}o.keys=function(){return Object.keys(i)},o.resolve=s,e.exports=o,o.id="9f0d"},b130:function(e,t,a){"use strict";var i=a("75cc"),o=a.n(i);o.a},bb51:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-slide-y-transition",{attrs:{mode:"out-in"}},[i("v-layout",{attrs:{column:"","align-center":""}},[[i("v-carousel",{attrs:{"hide-delimiters":""}},e._l(e.items,function(e,t){return i("v-carousel-item",{key:t,attrs:{src:a("9f0d")("."+e.src)}})}))],i("v-card",{attrs:{width:"90%"}},[i("v-container",{attrs:{fluid:"","grid-list-xl":""}},[i("v-layout",{attrs:{row:"",wrap:""}},e._l(e.cards,function(t){var o;return i("v-flex",e._b({key:t.title,attrs:{xs12:""}},"v-flex",(o={},o["sm"+t.flex]=!0,o),!1),[i("v-card",[i("v-img",{attrs:{src:a("9f0d")("."+t.src),height:"200px"}}),i("v-card-title",{attrs:{"primary-title":""}},[i("div",[i("div",{staticClass:"headline",domProps:{textContent:e._s(t.title)}}),i("span",{staticClass:"grey--text"},[e._v("Para mas infomacion click aqui.")])])]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.show=!t.show}}},[i("v-icon",[e._v(e._s(e.show?"keyboard_arrow_down":"keyboard_arrow_up"))])],1)],1),i("v-slide-y-transition",[i("v-card-text",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"card.show"}],domProps:{innerHTML:e._s(t.text)}})],1)],1)],1)}))],1)],1)],2)],1)},o=[],s={data:function(){return{show:!1,cards:[{title:"Actualizacion Tp.Net",src:"/intranet.png",flex:3,text:"<div><div><span>Actualizacion&nbsp;de la&nbsp;version&nbsp;1.1.9&nbsp;</span></div></div><ol><li>Actualizacion pagina de inicio</li><li>Actualizacion y optimizacion login</li><li>Optimizacion modulo empleados</li><li>Optimizacion modulo permisos</li><li>Optimizacion modulo registros</li><li>Optimizacion modulo clientes</li><li>Desarrolla modulo call center - informe registros</li><li>Desarrollo de modulo de contactos</li><li>Desarrollo de modulo de cumplea&ntilde;os</li></ol>",show:!1},{title:"Novedades Daruma",src:"/daruma.jpg",flex:3,text:"",show:!1},{title:"Transprensa Alianzas",src:"/hdl.jpg",flex:3,text:"",show:!1},{title:"Transprensa",src:"/TP0.jpg",flex:3,text:"",show:!1}],items:[{src:"/TP0.jpg"},{src:"/TP1.jpg"},{src:"/TP2.jpg"},{src:"/TP3.jpg"},{src:"/Calidad.jpg"}]}}},n=s,r=(a("7716"),a("2877")),l=Object(r["a"])(n,i,o,!1,null,"45bb0512",null);t["default"]=l.exports},bd12:function(e,t,a){e.exports=a.p+"img/TP3.adc0c132.jpg"},ef78:function(e,t,a){e.exports=a.p+"img/daruma.063ced53.jpg"},f820:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"about"},[a("h1",[e._v("This is an about page")])])}],s=a("2877"),n={},r=Object(s["a"])(n,i,o,!1,null,null,null);t["default"]=r.exports}});
//# sourceMappingURL=app.c50b810c.js.map